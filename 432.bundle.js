"use strict";(self.webpackChunknetsim=self.webpackChunknetsim||[]).push([[432],{4732:(e,t,r)=>{var i=r(8507);class n{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this._cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:i}=this._resizeTo;e=r,t=i}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}n.extension=i.Ag.Application;var s=r(4458),a=r(7309);class o{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,s.d.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?a.R.shared:new a.R,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}o.extension=i.Ag.Application,i.XO.add(n),i.XO.add(o)},9935:(e,t,r)=>{var i=r(8507);class n{constructor(e){this._renderer=e}push(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:t,filterEffect:e})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){"pushFilter"===e.action?this._renderer.filter.push(e):"popFilter"===e.action&&this._renderer.filter.pop()}destroy(){this._renderer=null}}n.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"filter"};var s=r(9313),a=r(5101),o=r(3513),l=r(6011),h=r(5811),d=r(4492),u=r(2437),c=r(5099),p=r(9636),f=r(2208);const g=new s.u;function _(e,t){return t.clear(),m(e,t),t.isValid||t.set(0,0,0,0),e.renderGroup?t.applyMatrix(e.renderGroup.localTransform):t.applyMatrix(e.parentRenderGroup.worldTransform),t}function m(e,t){if(7!==e.localDisplayStatus||!e.measurable)return;const r=!!e.effects.length;let i=t;if((e.renderGroup||r)&&(i=f.o.get().clear()),e.boundsArea)t.addRect(e.boundsArea,e.worldTransform);else{if(e.renderPipeId){const t=e.bounds;i.addFrame(t.minX,t.minY,t.maxX,t.maxY,e.groupTransform)}const t=e.children;for(let e=0;e<t.length;e++)m(t[e],i)}if(r){let r=!1;for(let t=0;t<e.effects.length;t++)e.effects[t].addBounds&&(r||(r=!0,i.applyMatrix(e.parentRenderGroup.worldTransform)),e.effects[t].addBounds(i,!0));r&&(i.applyMatrix(e.parentRenderGroup.worldTransform.copyTo(g).invert()),t.addBounds(i,e.relativeGroupTransform)),t.addBounds(i),f.o.return(i)}else e.renderGroup&&(t.addBounds(i,e.relativeGroupTransform),f.o.return(i))}var x=r(268);const y=new l.V({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class b{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new h.k({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new o.T({}),this.renderer=e}get activeBackTexture(){return this._activeFilterData?.backTexture}push(e){const t=this.renderer,r=e.filterEffect.filters;this._filterStack[this._filterStackIndex]||(this._filterStack[this._filterStackIndex]=this._getFilterData());const i=this._filterStack[this._filterStackIndex];if(this._filterStackIndex++,0===r.length)return void(i.skip=!0);const n=i.bounds;e.renderables?function(e,t){t.clear();const r=t.matrix;for(let r=0;r<e.length;r++){const i=e[r];i.globalDisplayStatus<7||(t.matrix=i.worldTransform,i.addBounds(t))}t.matrix=r}(e.renderables,n):e.filterEffect.filterArea?(n.clear(),n.addRect(e.filterEffect.filterArea),n.applyMatrix(e.container.worldTransform)):_(e.container,n);const s=t.renderTarget.renderTarget.colorTexture.source;let a=1/0,o=0,l=!0,h=!1,d=!1;for(let e=0;e<r.length;e++){const i=r[e];if(a=Math.min(a,"inherit"===i.resolution?s._resolution:i.resolution),o+=i.padding,"off"===i.antialias?l=!1:"inherit"===i.antialias&&l&&(l=s.antialias),!(i.compatibleRenderers&t.type)){d=!1;break}if(i.blendRequired&&!(t.backBuffer?.useBackBuffer??1)){(0,x.R)("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),d=!1;break}d=i.enabled||d,h=h||i.blendRequired}if(!d)return void(i.skip=!0);const c=t.renderTarget.rootViewPort;n.scale(a).fitBounds(0,c.width,0,c.height).ceil().scale(1/a).pad(0|o),n.isPositive?(i.skip=!1,i.bounds=n,i.blendRequired=h,i.container=e.container,i.filterEffect=e.filterEffect,i.previousRenderSurface=t.renderTarget.renderSurface,i.inputTexture=u.W.getOptimalTexture(n.width,n.height,a,l),t.renderTarget.bind(i.inputTexture,!0),t.globalUniforms.push({offset:n})):i.skip=!0}pop(){const e=this.renderer;this._filterStackIndex--;const t=this._filterStack[this._filterStackIndex];if(t.skip)return;this._activeFilterData=t;const r=t.inputTexture,i=t.bounds;let n=d.g.EMPTY;if(e.renderTarget.finishRenderPass(),t.blendRequired){const r=this._filterStackIndex>0?this._filterStack[this._filterStackIndex-1].bounds:null,s=e.renderTarget.getRenderTarget(t.previousRenderSurface);n=this.getBackTexture(s,i,r)}t.backTexture=n;const s=t.filterEffect.filters;if(this._globalFilterBindGroup.setResource(r.source.style,2),this._globalFilterBindGroup.setResource(n.source,3),e.globalUniforms.pop(),1===s.length)s[0].apply(this,r,t.previousRenderSurface,!1),u.W.returnTexture(r);else{let e=t.inputTexture,r=u.W.getOptimalTexture(i.width,i.height,e.source._resolution,!1),n=0;for(n=0;n<s.length-1;++n){s[n].apply(this,e,r,!0);const t=e;e=r,r=t}s[n].apply(this,e,t.previousRenderSurface,!1),u.W.returnTexture(e),u.W.returnTexture(r)}t.blendRequired&&u.W.returnTexture(n)}getBackTexture(e,t,r){const i=e.colorTexture.source._resolution,n=u.W.getOptimalTexture(t.width,t.height,i,!1);let s=t.minX,a=t.minY;r&&(s-=r.minX,a-=r.minY),s=Math.floor(s*i),a=Math.floor(a*i);const o=Math.ceil(t.width*i),l=Math.ceil(t.height*i);return this.renderer.renderTarget.copyToTexture(e,n,{x:s,y:a},{width:o,height:l},{x:0,y:0}),n}applyFilter(e,t,r,i){const n=this.renderer,s=this._filterStack[this._filterStackIndex],o=s.bounds,l=a.b.shared,h=s.previousRenderSurface===r;let u=this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution,p=this._filterStackIndex-1;for(;p>0&&this._filterStack[p].skip;)--p;p>0&&(u=this._filterStack[p].inputTexture.source._resolution);const f=this._filterGlobalUniforms,g=f.uniforms,_=g.uOutputFrame,m=g.uInputSize,x=g.uInputPixel,b=g.uInputClamp,S=g.uGlobalFrame,w=g.uOutputTexture;if(h){let e=this._filterStackIndex;for(;e>0;){e--;const t=this._filterStack[this._filterStackIndex-1];if(!t.skip){l.x=t.bounds.minX,l.y=t.bounds.minY;break}}_[0]=o.minX-l.x,_[1]=o.minY-l.y}else _[0]=0,_[1]=0;_[2]=t.frame.width,_[3]=t.frame.height,m[0]=t.source.width,m[1]=t.source.height,m[2]=1/m[0],m[3]=1/m[1],x[0]=t.source.pixelWidth,x[1]=t.source.pixelHeight,x[2]=1/x[0],x[3]=1/x[1],b[0]=.5*x[2],b[1]=.5*x[3],b[2]=t.frame.width*m[2]-.5*x[2],b[3]=t.frame.height*m[3]-.5*x[3];const T=this.renderer.renderTarget.rootRenderTarget.colorTexture;S[0]=l.x*u,S[1]=l.y*u,S[2]=T.source.width*u,S[3]=T.source.height*u;const v=this.renderer.renderTarget.getRenderTarget(r);if(n.renderTarget.bind(r,!!i),r instanceof d.g?(w[0]=r.frame.width,w[1]=r.frame.height):(w[0]=v.width,w[1]=v.height),w[2]=v.isRoot?-1:1,f.update(),n.renderPipes.uniformBatch){const e=n.renderPipes.uniformBatch.getUboResource(f);this._globalFilterBindGroup.setResource(e,0)}else this._globalFilterBindGroup.setResource(f,0);this._globalFilterBindGroup.setResource(t.source,1),this._globalFilterBindGroup.setResource(t.source.style,2),e.groups[0]=this._globalFilterBindGroup,n.encoder.draw({geometry:y,shader:e,state:e._state,topology:"triangle-list"}),n.type===c.W.WEBGL&&n.renderTarget.finishRenderPass()}_getFilterData(){return{skip:!1,inputTexture:null,bounds:new p.c,container:null,filterEffect:null,blendRequired:!1,previousRenderSurface:null}}calculateSpriteMatrix(e,t){const r=this._activeFilterData,i=e.set(r.inputTexture._source.width,0,0,r.inputTexture._source.height,r.bounds.minX,r.bounds.minY),n=t.worldTransform.copyTo(s.u.shared);return n.invert(),i.prepend(n),i.scale(1/t.texture.frame.width,1/t.texture.frame.height),i.translate(t.anchor.x,t.anchor.y),i}}b.extension={type:[i.Ag.WebGLSystem,i.Ag.WebGPUSystem],name:"filter"},i.XO.add(b),i.XO.add(n)},2067:(e,t,r)=>{r.d(t,{Ls:()=>i,_Q:()=>n,mA:()=>s});const i={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},n={...i,vertex:{...i.vertex,header:i.vertex.header.replace("group(1)","group(2)")}},s={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},7547:(e,t,r)=>{r.d(t,{U:()=>s});const i={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},n=class e{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}set cullMode(e){"none"!==e?(this.culling=!0,this.clockwiseFrontFace="front"===e):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend="none"!==e,this._blendMode=e,this._blendModeId=i[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new e;return t.depthTest=!1,t.blend=!0,t}};n.default2d=n.for2d();let s=n},7608:(e,t,r)=>{r.d(t,{N:()=>s});var i=r(1761),n=r(9939);const s=new class{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,t){const r=i.e.get().createCanvas();r.width=e,r.height=t;const n=r.getContext("2d");return{canvas:r,context:n}}getOptimalCanvasAndContext(e,t,r=1){e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6);const i=((e=(0,n.U5)(e))<<17)+((t=(0,n.U5)(t))<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let s=this._canvasPool[i].pop();return s||(s=this._createCanvasAndContext(e,t)),s}returnCanvasAndContext(e){const t=e.canvas,{width:r,height:i}=t,n=(r<<17)+(i<<1);this._canvasPool[n].push(e)}clear(){this._canvasPool={}}}},2437:(e,t,r)=>{r.d(t,{W:()=>o});var i=r(9939),n=r(6932),s=r(4492);let a=0;const o=new class{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,t,r){const i=new n.v({...this.textureOptions,width:e,height:t,resolution:1,antialias:r,autoGarbageCollect:!0});return new s.g({source:i,label:"texturePool_"+a++})}getOptimalTexture(e,t,r=1,n){let s=Math.ceil(e*r-1e-6),a=Math.ceil(t*r-1e-6);s=(0,i.U5)(s),a=(0,i.U5)(a);const o=(s<<17)+(a<<1)+(n?1:0);this._texturePool[o]||(this._texturePool[o]=[]);let l=this._texturePool[o].pop();return l||(l=this.createTexture(s,a,n)),l.source._resolution=r,l.source.width=s/r,l.source.height=a/r,l.source.pixelWidth=s,l.source.pixelHeight=a,l.frame.x=0,l.frame.y=0,l.frame.width=e,l.frame.height=t,l.updateUvs(),this._poolKeyHash[l.uid]=o,l}getSameSizeTexture(e,t=!1){const r=e.source;return this.getOptimalTexture(e.width,e.height,r._resolution,t)}returnTexture(e){const t=this._poolKeyHash[e.uid];this._texturePool[t].push(e)}clear(e){if(e=!1!==e)for(const e in this._texturePool){const t=this._texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this._texturePool={}}}},2760:(e,t,r)=>{function i(e,t,r){const i=(e>>24&255)/255;t[r++]=(255&e)/255*i,t[r++]=(e>>8&255)/255*i,t[r++]=(e>>16&255)/255*i,t[r++]=i}r.d(t,{V:()=>i})},8928:(e,t,r)=>{var i=r(8507),n=r(3428),s=r(7547),a=r(8218),o=r(2760),l=r(4389);class h{constructor(e,t){this.state=s.U.for2d(),this._graphicsBatchesHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.renderer=e,this._adaptor=t,this._adaptor.init()}validateRenderable(e){const t=e.context,r=!!this._graphicsBatchesHash[e.uid],i=this.renderer.graphicsContext.updateGpuContext(t);return!(!i.isBatchable&&r===i.isBatchable)}addRenderable(e,t){const r=this.renderer.graphicsContext.updateGpuContext(e.context);e._didGraphicsUpdate&&(e._didGraphicsUpdate=!1,this._rebuild(e)),r.isBatchable?this._addToBatcher(e,t):(this.renderer.renderPipes.batch.break(t),t.add(e))}updateRenderable(e){const t=this._graphicsBatchesHash[e.uid];if(t)for(let e=0;e<t.length;e++){const r=t[e];r._batcher.updateElement(r)}}destroyRenderable(e){this._graphicsBatchesHash[e.uid]&&this._removeBatchForRenderable(e.uid),e.off("destroyed",this._destroyRenderableBound)}execute(e){if(!e.isRenderable)return;const t=this.renderer,r=e.context;if(!t.graphicsContext.getGpuContext(r).batches.length)return;const i=r.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const n=i.resources.localUniforms.uniforms;n.uTransformMatrix=e.groupTransform,n.uRound=t._roundPixels|e._roundPixels,(0,o.V)(e.groupColorAlpha,n.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const t=!!this._graphicsBatchesHash[e.uid],r=this.renderer.graphicsContext.updateGpuContext(e.context);t&&this._removeBatchForRenderable(e.uid),r.isBatchable&&this._initBatchesForRenderable(e),e.batched=r.isBatchable}_addToBatcher(e,t){const r=this.renderer.renderPipes.batch,i=this._getBatchesForRenderable(e);for(let e=0;e<i.length;e++){const n=i[e];r.addToBatch(n,t)}}_getBatchesForRenderable(e){return this._graphicsBatchesHash[e.uid]||this._initBatchesForRenderable(e)}_initBatchesForRenderable(e){const t=e.context,r=this.renderer.graphicsContext.getGpuContext(t),i=this.renderer._roundPixels|e._roundPixels,n=r.batches.map((t=>{const r=a.Z.get(l.G);return t.copyTo(r),r.renderable=e,r.roundPixels=i,r}));return void 0===this._graphicsBatchesHash[e.uid]&&e.on("destroyed",this._destroyRenderableBound),this._graphicsBatchesHash[e.uid]=n,n}_removeBatchForRenderable(e){this._graphicsBatchesHash[e].forEach((e=>{a.Z.return(e)})),this._graphicsBatchesHash[e]=null}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null;for(const e in this._graphicsBatchesHash)this._removeBatchForRenderable(e);this._graphicsBatchesHash=null}}h.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"graphics"},i.XO.add(h),i.XO.add(n.GH)},5285:(e,t,r)=>{var i=r(8507),n=r(9313),s=r(3513),a=r(5811),o=r(8639),l=r(8218),h=r(2760),d=r(8734);class u{constructor(e,t){this.localUniforms=new a.k({uTransformMatrix:{value:new n.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new s.T({0:this.localUniforms}),this._meshDataHash=Object.create(null),this._gpuBatchableMeshHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.renderer=e,this._adaptor=t,this._adaptor.init()}validateRenderable(e){const t=this._getMeshData(e),r=t.batched,i=e.batched;if(t.batched=i,r!==i)return!0;if(i){const r=e._geometry;if(r.indices.length!==t.indexSize||r.positions.length!==t.vertexSize)return t.indexSize=r.indices.length,t.vertexSize=r.positions.length,!0;const i=this._getBatchableMesh(e),n=e.texture;if(i.texture._source!==n._source&&i.texture._source!==n._source)return!i._batcher.checkAndUpdateTexture(i,n)}return!1}addRenderable(e,t){const r=this.renderer.renderPipes.batch,{batched:i}=this._getMeshData(e);if(i){const i=this._getBatchableMesh(e);i.texture=e._texture,i.geometry=e._geometry,r.addToBatch(i,t)}else r.break(t),t.add(e)}updateRenderable(e){if(e.batched){const t=this._gpuBatchableMeshHash[e.uid];t.texture=e._texture,t.geometry=e._geometry,t._batcher.updateElement(t)}}destroyRenderable(e){this._meshDataHash[e.uid]=null;const t=this._gpuBatchableMeshHash[e.uid];t&&(l.Z.return(t),this._gpuBatchableMeshHash[e.uid]=null),e.off("destroyed",this._destroyRenderableBound)}execute(e){if(!e.isRenderable)return;e.state.blendMode=(0,o.i)(e.groupBlendMode,e.texture._source);const t=this.localUniforms;t.uniforms.uTransformMatrix=e.groupTransform,t.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,t.update(),(0,h.V)(e.groupColorAlpha,t.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){return this._meshDataHash[e.uid]||this._initMeshData(e)}_initMeshData(e){return this._meshDataHash[e.uid]={batched:e.batched,indexSize:e._geometry.indices?.length,vertexSize:e._geometry.positions?.length},e.on("destroyed",this._destroyRenderableBound),this._meshDataHash[e.uid]}_getBatchableMesh(e){return this._gpuBatchableMeshHash[e.uid]||this._initBatchableMesh(e)}_initBatchableMesh(e){const t=l.Z.get(d.U);return t.renderable=e,t.texture=e._texture,t.transform=e.groupTransform,t.roundPixels=this.renderer._roundPixels|e._roundPixels,this._gpuBatchableMeshHash[e.uid]=t,t}destroy(){for(const e in this._gpuBatchableMeshHash)this._gpuBatchableMeshHash[e]&&l.Z.return(this._gpuBatchableMeshHash[e]);this._gpuBatchableMeshHash=null,this._meshDataHash=null,this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}u.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"mesh"},i.XO.add(u)},8734:(e,t,r)=>{r.d(t,{U:()=>i});class i{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get uvs(){const e=this.geometry.getBuffer("aUV"),t=e.data;let r=t;const i=this.texture.textureMatrix;return i.isSimple||(r=this._transformedUvs,this._textureMatrixUpdateId===i._updateID&&this._uvUpdateId===e._updateID||((!r||r.length<t.length)&&(r=this._transformedUvs=new Float32Array(t.length)),this._textureMatrixUpdateId=i._updateID,this._uvUpdateId=e._updateID,i.multiplyUvs(t,r))),r}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}},5060:(e,t,r)=>{r.d(t,{u:()=>l});var i=r(949),n=r(1132),s=r(6011),a=r(4670);const o=class e extends s.V{constructor(...t){let r=t[0]??{};r instanceof Float32Array&&((0,a.t6)(a.lj,"use new MeshGeometry({ positions, uvs, indices }) instead"),r={positions:r,uvs:t[1],indices:t[2]}),r={...e.defaultOptions,...r};const s=r.positions||new Float32Array([0,0,1,0,1,1,0,1]),o=r.uvs||new Float32Array([0,0,1,0,1,1,0,1]),l=r.indices||new Uint32Array([0,1,2,0,2,3]),h=r.shrinkBuffersToFit;super({attributes:{aPosition:{buffer:new i.h({data:s,label:"attribute-mesh-positions",shrinkToFit:h,usage:n.S.VERTEX|n.S.COPY_DST}),format:"float32x2",stride:8,offset:0},aUV:{buffer:new i.h({data:o,label:"attribute-mesh-uvs",shrinkToFit:h,usage:n.S.VERTEX|n.S.COPY_DST}),format:"float32x2",stride:8,offset:0}},indexBuffer:new i.h({data:l,label:"index-mesh-buffer",shrinkToFit:h,usage:n.S.INDEX|n.S.COPY_DST}),topology:r.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};o.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let l=o},7252:(e,t,r)=>{var i=r(8507),n=r(8218),s=r(8734),a=r(4670),o=r(5060);const l=class e extends o.u{constructor(...e){super({});let t=e[0]??{};"number"==typeof t&&((0,a.t6)(a.lj,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),t={width:t,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(t)}build(t){t={...e.defaultOptions,...t},this.verticesX=this.verticesX??t.verticesX,this.verticesY=this.verticesY??t.verticesY,this.width=this.width??t.width,this.height=this.height??t.height;const r=this.verticesX*this.verticesY,i=[],n=[],s=[],a=this.verticesX-1,o=this.verticesY-1,l=this.width/a,h=this.height/o;for(let e=0;e<r;e++){const t=e%this.verticesX,r=e/this.verticesX|0;i.push(t*l,r*h),n.push(t/a,r/o)}const d=a*o;for(let e=0;e<d;e++){const t=e%a,r=e/a|0,i=r*this.verticesX+t,n=r*this.verticesX+t+1,o=(r+1)*this.verticesX+t,l=(r+1)*this.verticesX+t+1;s.push(i,n,o,n,l,o)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint32Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};l.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let h=l;const d=class e extends h{constructor(t={}){super({width:(t={...e.defaultOptions,...t}).width,height:t.height,verticesX:4,verticesY:4}),this.update(t)}update(e){this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,t=this._leftWidth+this._rightWidth,r=this.width>t?1:this.width/t,i=this._topHeight+this._bottomHeight,n=this.height>i?1:this.height/i,s=Math.min(r,n);e[9]=e[11]=e[13]=e[15]=this._topHeight*s,e[17]=e[19]=e[21]=e[23]=this.height-this._bottomHeight*s,e[25]=e[27]=e[29]=e[31]=this.height,e[2]=e[10]=e[18]=e[26]=this._leftWidth*s,e[4]=e[12]=e[20]=e[28]=this.width-this._rightWidth*s,e[6]=e[14]=e[22]=e[30]=this.width,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const t=1/this._originalWidth,r=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=t*this._leftWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-t*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.getBuffer("aUV").update()}};d.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let u=d;class c{constructor(e){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e}addRenderable(e,t){const r=this._getGpuSprite(e);e._didSpriteUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._gpuSpriteHash[e.uid];e._didSpriteUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=e._texture,r=this._getGpuSprite(e);return r.texture._source!==t._source&&!r._batcher.checkAndUpdateTexture(r,t)}destroyRenderable(e){const t=this._gpuSpriteHash[e.uid];n.Z.return(t.geometry),n.Z.return(t),this._gpuSpriteHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(e,t){e._didSpriteUpdate=!1,t.geometry.update(e),t.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=n.Z.get(s.U);return t.geometry=n.Z.get(u),t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._didSpriteUpdate=!0,this._gpuSpriteHash[e.uid]=t,e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuSpriteHash)this._gpuSpriteHash[e].geometry.destroy();this._gpuSpriteHash=null,this._renderer=null}}c.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"nineSliceSprite"},i.XO.add(c)},8723:(e,t,r)=>{var i=r(8507),n=r(8639),s=r(7547),a=r(5099),o=r(2760),l=r(8734),h=r(5060),d=r(9313),u=r(5611),c=r(2067),p=r(6665),f=r(8475),g=r(5811),_=r(4492);const m={name:"tiling-bit",vertex:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        "},fragment:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            } \n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        "}},x={name:"tiling-bit",vertex:{header:"\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n        \n        ",main:"\n            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        "},fragment:{header:"\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        ",main:"\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n        \n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0\n    \n        "}};let y,b;class S extends f.M{constructor(){y??(y=(0,u.v)({name:"tiling-sprite-shader",bits:[c.Ls,m,p.b]})),b??(b=(0,u.I)({name:"tiling-sprite-shader",bits:[c.mA,x,p.m]}));const e=new g.k({uMapCoord:{value:new d.u,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new d.u,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:b,gpuProgram:y,resources:{localUniforms:new g.k({uTransformMatrix:{value:new d.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:_.g.EMPTY.source,uSampler:_.g.EMPTY.source.style}})}updateUniforms(e,t,r,i,n,s){const a=this.resources.tilingUniforms,o=s.width,l=s.height,h=s.textureMatrix,d=a.uniforms.uTextureTransform;d.set(r.a*o/e,r.b*o/t,r.c*l/e,r.d*l/t,r.tx/e,r.ty/t),d.invert(),a.uniforms.uMapCoord=h.mapCoord,a.uniforms.uClampFrame=h.uClampFrame,a.uniforms.uClampOffset=h.uClampOffset,a.uniforms.uTextureTransform=d,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=t,a.uniforms.uSizeAnchor[2]=i,a.uniforms.uSizeAnchor[3]=n,s&&(this.resources.uTexture=s.source,this.resources.uSampler=s.source.style)}}class w extends h.u{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}const T=new w;class v{constructor(e){this._state=s.U.default2d,this._tilingSpriteDataHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e}validateRenderable(e){const t=this._getTilingSpriteData(e),r=t.canBatch;this._updateCanBatch(e);const i=t.canBatch;if(i&&i===r){const{batchableMesh:r}=t;if(r&&r.texture._source!==e.texture._source)return!r._batcher.checkAndUpdateTexture(r,e.texture)}return r!==i}addRenderable(e,t){const r=this._renderer.renderPipes.batch;this._updateCanBatch(e);const i=this._getTilingSpriteData(e),{geometry:n,canBatch:s}=i;if(s){i.batchableMesh||(i.batchableMesh=new l.U);const s=i.batchableMesh;e._didTilingSpriteUpdate&&(e._didTilingSpriteUpdate=!1,this._updateBatchableMesh(e),s.geometry=n,s.renderable=e,s.transform=e.groupTransform,s.texture=e._texture),s.roundPixels=this._renderer._roundPixels|e._roundPixels,r.addToBatch(s,t)}else r.break(t),i.shader||(i.shader=new S),this.updateRenderable(e),t.add(e)}execute(e){const{shader:t}=this._tilingSpriteDataHash[e.uid];t.groups[0]=this._renderer.globalUniforms.bindGroup;const r=t.resources.localUniforms.uniforms;r.uTransformMatrix=e.groupTransform,r.uRound=this._renderer._roundPixels|e._roundPixels,(0,o.V)(e.groupColorAlpha,r.uColor,0),this._state.blendMode=(0,n.i)(e.groupBlendMode,e.texture._source),this._renderer.encoder.draw({geometry:T,shader:t,state:this._state})}updateRenderable(e){const t=this._getTilingSpriteData(e),{canBatch:r}=t;if(r){const{batchableMesh:r}=t;e._didTilingSpriteUpdate&&this._updateBatchableMesh(e),r._batcher.updateElement(r)}else if(e._didTilingSpriteUpdate){const{shader:r}=t;r.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}e._didTilingSpriteUpdate=!1}destroyRenderable(e){const t=this._getTilingSpriteData(e);t.batchableMesh=null,t.shader?.destroy(),this._tilingSpriteDataHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_getTilingSpriteData(e){return this._tilingSpriteDataHash[e.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const t=new h.u({indices:T.indices,positions:T.positions.slice(),uvs:T.uvs.slice()});return this._tilingSpriteDataHash[e.uid]={canBatch:!0,renderable:e,geometry:t},e.on("destroyed",this._destroyRenderableBound),this._tilingSpriteDataHash[e.uid]}_updateBatchableMesh(e){const t=this._getTilingSpriteData(e),{geometry:r}=t,i=e.texture.source.style;"repeat"!==i.addressMode&&(i.addressMode="repeat",i.update()),function(e,t){const r=e.texture,i=r.frame.width,n=r.frame.height;let s=0,a=0;e._applyAnchorToTexture&&(s=e.anchor.x,a=e.anchor.y),t[0]=t[6]=-s,t[2]=t[4]=1-s,t[1]=t[3]=-a,t[5]=t[7]=1-a;const o=d.u.shared;o.copyFrom(e._tileTransform.matrix),o.tx/=e.width,o.ty/=e.height,o.invert(),o.scale(e.width/i,e.height/n),function(e,t,r,i){let n=0;const s=e.length/2,a=i.a,o=i.b,l=i.c,h=i.d,d=i.tx,u=i.ty;for(r*=2;n<s;){const t=e[r],i=e[r+1];e[r]=a*t+l*i+d,e[r+1]=o*t+h*i+u,r+=2,n++}}(t,0,0,o)}(e,r.uvs),function(e,t){const r=e.anchor.x,i=e.anchor.y;t[0]=-r*e.width,t[1]=-i*e.height,t[2]=(1-r)*e.width,t[3]=-i*e.height,t[4]=(1-r)*e.width,t[5]=(1-i)*e.height,t[6]=-r*e.width,t[7]=(1-i)*e.height}(e,r.positions)}destroy(){for(const e in this._tilingSpriteDataHash)this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);this._tilingSpriteDataHash=null,this._renderer=null}_updateCanBatch(e){const t=this._getTilingSpriteData(e),r=e.texture;let i=!0;return this._renderer.type===a.W.WEBGL&&(i=this._renderer.context.supports.nonPowOf2wrapping),t.canBatch=r.textureMatrix.isSimple&&(i||r.source.isPowerOfTwo),t.canBatch}}v.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"tilingSprite"},i.XO.add(v)},8422:(e,t,r)=>{r.d(t,{K:()=>i});class i{constructor(){this.batcherName="default",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}}},23:(e,t,r)=>{var i=r(8507),n=r(1979),s=r(8218),a=r(9408),o=r(9313),l=r(6563),h=r(5611),d=r(4459),u=r(4e3),c=r(6665),p=r(6040),f=r(8475),g=r(5811);const _={name:"local-uniform-msdf-bit",vertex:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "},fragment:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         ",main:" \n            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));\n        "}},m={name:"local-uniform-msdf-bit",vertex:{header:"\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix *= uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "},fragment:{header:"\n            uniform float uDistance;\n         ",main:" \n            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));\n        "}},x={name:"msdf-bit",fragment:{header:"\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {\n                \n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n            \n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));\n                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);\n                var coverage: f32 = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n             \n            }\n        "}},y={name:"msdf-bit",fragment:{header:"\n            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {\n                \n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n               \n                // SDF\n                median = min(median, msdfColor.a);\n            \n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n           \n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));\n                float gamma = mix(1.0, 1.0 / 2.2, luma);\n                float coverage = pow(shapeColor.a * alpha, gamma);  \n              \n                return coverage;\n            }\n        "}};let b,S;class w extends f.M{constructor(){const e=new g.k({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new o.u,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}}),t=(0,l.a)();b??(b=(0,h.v)({name:"sdf-shader",bits:[d.F,(0,u._)(t),_,x,c.b]})),S??(S=(0,h.I)({name:"sdf-shader",bits:[d.a,(0,u.P)(t),m,y,c.m]})),super({glProgram:S,gpuProgram:b,resources:{localUniforms:e,batchSamplers:(0,p.n)(t)}})}}var T=r(4670),v=r(268),C=r(8291),k=r(2577),B=r(9252),M=r(7608),F=r(8293),P=r(4492),R=r(4016),A=r(1242),U=r(3548),W=r(4486);class z extends W.A{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return(0,T.t6)(T.lj,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return(0,T.t6)(T.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return(0,T.t6)(T.lj,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return(0,T.t6)(T.lj,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return(0,T.t6)(T.lj,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners();for(const e in this.chars)this.chars[e].texture?.destroy();this.chars=null,e&&(this.pages.forEach((e=>e.texture.destroy(!0))),this.pages=null)}}function O(e){if(""===e)return[];"string"==typeof e&&(e=[e]);const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];if(Array.isArray(i)){if(2!==i.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(0===i[0].length||0===i[1].length)throw new Error("[BitmapFont]: Invalid character delimiter.");const e=i[0].charCodeAt(0),r=i[1].charCodeAt(0);if(r<e)throw new Error("[BitmapFont]: Invalid character range.");for(let i=e,n=r;i<=n;i++)t.push(String.fromCharCode(i))}else t.push(...Array.from(i))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const H=class e extends z{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const r={...e.defaultOptions,...t};this._textureSize=r.textureSize,this._mipmap=r.mipmap;const i=r.style.clone();r.overrideFill&&(i._fill.color=16777215,i._fill.alpha=1,i._fill.texture=P.g.WHITE,i._fill.fill=null),this.applyFillAsTint=r.overrideFill;const n=i.fontSize;i.fontSize=this.baseMeasurementFontSize;const s=(0,A.Z)(i);r.overrideSize?i._stroke&&(i._stroke.width*=this.baseRenderedFontSize/n):i.fontSize=this.baseRenderedFontSize=n,this._style=i,this._skipKerning=r.skipKerning??!1,this.resolution=r.resolution??1,this._padding=r.padding??4,this.fontMetrics=R.P.measureFont(s),this.lineHeight=i.lineHeight||this.fontMetrics.fontSize||i.fontSize}ensureCharacters(e){const t=O(e).filter((e=>!this._currentChars.includes(e))).filter(((e,t,r)=>r.indexOf(e)===t));if(!t.length)return;let r;this._currentChars=[...this._currentChars,...t],r=-1===this._currentPageIndex?this._nextPage():this.pages[this._currentPageIndex];let{canvas:i,context:n}=r.canvasAndContext,s=r.texture.source;const a=this._style;let o=this._currentX,l=this._currentY;const h=this.baseRenderedFontSize/this.baseMeasurementFontSize,d=this._padding*h,u="italic"===a.fontStyle?2:1;let c=0,p=!1;for(let e=0;e<t.length;e++){const r=t[e],f=R.P.measureText(r,a,i,!1);f.lineHeight=f.height;const g=u*f.width*h,_=g+2*d,m=f.height*h+2*d;if(p=!1,"\n"!==r&&"\r"!==r&&"\t"!==r&&" "!==r&&(p=!0,c=Math.ceil(Math.max(m,c))),o+_>this._textureSize&&(l+=c,c=m,o=0,l+c>this._textureSize)){s.update();const e=this._nextPage();i=e.canvasAndContext.canvas,n=e.canvasAndContext.context,s=e.texture.source,l=0}const x=g/h-(a.dropShadow?.distance??0)-(a._stroke?.width??0);if(this.chars[r]={id:r.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:x,kerning:{}},p){this._drawGlyph(n,f,o+d,l+d,h,a);const e=s.width*h,t=s.height*h,i=new B.M(o/e*s.width,l/t*s.height,_/e*s.width,m/t*s.height);this.chars[r].texture=new P.g({source:s,frame:i}),o+=Math.ceil(_)}}s.update(),this._currentX=o,this._currentY=l,this._skipKerning&&this._applyKerning(t,n)}get pageTextures(){return(0,T.t6)(T.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,t){const r=this._measureCache;for(let i=0;i<e.length;i++){const n=e[i];for(let e=0;e<this._currentChars.length;e++){const i=this._currentChars[e];let s=r[n];s||(s=r[n]=t.measureText(n).width);let a=r[i];a||(a=r[i]=t.measureText(i).width);let o=t.measureText(n+i).width,l=o-(s+a);l&&(this.chars[n].kerning[i]=l),o=t.measureText(n+i).width,l=o-(s+a),l&&(this.chars[i].kerning[n]=l)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,t=M.N.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(t.context,this._style,e);const r=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i={canvasAndContext:t,texture:new P.g({source:new F.b({resource:t.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})})};return this.pages[this._currentPageIndex]=i,i}_setupContext(e,t,r){t.fontSize=this.baseRenderedFontSize,e.scale(r,r),e.font=(0,A.Z)(t),t.fontSize=this.baseMeasurementFontSize,e.textBaseline=t.textBaseline;const i=t._stroke,n=i?.width??0;if(i&&(e.lineWidth=n,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=(0,U.r)(i,e)),t._fill&&(e.fillStyle=(0,U.r)(t._fill,e)),t.dropShadow){const i=t.dropShadow,n=k.Q.shared.setValue(i.color).toArray(),s=i.blur*r,a=i.distance*r;e.shadowColor=`rgba(${255*n[0]},${255*n[1]},${255*n[2]},${i.alpha})`,e.shadowBlur=s,e.shadowOffsetX=Math.cos(i.angle)*a,e.shadowOffsetY=Math.sin(i.angle)*a}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,t,r,i,n,s){const a=t.text,o=t.fontProperties,l=s._stroke,h=(l?.width??0)*n,d=r+h/2,u=i-h/2,c=o.descent*n,p=t.lineHeight*n;s.stroke&&h&&e.strokeText(a,d,u+p-c),s._fill&&e.fillText(a,d,u+p-c)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:t,texture:r}=this.pages[e];t.canvas.width=t.canvas.width,M.N.returnCanvasAndContext(t),r.destroy(!0)}this.pages=null}};H.defaultOptions={textureSize:512,style:new C.x,mipmap:!0};let G=H;function L(e,t,r,i){const n={width:0,height:0,offsetY:0,scale:t.fontSize/r.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};n.offsetY=r.baseLineOffset;let s=n.lines[0],a=null,o=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},h=e=>{const t=s.width;for(let r=0;r<l.index;r++){const i=e.positions[r];s.chars.push(e.chars[r]),s.charPositions.push(i+t)}s.width+=e.width,o=!1,l.width=0,l.index=0,l.chars.length=0},d=()=>{let e=s.chars.length-1;if(i){let t=s.chars[e];for(;" "===t;)s.width-=r.chars[t].xAdvance,t=s.chars[--e]}n.width=Math.max(n.width,s.width),s={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},o=!0,n.lines.push(s),n.height+=r.lineHeight},u=r.baseMeasurementFontSize/t.fontSize,c=t.letterSpacing*u,p=t.wordWrapWidth*u;for(let i=0;i<e.length+1;i++){let n;const u=i===e.length;u||(n=e[i]);const f=r.chars[n]||r.chars[" "];if(/(?:\s)/.test(n)||"\r"===n||"\n"===n||u){if(!o&&t.wordWrap&&s.width+l.width-c>p?(d(),h(l),u||s.charPositions.push(0)):(l.start=s.width,h(l),u||s.charPositions.push(0)),"\r"===n||"\n"===n)0!==s.width&&d();else if(!u){const e=f.xAdvance+(f.kerning[a]||0)+c;s.width+=e,s.spaceWidth=e,s.spacesIndex.push(s.charPositions.length),s.chars.push(n)}}else{const e=f.kerning[a]||0,t=f.xAdvance+e+c;l.positions[l.index++]=l.width+e,l.chars.push(n),l.width+=t}a=n}return d(),"center"===t.align?function(e){for(let t=0;t<e.lines.length;t++){const r=e.lines[t],i=e.width/2-r.width/2;for(let e=0;e<r.charPositions.length;e++)r.charPositions[e]+=i}}(n):"right"===t.align?function(e){for(let t=0;t<e.lines.length;t++){const r=e.lines[t],i=e.width-r.width;for(let e=0;e<r.charPositions.length;e++)r.charPositions[e]+=i}}(n):"justify"===t.align&&function(e){const t=e.width;for(let r=0;r<e.lines.length;r++){const i=e.lines[r];let n=0,s=i.spacesIndex[n++],a=0;const o=i.spacesIndex.length,l=(t-i.width)/o;for(let e=0;e<i.charPositions.length;e++)e===s&&(s=i.spacesIndex[n++],a+=l),i.charPositions[e]+=a}}(n),n}let I=0;const E=new class{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,t){let r=`${t.fontFamily}-bitmap`,i=!0;if(t._fill.fill&&!t._stroke)r+=t._fill.fill.styleKey,i=!1;else if(t._stroke||t.dropShadow){let e=t.styleKey;e=e.substring(0,e.lastIndexOf("-")),r=`${e}-bitmap`,i=!1}if(!n.l.has(r)){const e=new G({style:t,overrideFill:i,overrideSize:!0,...this.defaultOptions});I++,I>50&&(0,v.R)("BitmapText",`You have dynamically created ${I} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),e.once("destroy",(()=>{I--,n.l.remove(r)})),n.l.set(r,e)}const s=n.l.get(r);return s.ensureCharacters?.(e),s}getLayout(e,t,r=!0){const i=this.getFont(e,t);return L([...e],t,i,r)}measureText(e,t,r=!0){return this.getLayout(e,t,r)}install(...e){let t=e[0];"string"==typeof t&&(t={name:t,style:e[1],chars:e[2]?.chars,resolution:e[2]?.resolution,padding:e[2]?.padding,skipKerning:e[2]?.skipKerning},(0,T.t6)(T.lj,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=t?.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");t={...this.defaultOptions,...t};const i=t.style,s=i instanceof C.x?i:new C.x(i),a=null!==s._fill.fill&&void 0!==s._fill.fill,o=new G({style:s,overrideFill:a,skipKerning:t.skipKerning,padding:t.padding,resolution:t.resolution,overrideSize:!1}),l=O(t.chars);return o.ensureCharacters(l.join("")),n.l.set(`${r}-bitmap`,o),o.once("destroy",(()=>n.l.remove(`${r}-bitmap`))),o}uninstall(e){const t=`${e}-bitmap`,r=n.l.get(t);r&&(n.l.remove(t),r.destroy())}};class D{constructor(e){this._gpuBitmapText={},this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e}validateRenderable(e){const t=this._getGpuBitmapText(e);return e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,t)),this._renderer.renderPipes.graphics.validateRenderable(t)}addRenderable(e,t){const r=this._getGpuBitmapText(e);$(e,r),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.addRenderable(r,t),r.context.customShader&&this._updateDistanceField(e)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableByUid(e.uid)}_destroyRenderableByUid(e){const t=this._gpuBitmapText[e].context;t.customShader&&(s.Z.return(t.customShader),t.customShader=null),s.Z.return(this._gpuBitmapText[e]),this._gpuBitmapText[e]=null}updateRenderable(e){const t=this._getGpuBitmapText(e);$(e,t),this._renderer.renderPipes.graphics.updateRenderable(t),t.context.customShader&&this._updateDistanceField(e)}_updateContext(e,t){const{context:r}=t,i=E.getFont(e.text,e._style);r.clear(),"none"!==i.distanceField.type&&(r.customShader||(r.customShader=s.Z.get(w)));const n=Array.from(e.text),a=e._style;let o=i.baseLineOffset;const l=L(n,a,i,!0);let h=0;const d=a.padding,u=l.scale;let c=l.width,p=l.height+l.offsetY;a._stroke&&(c+=a._stroke.width/u,p+=a._stroke.width/u),r.translate(-e._anchor._x*c-d,-e._anchor._y*p-d).scale(u,u);const f=i.applyFillAsTint?a._fill.color:16777215;for(let e=0;e<l.lines.length;e++){const t=l.lines[e];for(let e=0;e<t.charPositions.length;e++){const s=n[h++],a=i.chars[s];a?.texture&&r.texture(a.texture,f||"black",Math.round(t.charPositions[e]+a.xOffset),Math.round(o+a.yOffset))}o+=i.lineHeight}}_getGpuBitmapText(e){return this._gpuBitmapText[e.uid]||this.initGpuText(e)}initGpuText(e){const t=s.Z.get(a.A);return this._gpuBitmapText[e.uid]=t,this._updateContext(e,t),e.on("destroyed",this._destroyRenderableBound),this._gpuBitmapText[e.uid]}_updateDistanceField(e){const t=this._getGpuBitmapText(e).context,r=e._style.fontFamily,i=n.l.get(`${r}-bitmap`),{a:s,b:a,c:o,d:l}=e.groupTransform,h=Math.sqrt(s*s+a*a),d=Math.sqrt(o*o+l*l),u=(Math.abs(h)+Math.abs(d))/2,c=i.baseRenderedFontSize/e._style.fontSize,p=u*i.distanceField.range*(1/c);t.customShader.resources.localUniforms.uniforms.uDistance=p}destroy(){for(const e in this._gpuBitmapText)this._destroyRenderableByUid(e);this._gpuBitmapText=null,this._renderer=null}}function $(e,t){t.groupTransform=e.groupTransform,t.groupColorAlpha=e.groupColorAlpha,t.groupColor=e.groupColor,t.groupBlendMode=e.groupBlendMode,t.globalDisplayStatus=e.globalDisplayStatus,t.groupTransform=e.groupTransform,t.localDisplayStatus=e.localDisplayStatus,t.groupAlpha=e.groupAlpha,t._roundPixels=e._roundPixels}D.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"bitmapText"},i.XO.add(D)},7559:(e,t,r)=>{var i=r(8507),n=r(4492),s=r(2048),a=r(8218),o=r(8422);class l{constructor(e){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.runners.resolutionChange.add(this)}resolutionChange(){for(const e in this._gpuText){const t=this._gpuText[e];if(!t)continue;const r=t.batchableSprite.renderable;r._autoResolution&&(r._resolution=this._renderer.resolution,r.onViewUpdate())}}validateRenderable(e){const t=this._getGpuText(e),r=e._getKey();return t.textureNeedsUploading?(t.textureNeedsUploading=!1,!0):t.currentKey!==r}addRenderable(e,t){const r=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),t._batcher.updateElement(t)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const t=this._gpuText[e];this._renderer.htmlText.decreaseReferenceCount(t.currentKey),a.Z.return(t.batchableSprite),this._gpuText[e]=null}_updateText(e){const t=e._getKey(),r=this._getGpuText(e),i=r.batchableSprite;r.currentKey!==t&&this._updateGpuText(e).catch((e=>{console.error(e)})),e._didTextUpdate=!1;const n=e._style.padding;(0,s.y)(i.bounds,e._anchor,i.texture,n)}async _updateGpuText(e){e._didTextUpdate=!1;const t=this._getGpuText(e);if(t.generatingTexture)return;const r=e._getKey();this._renderer.htmlText.decreaseReferenceCount(t.currentKey),t.generatingTexture=!0,t.currentKey=r;const i=e.resolution??this._renderer.resolution,n=await this._renderer.htmlText.getManagedTexture(e.text,i,e._style,e._getKey()),a=t.batchableSprite;a.texture=t.texture=n,t.generatingTexture=!1,t.textureNeedsUploading=!0,e.onViewUpdate();const o=e._style.padding;(0,s.y)(a.bounds,e._anchor,a.texture,o)}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const t={texture:n.g.EMPTY,currentKey:"--",batchableSprite:a.Z.get(o.K),textureNeedsUploading:!1,generatingTexture:!1},r=t.batchableSprite;return r.renderable=e,r.transform=e.groupTransform,r.texture=n.g.EMPTY,r.bounds={minX:0,maxX:1,minY:0,maxY:0},r.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,this._gpuText[e.uid]=t,e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}l.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"htmlText"};var h=r(2437),d=r(5099),u=r(1761),c=r(268),p=r(2558);const f="http://www.w3.org/2000/svg",g="http://www.w3.org/1999/xhtml";class _{constructor(){this.svgRoot=document.createElementNS(f,"svg"),this.foreignObject=document.createElementNS(f,"foreignObject"),this.domElement=document.createElementNS(g,"div"),this.styleElement=document.createElementNS(g,"style"),this.image=new Image;const{foreignObject:e,svgRoot:t,styleElement:r,domElement:i}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",t.appendChild(e),e.appendChild(r),e.appendChild(i)}}var m=r(8291),x=r(8011),y=r(2577);function b(e){const t=y.Q.shared.setValue(e.color).setAlpha(e.alpha).toHexa(),r=`${Math.round(Math.cos(e.angle)*e.distance)}px ${Math.round(Math.sin(e.angle)*e.distance)}px`;return e.blur>0?`text-shadow: ${r} ${e.blur}px ${t}`:`text-shadow: ${r} ${t}`}function S(e){return[`-webkit-text-stroke-width: ${e.width}px`,`-webkit-text-stroke-color: ${y.Q.shared.setValue(e.color).toHex()}`,`text-stroke-width: ${e.width}px`,`text-stroke-color: ${y.Q.shared.setValue(e.color).toHex()}`,"paint-order: stroke"].join(";")}const w={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},T={fill:e=>`color: ${y.Q.shared.setValue(e).toHex()}`,breakWords:e=>"word-wrap: "+(e?"break-all":"break-word"),stroke:S,dropShadow:b};class v extends m.x{constructor(e={}){super(e),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=e.cssOverrides),this.tagStyles=e.tagStyles??{}}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=(0,x.V)(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new v({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow?{...this.dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=function(e){const t=e._stroke,r=e._fill,i=[`div { ${[`color: ${y.Q.shared.setValue(r.color).toHex()}`,`font-size: ${e.fontSize}px`,`font-family: ${e.fontFamily}`,`font-weight: ${e.fontWeight}`,`font-style: ${e.fontStyle}`,`font-variant: ${e.fontVariant}`,`letter-spacing: ${e.letterSpacing}px`,`text-align: ${e.align}`,`padding: ${e.padding}px`,`white-space: ${"pre"===e.whiteSpace&&e.wordWrap?"pre-wrap":e.whiteSpace}`,...e.lineHeight?[`line-height: ${e.lineHeight}px`]:[],...e.wordWrap?["word-wrap: "+(e.breakWords?"break-all":"break-word"),`max-width: ${e.wordWrapWidth}px`]:[],...t?[S(t)]:[],...e.dropShadow?[b(e.dropShadow)]:[],...e.cssOverrides].join(";")} }`];return function(e,t){for(const r in e){const i=e[r],n=[];for(const e in i)T[e]?n.push(T[e](i[e])):w[e]&&n.push(w[e].replace("{{VALUE}}",i[e]));t.push(`${r} { ${n.join(";")} }`)}}(e.tagStyles,i),i.join(" ")}(this)),this._cssStyle}addOverride(...e){const t=e.filter((e=>!this.cssOverrides.includes(e)));t.length>0&&(this.cssOverrides.push(...t),this.update())}removeOverride(...e){const t=e.filter((e=>this.cssOverrides.includes(e)));t.length>0&&(this.cssOverrides=this.cssOverrides.filter((e=>!t.includes(e))),this.update())}set fill(e){"string"!=typeof e&&"number"!=typeof e&&(0,c.R)("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&"string"!=typeof e&&"number"!=typeof e&&(0,c.R)("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}}var C=r(1979);async function k(e,t){const r=await async function(e){const t=await u.e.get().fetch(e),r=await t.blob(),i=new FileReader;return await new Promise(((e,t)=>{i.onloadend=()=>e(i.result),i.onerror=t,i.readAsDataURL(r)}))}(t);return`@font-face {\n        font-family: "${e.fontFamily}";\n        src: url('${r}');\n        font-weight: ${e.fontWeight};\n        font-style: ${e.fontStyle};\n    }`}const B=new Map;var M=r(7608),F=r(4016);let P;class R{constructor(e){this._activeTextures={},this._renderer=e,this._createCanvas=e.type===d.W.WEBGPU}getTexture(e){return this._buildTexturePromise(e.text,e.resolution,e.style)}getManagedTexture(e,t,r,i){if(this._activeTextures[i])return this._increaseReferenceCount(i),this._activeTextures[i].promise;const n=this._buildTexturePromise(e,t,r).then((e=>(this._activeTextures[i].texture=e,e)));return this._activeTextures[i]={texture:null,promise:n,usageCount:1},n}async _buildTexturePromise(e,t,r){const i=a.Z.get(_),n=function(e,t){const r=t.fontFamily,i=[],n={},s=e.match(/font-family:([^;"\s]+)/g);function a(e){n[e]||(i.push(e),n[e]=!0)}if(Array.isArray(r))for(let e=0;e<r.length;e++)a(r[e]);else a(r);s&&s.forEach((e=>{a(e.split(":")[1].trim())}));for(const e in t.tagStyles)a(t.tagStyles[e].fontFamily);return i}(e,r),s=await async function(e,t,r){const i=e.filter((e=>C.l.has(`${e}-and-url`))).map(((e,i)=>{if(!B.has(e)){const{url:n}=C.l.get(`${e}-and-url`);0===i?B.set(e,k({fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:e},n)):B.set(e,k({fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:e},n))}return B.get(e)}));return(await Promise.all(i)).join("\n")}(n,r,v.defaultTextStyle),o=function(e,t,r,i){i=i||P||(P=new _);const{domElement:n,styleElement:s,svgRoot:a}=i;n.innerHTML=`<style>${t.cssStyle};</style><div style='padding:0'>${e}</div>`,n.setAttribute("style","transform-origin: top left; display: inline-block"),r&&(s.textContent=r),document.body.appendChild(a);const o=n.getBoundingClientRect();a.remove();const l=F.P.measureFont(t.fontStyle).descent,h=2*t.padding;return{width:o.width-h,height:o.height+l-h}}(e,r,s,i),l=Math.ceil(Math.ceil(Math.max(1,o.width)+2*r.padding)*t),h=Math.ceil(Math.ceil(Math.max(1,o.height)+2*r.padding)*t),d=i.image;d.width=2+(0|l),d.height=2+(0|h);const c=function(e,t,r,i,n){const{domElement:s,styleElement:a,svgRoot:o}=n;s.innerHTML=`<style>${t.cssStyle}</style><div style='padding:0;'>${e}</div>`,s.setAttribute("style",`transform: scale(${r});transform-origin: top left; display: inline-block`),a.textContent=i;const{width:l,height:h}=n.image;return o.setAttribute("width",l.toString()),o.setAttribute("height",h.toString()),(new XMLSerializer).serializeToString(o)}(e,r,t,s,i);await function(e,t,r){return new Promise((async i=>{r&&await new Promise((e=>setTimeout(e,100))),e.onload=()=>{i()},e.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(t)}`,e.crossOrigin="anonymous"}))}(d,c,function(){const{userAgent:e}=u.e.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}()&&n.length>0);let f=d;this._createCanvas&&(f=function(e,t){const r=M.N.getOptimalCanvasAndContext(e.width,e.height,t),{context:i}=r;return i.clearRect(0,0,e.width,e.height),i.drawImage(e,0,0),M.N.returnCanvasAndContext(r),r.canvas}(d,t));const g=(0,p.M)(f,d.width-2,d.height-2,t);return this._createCanvas&&this._renderer.texture.initSource(g.source),a.Z.return(i),g}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const t=this._activeTextures[e];t&&(t.usageCount--,0===t.usageCount&&(t.texture?this._cleanUp(t):t.promise.then((e=>{t.texture=e,this._cleanUp(t)})).catch((()=>{(0,c.R)("HTMLTextSystem: Failed to clean texture")})),this._activeTextures[e]=null))}_cleanUp(e){h.W.returnTexture(e.texture),e.texture.source.resource=null,e.texture.source.uploadMethodId="unknown"}getReferenceCount(e){return this._activeTextures[e].usageCount}destroy(){this._activeTextures=null}}R.extension={type:[i.Ag.WebGLSystem,i.Ag.WebGPUSystem,i.Ag.CanvasSystem],name:"htmlText"},R.defaultFontOptions={fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal"},i.XO.add(R),i.XO.add(l)},8291:(e,t,r)=>{r.d(t,{x:()=>c});var i=r(4486),n=r(2577),s=r(4670),a=r(7276),o=r(2806),l=r(4835),h=r(990),d=r(8011);const u=class e extends i.A{constructor(t={}){super(),function(e){const t=e;if("boolean"==typeof t.dropShadow&&t.dropShadow){const r=c.defaultDropShadow;e.dropShadow={alpha:t.dropShadowAlpha??r.alpha,angle:t.dropShadowAngle??r.angle,blur:t.dropShadowBlur??r.blur,color:t.dropShadowColor??r.color,distance:t.dropShadowDistance??r.distance}}if(void 0!==t.strokeThickness){(0,s.t6)(s.lj,"strokeThickness is now a part of stroke");const r=t.stroke;let i={};if(n.Q.isColorLike(r))i.color=r;else if(r instanceof a._||r instanceof o.m)i.fill=r;else{if(!Object.hasOwnProperty.call(r,"color")&&!Object.hasOwnProperty.call(r,"fill"))throw new Error("Invalid stroke value.");i=r}e.stroke={...i,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){let r;(0,s.t6)(s.lj,"gradient fill is now a fill pattern: `new FillGradient(...)`"),null==e.fontSize?e.fontSize=c.defaultTextStyle.fontSize:r="string"==typeof e.fontSize?parseInt(e.fontSize,10):e.fontSize;const i=new a._(0,0,0,1.7*r),o=t.fillGradientStops.map((e=>n.Q.shared.setValue(e).toNumber()));o.forEach(((e,t)=>{const r=t/(o.length-1);i.addColorStop(r,e)})),e.fill={fill:i}}}(t);const r={...e.defaultTextStyle,...t};for(const e in r)this[e]=r[e];this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow=null!==t&&"object"==typeof t?this._createProxy({...e.defaultDropShadow,...t}):t?this._createProxy({...e.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize="string"==typeof e?parseInt(e,10):e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e,this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...l.T.defaultFillStyle,...e},(()=>{this._fill=(0,h.w)({...this._originalFill},l.T.defaultFillStyle)}))),this._fill=(0,h.w)(0===e?"black":e,l.T.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...l.T.defaultStrokeStyle,...e},(()=>{this._stroke=(0,h.T)({...this._originalStroke},l.T.defaultStrokeStyle)}))),this._stroke=(0,h.T)(e,l.T.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=(0,d.V)(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=e.defaultTextStyle;for(const e in t)this[e]=t[e]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new e({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(e=!1){if(this.removeAllListeners(),"boolean"==typeof e?e:e?.texture){const t="boolean"==typeof e?e:e?.textureSource;this._fill?.texture&&this._fill.texture.destroy(t),this._originalFill?.texture&&this._originalFill.texture.destroy(t),this._stroke?.texture&&this._stroke.texture.destroy(t),this._originalStroke?.texture&&this._originalStroke.texture.destroy(t)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,t){return new Proxy(e,{set:(e,r,i)=>(e[r]=i,t?.(r,i),this.update(),!0)})}_isFillStyle(e){return null!==(e??null)&&!(n.Q.isColorLike(e)||e instanceof a._||e instanceof o.m)}};u.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5},u.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let c=u},4016:(e,t,r)=>{r.d(t,{P:()=>o});var i=r(1761),n=r(1242);const s={willReadFrequently:!0},a=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0!==t){const r=i.e.get().getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return t}constructor(e,t,r,i,n,s,a,o,l){this.text=e,this.style=t,this.width=r,this.height=i,this.lines=n,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=o,this.fontProperties=l}static measureText(t=" ",r,i=e._canvas,s=r.wordWrap){const a=`${t}:${r.styleKey}`;if(e._measurementCache[a])return e._measurementCache[a];const o=(0,n.Z)(r),l=e.measureFont(o);0===l.fontSize&&(l.fontSize=r.fontSize,l.ascent=r.fontSize);const h=e.__context;h.font=o;const d=(s?e._wordWrap(t,r,i):t).split(/(?:\r\n|\r|\n)/),u=new Array(d.length);let c=0;for(let t=0;t<d.length;t++){const i=e._measureText(d[t],r.letterSpacing,h);u[t]=i,c=Math.max(c,i)}const p=r._stroke?.width||0;let f=c+p;r.dropShadow&&(f+=r.dropShadow.distance);const g=r.lineHeight||l.fontSize;let _=Math.max(g,l.fontSize+p)+(d.length-1)*(g+r.leading);return r.dropShadow&&(_+=r.dropShadow.distance),new e(t,r,f,_,d,u,g+r.leading,c,l)}static _measureText(t,r,i){let n=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(i.letterSpacing=`${r}px`,i.textLetterSpacing=`${r}px`,n=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let s=i.measureText(t).width;return s>0&&(n?s-=r:s+=(e.graphemeSegmenter(t).length-1)*r),s}static _wordWrap(t,r,i=e._canvas){const n=i.getContext("2d",s);let a=0,o="",l="";const h=Object.create(null),{letterSpacing:d,whiteSpace:u}=r,c=e._collapseSpaces(u),p=e._collapseNewlines(u);let f=!c;const g=r.wordWrapWidth+d,_=e._tokenize(t);for(let t=0;t<_.length;t++){let i=_[t];if(e._isNewline(i)){if(!p){l+=e._addLine(o),f=!c,o="",a=0;continue}i=" "}if(c){const t=e.isBreakingSpace(i),r=e.isBreakingSpace(o[o.length-1]);if(t&&r)continue}const s=e._getFromCache(i,d,h,n);if(s>g)if(""!==o&&(l+=e._addLine(o),o="",a=0),e.canBreakWords(i,r.breakWords)){const t=e.wordWrapSplit(i);for(let s=0;s<t.length;s++){let u=t[s],c=u,p=1;for(;t[s+p];){const n=t[s+p];if(e.canBreakChars(c,n,i,s,r.breakWords))break;u+=n,c=n,p++}s+=p-1;const _=e._getFromCache(u,d,h,n);_+a>g&&(l+=e._addLine(o),f=!1,o="",a=0),o+=u,a+=_}}else{o.length>0&&(l+=e._addLine(o),o="",a=0);const r=t===_.length-1;l+=e._addLine(i,!r),f=!1,o="",a=0}else s+a>g&&(f=!1,l+=e._addLine(o),o="",a=0),(o.length>0||!e.isBreakingSpace(i)||f)&&(o+=i,a+=s)}return l+=e._addLine(o,!1),l}static _addLine(t,r=!0){return t=e._trimRight(t),r?`${t}\n`:t}static _getFromCache(t,r,i,n){let s=i[t];return"number"!=typeof s&&(s=e._measureText(t,r,n)+r,i[t]=s),s}static _collapseSpaces(e){return"normal"===e||"pre-line"===e}static _collapseNewlines(e){return"normal"===e}static _trimRight(t){if("string"!=typeof t)return"";for(let r=t.length-1;r>=0;r--){const i=t[r];if(!e.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}static _isNewline(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,r){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const r=[];let i="";if("string"!=typeof t)return r;for(let n=0;n<t.length;n++){const s=t[n],a=t[n+1];e.isBreakingSpace(s,a)||e._isNewline(s)?(""!==i&&(r.push(i),i=""),r.push(s)):i+=s}return""!==i&&r.push(i),r}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,i,n){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];const r=e._context;r.font=t;const i=r.measureText(e.METRICS_STRING+e.BASELINE_SYMBOL),n={ascent:i.actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent,fontSize:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent};return e._fonts[t]=n,n}static clearMetrics(t=""){t?delete e._fonts[t]:e._fonts={}}static get _canvas(){if(!e.__canvas){let t;try{const r=new OffscreenCanvas(0,0),n=r.getContext("2d",s);if(n?.measureText)return e.__canvas=r,r;t=i.e.get().createCanvas()}catch(e){t=i.e.get().createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",s)),e.__context}};a.METRICS_STRING="|ÉqÅ",a.BASELINE_SYMBOL="M",a.BASELINE_MULTIPLIER=1.4,a.HEIGHT_MULTIPLIER=2,a.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map((e=>e.segment))}return e=>[...e]})(),a.experimentalLetterSpacing=!1,a._fonts={},a._newlines=[10,13],a._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],a._measurementCache={};let o=a},1242:(e,t,r)=>{r.d(t,{Z:()=>n});const i=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function n(e){const t="number"==typeof e.fontSize?`${e.fontSize}px`:e.fontSize;let r=e.fontFamily;Array.isArray(e.fontFamily)||(r=e.fontFamily.split(","));for(let e=r.length-1;e>=0;e--){let t=r[e].trim();/([\"\'])[^\'\"]+\1/.test(t)||i.includes(t)||(t=`"${t}"`),r[e]=t}return`${e.fontStyle} ${e.fontVariant} ${e.fontWeight} ${t} ${r.join(",")}`}},3548:(e,t,r)=>{r.d(t,{r:()=>h});var i=r(2577),n=r(9313),s=r(4492),a=r(268),o=r(7276),l=r(2806);function h(e,t){if(e.texture===s.g.WHITE&&!e.fill)return i.Q.shared.setValue(e.color).setAlpha(e.alpha??1).toHexa();if(!e.fill){const r=t.createPattern(e.texture.source.resource,"repeat"),i=e.matrix.copyTo(n.u.shared);return i.scale(e.texture.frame.width,e.texture.frame.height),r.setTransform(i),r}if(e.fill instanceof l.m){const r=e.fill,i=t.createPattern(r.texture.source.resource,"repeat"),s=r.transform.copyTo(n.u.shared);return s.scale(r.texture.frame.width,r.texture.frame.height),i.setTransform(s),i}if(e.fill instanceof o._){const r=e.fill;if("linear"===r.type){const e=t.createLinearGradient(r.x0,r.y0,r.x1,r.y1);return r.gradientStops.forEach((t=>{e.addColorStop(t.offset,i.Q.shared.setValue(t.color).toHex())})),e}}return(0,a.R)("FillStyle not recognised",e),"red"}},6958:(e,t,r)=>{var i=r(8507),n=r(2048),s=r(8218),a=r(8422);class o{constructor(e){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.runners.resolutionChange.add(this)}resolutionChange(){for(const e in this._gpuText){const t=this._gpuText[e];if(!t)continue;const r=t.batchableSprite.renderable;r._autoResolution&&(r._resolution=this._renderer.resolution,r.onViewUpdate())}}validateRenderable(e){const t=this._getGpuText(e),r=e._getKey();if(t.currentKey!==r){const{width:r,height:i}=this._renderer.canvasText.getTextureSize(e.text,e.resolution,e._style);return 1!==this._renderer.canvasText.getReferenceCount(t.currentKey)||r!==t.texture._source.width||i!==t.texture._source.height}return!1}addRenderable(e,t){const r=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),t._batcher.updateElement(t)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const t=this._gpuText[e];this._renderer.canvasText.decreaseReferenceCount(t.currentKey),s.Z.return(t.batchableSprite),this._gpuText[e]=null}_updateText(e){const t=e._getKey(),r=this._getGpuText(e),i=r.batchableSprite;r.currentKey!==t&&this._updateGpuText(e),e._didTextUpdate=!1;const s=e._style.padding;(0,n.y)(i.bounds,e._anchor,i.texture,s)}_updateGpuText(e){const t=this._getGpuText(e),r=t.batchableSprite;t.texture&&this._renderer.canvasText.decreaseReferenceCount(t.currentKey),t.texture=r.texture=this._renderer.canvasText.getManagedTexture(e),t.currentKey=e._getKey(),r.texture=t.texture}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const t={texture:null,currentKey:"--",batchableSprite:s.Z.get(a.K)};return t.batchableSprite.renderable=e,t.batchableSprite.transform=e.groupTransform,t.batchableSprite.bounds={minX:0,maxX:1,minY:0,maxY:0},t.batchableSprite.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=t,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,this._updateText(e),e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}o.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"text"};var l=r(2577),h=r(9939),d=r(7608),u=r(2437),c=r(9252);function p(e,t,r){for(let i=0,n=4*r*t;i<t;++i,n+=4)if(0!==e[n+3])return!1;return!0}function f(e,t,r,i,n){const s=4*t;for(let t=i,a=i*s+4*r;t<=n;++t,a+=s)if(0!==e[a+3])return!1;return!0}var g=r(4670),_=r(8291),m=r(2558),x=r(4016),y=r(1242),b=r(3548);class S{constructor(e){this._activeTextures={},this._renderer=e}getTextureSize(e,t,r){const i=x.P.measureText(e||" ",r);let n=Math.ceil(Math.ceil(Math.max(1,i.width)+2*r.padding)*t),s=Math.ceil(Math.ceil(Math.max(1,i.height)+2*r.padding)*t);return n=Math.ceil(n-1e-6),s=Math.ceil(s-1e-6),n=(0,h.U5)(n),s=(0,h.U5)(s),{width:n,height:s}}getTexture(e,t,r,i){"string"==typeof e&&((0,g.t6)("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:r,resolution:t}),e.style instanceof _.x||(e.style=new _.x(e.style));const{texture:n,canvasAndContext:s}=this.createTextureAndCanvas(e);return this._renderer.texture.initSource(n._source),d.N.returnCanvasAndContext(s),n}createTextureAndCanvas(e){const{text:t,style:r}=e,i=e.resolution??this._renderer.resolution,n=x.P.measureText(t||" ",r),s=Math.ceil(Math.ceil(Math.max(1,n.width)+2*r.padding)*i),a=Math.ceil(Math.ceil(Math.max(1,n.height)+2*r.padding)*i),o=d.N.getOptimalCanvasAndContext(s,a),{canvas:l}=o;this.renderTextToCanvas(t,r,i,o);const h=(0,m.M)(l,s,a,i);if(r.trim){const e=function(e,t=1){const{width:r,height:i}=e,n=e.getContext("2d",{willReadFrequently:!0});if(null===n)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,r,i).data;let a=0,o=0,l=r-1,h=i-1;for(;o<i&&p(s,r,o);)++o;if(o===i)return c.M.EMPTY;for(;p(s,r,h);)--h;for(;f(s,r,a,o,h);)++a;for(;f(s,r,l,o,h);)--l;return++l,++h,new c.M(a/t,o/t,(l-a)/t,(h-o)/t)}(l,i);h.frame.copyFrom(e),h.updateUvs()}return{texture:h,canvasAndContext:o}}getManagedTexture(e){e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;const t=e._getKey();if(this._activeTextures[t])return this._increaseReferenceCount(t),this._activeTextures[t].texture;const{texture:r,canvasAndContext:i}=this.createTextureAndCanvas(e);return this._activeTextures[t]={canvasAndContext:i,texture:r,usageCount:1},r}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const t=this._activeTextures[e];if(t.usageCount--,0===t.usageCount){d.N.returnCanvasAndContext(t.canvasAndContext),u.W.returnTexture(t.texture);const r=t.texture.source;r.resource=null,r.uploadMethodId="unknown",r.alphaMode="no-premultiply-alpha",this._activeTextures[e]=null}}getReferenceCount(e){return this._activeTextures[e].usageCount}renderTextToCanvas(e,t,r,i){const{canvas:n,context:s}=i,a=(0,y.Z)(t),o=x.P.measureText(e||" ",t),h=o.lines,d=o.lineHeight,u=o.lineWidths,c=o.maxLineWidth,p=o.fontProperties,f=n.height;s.resetTransform(),s.scale(r,r);const g=2*t.padding;if(s.clearRect(0,0,o.width+4+g,o.height+4+g),t._stroke?.width){const e=t._stroke;s.lineWidth=e.width,s.miterLimit=e.miterLimit,s.lineJoin=e.join,s.lineCap=e.cap}let _,m;s.font=a;const S=t.dropShadow?2:1;for(let e=0;e<S;++e){const n=t.dropShadow&&0===e,a=n?Math.ceil(Math.max(1,f)+2*t.padding):0,o=a*r;if(n){s.fillStyle="black",s.strokeStyle="black";const e=t.dropShadow,i=e.color,n=e.alpha;s.shadowColor=l.Q.shared.setValue(i).setAlpha(n).toRgbaString();const a=e.blur*r,h=e.distance*r;s.shadowBlur=a,s.shadowOffsetX=Math.cos(e.angle)*h,s.shadowOffsetY=Math.sin(e.angle)*h+o}else s.globalAlpha=t._fill?.alpha??1,s.fillStyle=t._fill?(0,b.r)(t._fill,s):null,t._stroke?.width&&(s.strokeStyle=(0,b.r)(t._stroke,s)),s.shadowColor="black";let g=(d-p.fontSize)/2;d-p.fontSize<0&&(g=0);const x=t._stroke?.width??0;for(let e=0;e<h.length;e++)_=x/2,m=x/2+e*d+p.ascent+g,"right"===t.align?_+=c-u[e]:"center"===t.align&&(_+=(c-u[e])/2),t._stroke?.width&&this._drawLetterSpacing(h[e],t,i,_+t.padding,m+t.padding-a,!0),void 0!==t._fill&&this._drawLetterSpacing(h[e],t,i,_+t.padding,m+t.padding-a)}}_drawLetterSpacing(e,t,r,i,n,s=!1){const{context:a}=r,o=t.letterSpacing;let l=!1;if(x.P.experimentalLetterSpacingSupported&&(x.P.experimentalLetterSpacing?(a.letterSpacing=`${o}px`,a.textLetterSpacing=`${o}px`,l=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),0===o||l)return void(s?a.strokeText(e,i,n):a.fillText(e,i,n));let h=i;const d=x.P.graphemeSegmenter(e);let u=a.measureText(e).width,c=0;for(let e=0;e<d.length;++e){const t=d[e];s?a.strokeText(t,h,n):a.fillText(t,h,n);let r="";for(let t=e+1;t<d.length;++t)r+=d[t];c=a.measureText(r).width,h+=u-c+o,u=c}}destroy(){this._activeTextures=null}}S.extension={type:[i.Ag.WebGLSystem,i.Ag.WebGPUSystem,i.Ag.CanvasSystem],name:"canvasText"},i.XO.add(S),i.XO.add(o)},8011:(e,t,r)=>{r.d(t,{V:()=>s});var i=r(2577);const n=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function s(e){const t=[];let r=0;for(let i=0;i<n.length;i++){const s=`_${n[i]}`;t[r++]=e[s]}return r=a(e._fill,t,r),r=function(e,t,r){return e?(r=a(e,t,r),t[r++]=e.width,t[r++]=e.alignment,t[r++]=e.cap,t[r++]=e.join,t[r++]=e.miterLimit,r):r}(e._stroke,t,r),r=function(e,t,r){return e?(t[r++]=e.alpha,t[r++]=e.angle,t[r++]=e.blur,t[r++]=e.distance,t[r++]=i.Q.shared.setValue(e.color).toNumber(),r):r}(e.dropShadow,t,r),t.join("-")}function a(e,t,r){return e?(t[r++]=e.color,t[r++]=e.alpha,t[r++]=e.fill?.styleKey,r):r}},2558:(e,t,r)=>{r.d(t,{M:()=>s});var i=r(2437);const n=new(r(9636).c);function s(e,t,r,s){const a=n;a.minX=0,a.minY=0,a.maxX=e.width/s|0,a.maxY=e.height/s|0;const o=i.W.getOptimalTexture(a.width,a.height,s,!1);return o.source.uploadMethodId="image",o.source.resource=e,o.source.alphaMode="premultiply-alpha-on-upload",o.frame.width=t/s,o.frame.height=r/s,o.source.emit("update",o.source),o.updateUvs(),o}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixPQUFPdVosS0FBSyxTQUFVN1QsRUFBUTFGLFFBQ3RDMEYsRUFBUWlFLFlBQ0RqRSxDQUNULEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYXBwL1Jlc2l6ZVBsdWdpbi5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2FwcC9UaWNrZXJQbHVnaW4ubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hcHAvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvRmlsdGVyUGlwZS5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvZ2V0RmFzdEdsb2JhbEJvdW5kcy5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvRmlsdGVyU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL2JvdW5kcy9nZXRSZW5kZXJhYmxlQm91bmRzLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9pbml0Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9DYW52YXNQb29sLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2dyYXBoaWNzL2dwdS9jb2xvclRvVW5pZm9ybS5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2dyYXBoaWNzL3NoYXJlZC9HcmFwaGljc1BpcGUubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9ncmFwaGljcy9pbml0Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC9zaGFyZWQvTWVzaFBpcGUubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9tZXNoL2luaXQubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9tZXNoL3NoYXJlZC9CYXRjaGFibGVNZXNoLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC9zaGFyZWQvTWVzaEdlb21ldHJ5Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC1wbGFuZS9QbGFuZUdlb21ldHJ5Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLW5pbmUtc2xpY2UvTmluZVNsaWNlR2VvbWV0cnkubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtbmluZS1zbGljZS9OaW5lU2xpY2VTcHJpdGVQaXBlLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLW5pbmUtc2xpY2UvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvc2hhZGVyL3RpbGluZ0JpdC5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvc2hhZGVyL1RpbGluZ1Nwcml0ZVNoYWRlci5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvdXRpbHMvUXVhZEdlb21ldHJ5Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy9UaWxpbmdTcHJpdGVQaXBlLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9zZXRVdnMubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtdGlsaW5nL3V0aWxzL2FwcGx5TWF0cml4Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9zZXRQb3NpdGlvbnMubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtdGlsaW5nL2luaXQubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9zZGZTaGFkZXIvc2hhZGVyLWJpdHMvbG9jYWxVbmlmb3JtTVNERkJpdC5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvc2RmU2hhZGVyL3NoYWRlci1iaXRzL21TREZCaXQubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9TZGZTaGFkZXIubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9BYnN0cmFjdEJpdG1hcEZvbnQubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC91dGlscy9yZXNvbHZlQ2hhcmFjdGVycy5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtYml0bWFwL0R5bmFtaWNCaXRtYXBGb250Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1iaXRtYXAvdXRpbHMvZ2V0Qml0bWFwVGV4dExheW91dC5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtYml0bWFwL0JpdG1hcEZvbnRNYW5hZ2VyLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1iaXRtYXAvQml0bWFwVGV4dFBpcGUubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL0hUTUxUZXh0UGlwZS5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC9IVE1MVGV4dFJlbmRlckRhdGEubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvdGV4dFN0eWxlVG9DU1MubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvSHRtbFRleHRTdHlsZS5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9sb2FkRm9udENTUy5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9sb2FkRm9udEFzQmFzZTY0Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2dldEZvbnRDc3MubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvbWVhc3VyZUh0bWxUZXh0Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL0hUTUxUZXh0U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2V4dHJhY3RGb250RmFtaWxpZXMubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvZ2V0U1ZHVXJsLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2xvYWRTVkdJbWFnZS5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3V0aWxzL2Jyb3dzZXIvaXNTYWZhcmkubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL2luaXQubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L1RleHRTdHlsZS5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvY2FudmFzL0NhbnZhc1RleHRNZXRyaWNzLm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9jYW52YXMvdXRpbHMvZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy91dGlscy9nZXRDYW52YXNGaWxsU3R5bGUubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy9DYW52YXNUZXh0UGlwZS5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3V0aWxzL2NhbnZhcy9nZXRDYW52YXNCb3VuZGluZ0JveC5tanMiLCJ3ZWJwYWNrOi8vbmV0c2ltLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvY2FudmFzL0NhbnZhc1RleHRTeXN0ZW0ubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2luaXQubWpzIiwid2VicGFjazovL25ldHNpbS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3V0aWxzL2dlbmVyYXRlVGV4dFN0eWxlS2V5Lm1qcyIsIndlYnBhY2s6Ly9uZXRzaW0vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC91dGlscy9nZXRQbzJUZXh0dXJlRnJvbVNvdXJjZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFJlc2l6ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgKiBAc3RhdGljXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgKi9cbiAgc3RhdGljIGluaXQob3B0aW9ucykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIHRoaXMsXG4gICAgICBcInJlc2l6ZVRvXCIsXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBIVE1MIGVsZW1lbnQgb3Igd2luZG93IHRvIGF1dG9tYXRpY2FsbHkgcmVzaXplIHRoZVxuICAgICAgICogcmVuZGVyZXIncyB2aWV3IGVsZW1lbnQgdG8gbWF0Y2ggd2lkdGggYW5kIGhlaWdodC5cbiAgICAgICAqIEBtZW1iZXIge1dpbmRvd3xIVE1MRWxlbWVudH1cbiAgICAgICAqIEBuYW1lIHJlc2l6ZVRvXG4gICAgICAgKiBAbWVtYmVyb2YgYXBwLkFwcGxpY2F0aW9uI1xuICAgICAgICovXG4gICAgICB7XG4gICAgICAgIHNldChkb20pIHtcbiAgICAgICAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplVG87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMucXVldWVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NhbmNlbFJlc2l6ZSgpO1xuICAgICAgdGhpcy5fcmVzaXplSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5yZXNpemUoKSk7XG4gICAgfTtcbiAgICB0aGlzLl9jYW5jZWxSZXNpemUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fcmVzaXplSWQpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVzaXplSWQpO1xuICAgICAgICB0aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fcmVzaXplVG8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FuY2VsUmVzaXplKCk7XG4gICAgICBsZXQgd2lkdGg7XG4gICAgICBsZXQgaGVpZ2h0O1xuICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVRvID09PSBnbG9iYWxUaGlzLndpbmRvdykge1xuICAgICAgICB3aWR0aCA9IGdsb2JhbFRoaXMuaW5uZXJXaWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gZ2xvYmFsVGhpcy5pbm5lckhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCB9ID0gdGhpcy5fcmVzaXplVG87XG4gICAgICAgIHdpZHRoID0gY2xpZW50V2lkdGg7XG4gICAgICAgIGhlaWdodCA9IGNsaWVudEhlaWdodDtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9O1xuICAgIHRoaXMuX3Jlc2l6ZUlkID0gbnVsbDtcbiAgICB0aGlzLl9yZXNpemVUbyA9IG51bGw7XG4gICAgdGhpcy5yZXNpemVUbyA9IG9wdGlvbnMucmVzaXplVG8gfHwgbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBkZXN0cm95KCkge1xuICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICB0aGlzLl9jYW5jZWxSZXNpemUoKTtcbiAgICB0aGlzLl9jYW5jZWxSZXNpemUgPSBudWxsO1xuICAgIHRoaXMucXVldWVSZXNpemUgPSBudWxsO1xuICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblJlc2l6ZVBsdWdpbi5leHRlbnNpb24gPSBFeHRlbnNpb25UeXBlLkFwcGxpY2F0aW9uO1xuXG5leHBvcnQgeyBSZXNpemVQbHVnaW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc2l6ZVBsdWdpbi5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICcuLi90aWNrZXIvY29uc3QubWpzJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJy4uL3RpY2tlci9UaWNrZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBUaWNrZXJQbHVnaW4ge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2luIHdpdGggc2NvcGUgb2YgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICogQHN0YXRpY1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICovXG4gIHN0YXRpYyBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgICBzaGFyZWRUaWNrZXI6IGZhbHNlXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgdGhpcyxcbiAgICAgIFwidGlja2VyXCIsXG4gICAgICB7XG4gICAgICAgIHNldCh0aWNrZXIpIHtcbiAgICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuc3RvcCA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3RpY2tlci5zdG9wKCk7XG4gICAgfTtcbiAgICB0aGlzLnN0YXJ0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5fdGlja2VyLnN0YXJ0KCk7XG4gICAgfTtcbiAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBUaWNrZXIuc2hhcmVkIDogbmV3IFRpY2tlcigpO1xuICAgIGlmIChvcHRpb25zLmF1dG9TdGFydCkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICAgKiBAc3RhdGljXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICBjb25zdCBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG4gICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblRpY2tlclBsdWdpbi5leHRlbnNpb24gPSBFeHRlbnNpb25UeXBlLkFwcGxpY2F0aW9uO1xuXG5leHBvcnQgeyBUaWNrZXJQbHVnaW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpY2tlclBsdWdpbi5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBSZXNpemVQbHVnaW4gfSBmcm9tICcuL1Jlc2l6ZVBsdWdpbi5tanMnO1xuaW1wb3J0IHsgVGlja2VyUGx1Z2luIH0gZnJvbSAnLi9UaWNrZXJQbHVnaW4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChSZXNpemVQbHVnaW4pO1xuZXh0ZW5zaW9ucy5hZGQoVGlja2VyUGx1Z2luKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEZpbHRlclBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcHVzaChmaWx0ZXJFZmZlY3QsIGNvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCByZW5kZXJQaXBlcyA9IHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzO1xuICAgIHJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImZpbHRlclwiLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZSxcbiAgICAgIGFjdGlvbjogXCJwdXNoRmlsdGVyXCIsXG4gICAgICBjb250YWluZXIsXG4gICAgICBmaWx0ZXJFZmZlY3RcbiAgICB9KTtcbiAgfVxuICBwb3AoX2ZpbHRlckVmZmVjdCwgX2NvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgIGFjdGlvbjogXCJwb3BGaWx0ZXJcIixcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBleGVjdXRlKGluc3RydWN0aW9uKSB7XG4gICAgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoRmlsdGVyXCIpIHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmZpbHRlci5wdXNoKGluc3RydWN0aW9uKTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwb3BGaWx0ZXJcIikge1xuICAgICAgdGhpcy5fcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuRmlsdGVyUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiZmlsdGVyXCJcbn07XG5cbmV4cG9ydCB7IEZpbHRlclBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlclBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgYm91bmRzUG9vbCB9IGZyb20gJy4vdXRpbHMvbWF0cml4QW5kQm91bmRzUG9vbC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5mdW5jdGlvbiBnZXRGYXN0R2xvYmFsQm91bmRzKHRhcmdldCwgYm91bmRzKSB7XG4gIGJvdW5kcy5jbGVhcigpO1xuICBfZ2V0R2xvYmFsQm91bmRzUmVjdXJzaXZlKHRhcmdldCwgYm91bmRzKTtcbiAgaWYgKCFib3VuZHMuaXNWYWxpZCkge1xuICAgIGJvdW5kcy5zZXQoMCwgMCwgMCwgMCk7XG4gIH1cbiAgaWYgKCF0YXJnZXQucmVuZGVyR3JvdXApIHtcbiAgICBib3VuZHMuYXBwbHlNYXRyaXgodGFyZ2V0LnBhcmVudFJlbmRlckdyb3VwLndvcmxkVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICBib3VuZHMuYXBwbHlNYXRyaXgodGFyZ2V0LnJlbmRlckdyb3VwLmxvY2FsVHJhbnNmb3JtKTtcbiAgfVxuICByZXR1cm4gYm91bmRzO1xufVxuZnVuY3Rpb24gX2dldEdsb2JhbEJvdW5kc1JlY3Vyc2l2ZSh0YXJnZXQsIGJvdW5kcykge1xuICBpZiAodGFyZ2V0LmxvY2FsRGlzcGxheVN0YXR1cyAhPT0gNyB8fCAhdGFyZ2V0Lm1lYXN1cmFibGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbWFuYWdlRWZmZWN0cyA9ICEhdGFyZ2V0LmVmZmVjdHMubGVuZ3RoO1xuICBsZXQgbG9jYWxCb3VuZHMgPSBib3VuZHM7XG4gIGlmICh0YXJnZXQucmVuZGVyR3JvdXAgfHwgbWFuYWdlRWZmZWN0cykge1xuICAgIGxvY2FsQm91bmRzID0gYm91bmRzUG9vbC5nZXQoKS5jbGVhcigpO1xuICB9XG4gIGlmICh0YXJnZXQuYm91bmRzQXJlYSkge1xuICAgIGJvdW5kcy5hZGRSZWN0KHRhcmdldC5ib3VuZHNBcmVhLCB0YXJnZXQud29ybGRUcmFuc2Zvcm0pO1xuICB9IGVsc2Uge1xuICAgIGlmICh0YXJnZXQucmVuZGVyUGlwZUlkKSB7XG4gICAgICBjb25zdCB2aWV3Qm91bmRzID0gdGFyZ2V0LmJvdW5kcztcbiAgICAgIGxvY2FsQm91bmRzLmFkZEZyYW1lKFxuICAgICAgICB2aWV3Qm91bmRzLm1pblgsXG4gICAgICAgIHZpZXdCb3VuZHMubWluWSxcbiAgICAgICAgdmlld0JvdW5kcy5tYXhYLFxuICAgICAgICB2aWV3Qm91bmRzLm1heFksXG4gICAgICAgIHRhcmdldC5ncm91cFRyYW5zZm9ybVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSB0YXJnZXQuY2hpbGRyZW47XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgX2dldEdsb2JhbEJvdW5kc1JlY3Vyc2l2ZShjaGlsZHJlbltpXSwgbG9jYWxCb3VuZHMpO1xuICAgIH1cbiAgfVxuICBpZiAobWFuYWdlRWZmZWN0cykge1xuICAgIGxldCBhZHZhbmNlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0LmVmZmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0YXJnZXQuZWZmZWN0c1tpXS5hZGRCb3VuZHMpIHtcbiAgICAgICAgaWYgKCFhZHZhbmNlZCkge1xuICAgICAgICAgIGFkdmFuY2VkID0gdHJ1ZTtcbiAgICAgICAgICBsb2NhbEJvdW5kcy5hcHBseU1hdHJpeCh0YXJnZXQucGFyZW50UmVuZGVyR3JvdXAud29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldC5lZmZlY3RzW2ldLmFkZEJvdW5kcyhsb2NhbEJvdW5kcywgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhZHZhbmNlZCkge1xuICAgICAgbG9jYWxCb3VuZHMuYXBwbHlNYXRyaXgodGFyZ2V0LnBhcmVudFJlbmRlckdyb3VwLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0ZW1wTWF0cml4KS5pbnZlcnQoKSk7XG4gICAgICBib3VuZHMuYWRkQm91bmRzKGxvY2FsQm91bmRzLCB0YXJnZXQucmVsYXRpdmVHcm91cFRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGJvdW5kcy5hZGRCb3VuZHMobG9jYWxCb3VuZHMpO1xuICAgIGJvdW5kc1Bvb2wucmV0dXJuKGxvY2FsQm91bmRzKTtcbiAgfSBlbHNlIGlmICh0YXJnZXQucmVuZGVyR3JvdXApIHtcbiAgICBib3VuZHMuYWRkQm91bmRzKGxvY2FsQm91bmRzLCB0YXJnZXQucmVsYXRpdmVHcm91cFRyYW5zZm9ybSk7XG4gICAgYm91bmRzUG9vbC5yZXR1cm4obG9jYWxCb3VuZHMpO1xuICB9XG59XG5cbmV4cG9ydCB7IF9nZXRHbG9iYWxCb3VuZHNSZWN1cnNpdmUsIGdldEZhc3RHbG9iYWxCb3VuZHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEZhc3RHbG9iYWxCb3VuZHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9tYXRocy9wb2ludC9Qb2ludC5tanMnO1xuaW1wb3J0IHsgQmluZEdyb3VwIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL0JpbmRHcm91cC5tanMnO1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9nZW9tZXRyeS9HZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVBvb2wgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tICcuLi9zY2VuZS9jb250YWluZXIvYm91bmRzL0JvdW5kcy5tanMnO1xuaW1wb3J0IHsgZ2V0RmFzdEdsb2JhbEJvdW5kcyB9IGZyb20gJy4uL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvZ2V0RmFzdEdsb2JhbEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsUmVuZGVyYWJsZUJvdW5kcyB9IGZyb20gJy4uL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvZ2V0UmVuZGVyYWJsZUJvdW5kcy5tanMnO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHF1YWRHZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSh7XG4gIGF0dHJpYnV0ZXM6IHtcbiAgICBhUG9zaXRpb246IHtcbiAgICAgIGJ1ZmZlcjogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pLFxuICAgICAgZm9ybWF0OiBcImZsb2F0MzJ4MlwiLFxuICAgICAgc3RyaWRlOiAyICogNCxcbiAgICAgIG9mZnNldDogMFxuICAgIH1cbiAgfSxcbiAgaW5kZXhCdWZmZXI6IG5ldyBVaW50MzJBcnJheShbMCwgMSwgMiwgMCwgMiwgM10pXG59KTtcbmNsYXNzIEZpbHRlclN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fZmlsdGVyU3RhY2tJbmRleCA9IDA7XG4gICAgdGhpcy5fZmlsdGVyU3RhY2sgPSBbXTtcbiAgICB0aGlzLl9maWx0ZXJHbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdUlucHV0U2l6ZTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUlucHV0UGl4ZWw6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVJbnB1dENsYW1wOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1T3V0cHV0RnJhbWU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVHbG9iYWxGcmFtZTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdU91dHB1dFRleHR1cmU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfVxuICAgIH0pO1xuICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cCA9IG5ldyBCaW5kR3JvdXAoe30pO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICAvKipcbiAgICogVGhlIGJhY2sgdGV4dHVyZSBvZiB0aGUgY3VycmVudGx5IGFjdGl2ZSBmaWx0ZXIuIFJlcXVpcmVzIHRoZSBmaWx0ZXIgdG8gaGF2ZSBgYmxlbmRSZXF1aXJlZGAgc2V0IHRvIHRydWUuXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGFjdGl2ZUJhY2tUZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmVGaWx0ZXJEYXRhPy5iYWNrVGV4dHVyZTtcbiAgfVxuICBwdXNoKGluc3RydWN0aW9uKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGZpbHRlcnMgPSBpbnN0cnVjdGlvbi5maWx0ZXJFZmZlY3QuZmlsdGVycztcbiAgICBpZiAoIXRoaXMuX2ZpbHRlclN0YWNrW3RoaXMuX2ZpbHRlclN0YWNrSW5kZXhdKSB7XG4gICAgICB0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4XSA9IHRoaXMuX2dldEZpbHRlckRhdGEoKTtcbiAgICB9XG4gICAgY29uc3QgZmlsdGVyRGF0YSA9IHRoaXMuX2ZpbHRlclN0YWNrW3RoaXMuX2ZpbHRlclN0YWNrSW5kZXhdO1xuICAgIHRoaXMuX2ZpbHRlclN0YWNrSW5kZXgrKztcbiAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZpbHRlckRhdGEuc2tpcCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGJvdW5kcyA9IGZpbHRlckRhdGEuYm91bmRzO1xuICAgIGlmIChpbnN0cnVjdGlvbi5yZW5kZXJhYmxlcykge1xuICAgICAgZ2V0R2xvYmFsUmVuZGVyYWJsZUJvdW5kcyhpbnN0cnVjdGlvbi5yZW5kZXJhYmxlcywgYm91bmRzKTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmZpbHRlckVmZmVjdC5maWx0ZXJBcmVhKSB7XG4gICAgICBib3VuZHMuY2xlYXIoKTtcbiAgICAgIGJvdW5kcy5hZGRSZWN0KGluc3RydWN0aW9uLmZpbHRlckVmZmVjdC5maWx0ZXJBcmVhKTtcbiAgICAgIGJvdW5kcy5hcHBseU1hdHJpeChpbnN0cnVjdGlvbi5jb250YWluZXIud29ybGRUcmFuc2Zvcm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZXRGYXN0R2xvYmFsQm91bmRzKGluc3RydWN0aW9uLmNvbnRhaW5lciwgYm91bmRzKTtcbiAgICB9XG4gICAgY29uc3QgY29sb3JUZXh0dXJlU291cmNlID0gcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldC5jb2xvclRleHR1cmUuc291cmNlO1xuICAgIGxldCByZXNvbHV0aW9uID0gSW5maW5pdHk7XG4gICAgbGV0IHBhZGRpbmcgPSAwO1xuICAgIGxldCBhbnRpYWxpYXMgPSB0cnVlO1xuICAgIGxldCBibGVuZFJlcXVpcmVkID0gZmFsc2U7XG4gICAgbGV0IGVuYWJsZWQgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlcnNbaV07XG4gICAgICByZXNvbHV0aW9uID0gTWF0aC5taW4ocmVzb2x1dGlvbiwgZmlsdGVyLnJlc29sdXRpb24gPT09IFwiaW5oZXJpdFwiID8gY29sb3JUZXh0dXJlU291cmNlLl9yZXNvbHV0aW9uIDogZmlsdGVyLnJlc29sdXRpb24pO1xuICAgICAgcGFkZGluZyArPSBmaWx0ZXIucGFkZGluZztcbiAgICAgIGlmIChmaWx0ZXIuYW50aWFsaWFzID09PSBcIm9mZlwiKSB7XG4gICAgICAgIGFudGlhbGlhcyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXIuYW50aWFsaWFzID09PSBcImluaGVyaXRcIikge1xuICAgICAgICBhbnRpYWxpYXMgJiYgKGFudGlhbGlhcyA9IGNvbG9yVGV4dHVyZVNvdXJjZS5hbnRpYWxpYXMpO1xuICAgICAgfVxuICAgICAgY29uc3QgaXNDb21wYXRpYmxlID0gISEoZmlsdGVyLmNvbXBhdGlibGVSZW5kZXJlcnMgJiByZW5kZXJlci50eXBlKTtcbiAgICAgIGlmICghaXNDb21wYXRpYmxlKSB7XG4gICAgICAgIGVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoZmlsdGVyLmJsZW5kUmVxdWlyZWQgJiYgIShyZW5kZXJlci5iYWNrQnVmZmVyPy51c2VCYWNrQnVmZmVyID8/IHRydWUpKSB7XG4gICAgICAgIHdhcm4oXCJCbGVuZCBmaWx0ZXIgcmVxdWlyZXMgYmFja0J1ZmZlciBvbiBXZWJHTCByZW5kZXJlciB0byBiZSBlbmFibGVkLiBTZXQgYHVzZUJhY2tCdWZmZXI6IHRydWVgIGluIHRoZSByZW5kZXJlciBvcHRpb25zLlwiKTtcbiAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGVuYWJsZWQgPSBmaWx0ZXIuZW5hYmxlZCB8fCBlbmFibGVkO1xuICAgICAgYmxlbmRSZXF1aXJlZCA9IGJsZW5kUmVxdWlyZWQgfHwgZmlsdGVyLmJsZW5kUmVxdWlyZWQ7XG4gICAgfVxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgZmlsdGVyRGF0YS5za2lwID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgdmlld1BvcnQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucm9vdFZpZXdQb3J0O1xuICAgIGJvdW5kcy5zY2FsZShyZXNvbHV0aW9uKS5maXRCb3VuZHMoMCwgdmlld1BvcnQud2lkdGgsIDAsIHZpZXdQb3J0LmhlaWdodCkuY2VpbCgpLnNjYWxlKDEgLyByZXNvbHV0aW9uKS5wYWQocGFkZGluZyB8IDApO1xuICAgIGlmICghYm91bmRzLmlzUG9zaXRpdmUpIHtcbiAgICAgIGZpbHRlckRhdGEuc2tpcCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpbHRlckRhdGEuc2tpcCA9IGZhbHNlO1xuICAgIGZpbHRlckRhdGEuYm91bmRzID0gYm91bmRzO1xuICAgIGZpbHRlckRhdGEuYmxlbmRSZXF1aXJlZCA9IGJsZW5kUmVxdWlyZWQ7XG4gICAgZmlsdGVyRGF0YS5jb250YWluZXIgPSBpbnN0cnVjdGlvbi5jb250YWluZXI7XG4gICAgZmlsdGVyRGF0YS5maWx0ZXJFZmZlY3QgPSBpbnN0cnVjdGlvbi5maWx0ZXJFZmZlY3Q7XG4gICAgZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2UgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyU3VyZmFjZTtcbiAgICBmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgIHJlc29sdXRpb24sXG4gICAgICBhbnRpYWxpYXNcbiAgICApO1xuICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5iaW5kKGZpbHRlckRhdGEuaW5wdXRUZXh0dXJlLCB0cnVlKTtcbiAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wdXNoKHtcbiAgICAgIG9mZnNldDogYm91bmRzXG4gICAgfSk7XG4gIH1cbiAgcG9wKCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICB0aGlzLl9maWx0ZXJTdGFja0luZGV4LS07XG4gICAgY29uc3QgZmlsdGVyRGF0YSA9IHRoaXMuX2ZpbHRlclN0YWNrW3RoaXMuX2ZpbHRlclN0YWNrSW5kZXhdO1xuICAgIGlmIChmaWx0ZXJEYXRhLnNraXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlRmlsdGVyRGF0YSA9IGZpbHRlckRhdGE7XG4gICAgY29uc3QgaW5wdXRUZXh0dXJlID0gZmlsdGVyRGF0YS5pbnB1dFRleHR1cmU7XG4gICAgY29uc3QgYm91bmRzID0gZmlsdGVyRGF0YS5ib3VuZHM7XG4gICAgbGV0IGJhY2tUZXh0dXJlID0gVGV4dHVyZS5FTVBUWTtcbiAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuZmluaXNoUmVuZGVyUGFzcygpO1xuICAgIGlmIChmaWx0ZXJEYXRhLmJsZW5kUmVxdWlyZWQpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzQm91bmRzID0gdGhpcy5fZmlsdGVyU3RhY2tJbmRleCA+IDAgPyB0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4IC0gMV0uYm91bmRzIDogbnVsbDtcbiAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5nZXRSZW5kZXJUYXJnZXQoZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2UpO1xuICAgICAgYmFja1RleHR1cmUgPSB0aGlzLmdldEJhY2tUZXh0dXJlKHJlbmRlclRhcmdldCwgYm91bmRzLCBwcmV2aW91c0JvdW5kcyk7XG4gICAgfVxuICAgIGZpbHRlckRhdGEuYmFja1RleHR1cmUgPSBiYWNrVGV4dHVyZTtcbiAgICBjb25zdCBmaWx0ZXJzID0gZmlsdGVyRGF0YS5maWx0ZXJFZmZlY3QuZmlsdGVycztcbiAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UoaW5wdXRUZXh0dXJlLnNvdXJjZS5zdHlsZSwgMik7XG4gICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKGJhY2tUZXh0dXJlLnNvdXJjZSwgMyk7XG4gICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucG9wKCk7XG4gICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIGlucHV0VGV4dHVyZSwgZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2UsIGZhbHNlKTtcbiAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUoaW5wdXRUZXh0dXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGZsaXAgPSBmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZTtcbiAgICAgIGxldCBmbG9wID0gVGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoXG4gICAgICAgIGJvdW5kcy53aWR0aCxcbiAgICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgICAgZmxpcC5zb3VyY2UuX3Jlc29sdXRpb24sXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlcnNbaV07XG4gICAgICAgIGZpbHRlci5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCB0cnVlKTtcbiAgICAgICAgY29uc3QgdCA9IGZsaXA7XG4gICAgICAgIGZsaXAgPSBmbG9wO1xuICAgICAgICBmbG9wID0gdDtcbiAgICAgIH1cbiAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2UsIGZhbHNlKTtcbiAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUoZmxpcCk7XG4gICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKGZsb3ApO1xuICAgIH1cbiAgICBpZiAoZmlsdGVyRGF0YS5ibGVuZFJlcXVpcmVkKSB7XG4gICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKGJhY2tUZXh0dXJlKTtcbiAgICB9XG4gIH1cbiAgZ2V0QmFja1RleHR1cmUobGFzdFJlbmRlclN1cmZhY2UsIGJvdW5kcywgcHJldmlvdXNCb3VuZHMpIHtcbiAgICBjb25zdCBiYWNrZ3JvdW5kUmVzb2x1dGlvbiA9IGxhc3RSZW5kZXJTdXJmYWNlLmNvbG9yVGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb247XG4gICAgY29uc3QgYmFja1RleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICAgIGJvdW5kcy53aWR0aCxcbiAgICAgIGJvdW5kcy5oZWlnaHQsXG4gICAgICBiYWNrZ3JvdW5kUmVzb2x1dGlvbixcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBsZXQgeCA9IGJvdW5kcy5taW5YO1xuICAgIGxldCB5ID0gYm91bmRzLm1pblk7XG4gICAgaWYgKHByZXZpb3VzQm91bmRzKSB7XG4gICAgICB4IC09IHByZXZpb3VzQm91bmRzLm1pblg7XG4gICAgICB5IC09IHByZXZpb3VzQm91bmRzLm1pblk7XG4gICAgfVxuICAgIHggPSBNYXRoLmZsb29yKHggKiBiYWNrZ3JvdW5kUmVzb2x1dGlvbik7XG4gICAgeSA9IE1hdGguZmxvb3IoeSAqIGJhY2tncm91bmRSZXNvbHV0aW9uKTtcbiAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChib3VuZHMud2lkdGggKiBiYWNrZ3JvdW5kUmVzb2x1dGlvbik7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKGJvdW5kcy5oZWlnaHQgKiBiYWNrZ3JvdW5kUmVzb2x1dGlvbik7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXJUYXJnZXQuY29weVRvVGV4dHVyZShcbiAgICAgIGxhc3RSZW5kZXJTdXJmYWNlLFxuICAgICAgYmFja1RleHR1cmUsXG4gICAgICB7IHgsIHkgfSxcbiAgICAgIHsgd2lkdGgsIGhlaWdodCB9LFxuICAgICAgeyB4OiAwLCB5OiAwIH1cbiAgICApO1xuICAgIHJldHVybiBiYWNrVGV4dHVyZTtcbiAgfVxuICBhcHBseUZpbHRlcihmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4XTtcbiAgICBjb25zdCBib3VuZHMgPSBmaWx0ZXJEYXRhLmJvdW5kcztcbiAgICBjb25zdCBvZmZzZXQgPSBQb2ludC5zaGFyZWQ7XG4gICAgY29uc3QgcHJldmlvdXNSZW5kZXJTdXJmYWNlID0gZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2U7XG4gICAgY29uc3QgaXNGaW5hbFRhcmdldCA9IHByZXZpb3VzUmVuZGVyU3VyZmFjZSA9PT0gb3V0cHV0O1xuICAgIGxldCByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUYXJnZXQucm9vdFJlbmRlclRhcmdldC5jb2xvclRleHR1cmUuc291cmNlLl9yZXNvbHV0aW9uO1xuICAgIGxldCBjdXJyZW50SW5kZXggPSB0aGlzLl9maWx0ZXJTdGFja0luZGV4IC0gMTtcbiAgICB3aGlsZSAoY3VycmVudEluZGV4ID4gMCAmJiB0aGlzLl9maWx0ZXJTdGFja1tjdXJyZW50SW5kZXhdLnNraXApIHtcbiAgICAgIC0tY3VycmVudEluZGV4O1xuICAgIH1cbiAgICBpZiAoY3VycmVudEluZGV4ID4gMCkge1xuICAgICAgcmVzb2x1dGlvbiA9IHRoaXMuX2ZpbHRlclN0YWNrW2N1cnJlbnRJbmRleF0uaW5wdXRUZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgICB9XG4gICAgY29uc3QgZmlsdGVyVW5pZm9ybXMgPSB0aGlzLl9maWx0ZXJHbG9iYWxVbmlmb3JtcztcbiAgICBjb25zdCB1bmlmb3JtcyA9IGZpbHRlclVuaWZvcm1zLnVuaWZvcm1zO1xuICAgIGNvbnN0IG91dHB1dEZyYW1lID0gdW5pZm9ybXMudU91dHB1dEZyYW1lO1xuICAgIGNvbnN0IGlucHV0U2l6ZSA9IHVuaWZvcm1zLnVJbnB1dFNpemU7XG4gICAgY29uc3QgaW5wdXRQaXhlbCA9IHVuaWZvcm1zLnVJbnB1dFBpeGVsO1xuICAgIGNvbnN0IGlucHV0Q2xhbXAgPSB1bmlmb3Jtcy51SW5wdXRDbGFtcDtcbiAgICBjb25zdCBnbG9iYWxGcmFtZSA9IHVuaWZvcm1zLnVHbG9iYWxGcmFtZTtcbiAgICBjb25zdCBvdXRwdXRUZXh0dXJlID0gdW5pZm9ybXMudU91dHB1dFRleHR1cmU7XG4gICAgaWYgKGlzRmluYWxUYXJnZXQpIHtcbiAgICAgIGxldCBsYXN0SW5kZXggPSB0aGlzLl9maWx0ZXJTdGFja0luZGV4O1xuICAgICAgd2hpbGUgKGxhc3RJbmRleCA+IDApIHtcbiAgICAgICAgbGFzdEluZGV4LS07XG4gICAgICAgIGNvbnN0IGZpbHRlckRhdGEyID0gdGhpcy5fZmlsdGVyU3RhY2tbdGhpcy5fZmlsdGVyU3RhY2tJbmRleCAtIDFdO1xuICAgICAgICBpZiAoIWZpbHRlckRhdGEyLnNraXApIHtcbiAgICAgICAgICBvZmZzZXQueCA9IGZpbHRlckRhdGEyLmJvdW5kcy5taW5YO1xuICAgICAgICAgIG9mZnNldC55ID0gZmlsdGVyRGF0YTIuYm91bmRzLm1pblk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG91dHB1dEZyYW1lWzBdID0gYm91bmRzLm1pblggLSBvZmZzZXQueDtcbiAgICAgIG91dHB1dEZyYW1lWzFdID0gYm91bmRzLm1pblkgLSBvZmZzZXQueTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0RnJhbWVbMF0gPSAwO1xuICAgICAgb3V0cHV0RnJhbWVbMV0gPSAwO1xuICAgIH1cbiAgICBvdXRwdXRGcmFtZVsyXSA9IGlucHV0LmZyYW1lLndpZHRoO1xuICAgIG91dHB1dEZyYW1lWzNdID0gaW5wdXQuZnJhbWUuaGVpZ2h0O1xuICAgIGlucHV0U2l6ZVswXSA9IGlucHV0LnNvdXJjZS53aWR0aDtcbiAgICBpbnB1dFNpemVbMV0gPSBpbnB1dC5zb3VyY2UuaGVpZ2h0O1xuICAgIGlucHV0U2l6ZVsyXSA9IDEgLyBpbnB1dFNpemVbMF07XG4gICAgaW5wdXRTaXplWzNdID0gMSAvIGlucHV0U2l6ZVsxXTtcbiAgICBpbnB1dFBpeGVsWzBdID0gaW5wdXQuc291cmNlLnBpeGVsV2lkdGg7XG4gICAgaW5wdXRQaXhlbFsxXSA9IGlucHV0LnNvdXJjZS5waXhlbEhlaWdodDtcbiAgICBpbnB1dFBpeGVsWzJdID0gMSAvIGlucHV0UGl4ZWxbMF07XG4gICAgaW5wdXRQaXhlbFszXSA9IDEgLyBpbnB1dFBpeGVsWzFdO1xuICAgIGlucHV0Q2xhbXBbMF0gPSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgIGlucHV0Q2xhbXBbMV0gPSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgIGlucHV0Q2xhbXBbMl0gPSBpbnB1dC5mcmFtZS53aWR0aCAqIGlucHV0U2l6ZVsyXSAtIDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgaW5wdXRDbGFtcFszXSA9IGlucHV0LmZyYW1lLmhlaWdodCAqIGlucHV0U2l6ZVszXSAtIDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgY29uc3Qgcm9vdFRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLnJlbmRlclRhcmdldC5yb290UmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZTtcbiAgICBnbG9iYWxGcmFtZVswXSA9IG9mZnNldC54ICogcmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZVsxXSA9IG9mZnNldC55ICogcmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZVsyXSA9IHJvb3RUZXh0dXJlLnNvdXJjZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgZ2xvYmFsRnJhbWVbM10gPSByb290VGV4dHVyZS5zb3VyY2UuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCByZW5kZXJUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLnJlbmRlclRhcmdldC5nZXRSZW5kZXJUYXJnZXQob3V0cHV0KTtcbiAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuYmluZChvdXRwdXQsICEhY2xlYXIpO1xuICAgIGlmIChvdXRwdXQgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICBvdXRwdXRUZXh0dXJlWzBdID0gb3V0cHV0LmZyYW1lLndpZHRoO1xuICAgICAgb3V0cHV0VGV4dHVyZVsxXSA9IG91dHB1dC5mcmFtZS5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dFRleHR1cmVbMF0gPSByZW5kZXJUYXJnZXQud2lkdGg7XG4gICAgICBvdXRwdXRUZXh0dXJlWzFdID0gcmVuZGVyVGFyZ2V0LmhlaWdodDtcbiAgICB9XG4gICAgb3V0cHV0VGV4dHVyZVsyXSA9IHJlbmRlclRhcmdldC5pc1Jvb3QgPyAtMSA6IDE7XG4gICAgZmlsdGVyVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgaWYgKHJlbmRlcmVyLnJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaCkge1xuICAgICAgY29uc3QgYmF0Y2hVbmlmb3JtcyA9IHJlbmRlcmVyLnJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaC5nZXRVYm9SZXNvdXJjZShmaWx0ZXJVbmlmb3Jtcyk7XG4gICAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UoYmF0Y2hVbmlmb3JtcywgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShmaWx0ZXJVbmlmb3JtcywgMCk7XG4gICAgfVxuICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShpbnB1dC5zb3VyY2UsIDEpO1xuICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShpbnB1dC5zb3VyY2Uuc3R5bGUsIDIpO1xuICAgIGZpbHRlci5ncm91cHNbMF0gPSB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXA7XG4gICAgcmVuZGVyZXIuZW5jb2Rlci5kcmF3KHtcbiAgICAgIGdlb21ldHJ5OiBxdWFkR2VvbWV0cnksXG4gICAgICBzaGFkZXI6IGZpbHRlcixcbiAgICAgIHN0YXRlOiBmaWx0ZXIuX3N0YXRlLFxuICAgICAgdG9wb2xvZ3k6IFwidHJpYW5nbGUtbGlzdFwiXG4gICAgfSk7XG4gICAgaWYgKHJlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmZpbmlzaFJlbmRlclBhc3MoKTtcbiAgICB9XG4gIH1cbiAgX2dldEZpbHRlckRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNraXA6IGZhbHNlLFxuICAgICAgaW5wdXRUZXh0dXJlOiBudWxsLFxuICAgICAgYm91bmRzOiBuZXcgQm91bmRzKCksXG4gICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICBmaWx0ZXJFZmZlY3Q6IG51bGwsXG4gICAgICBibGVuZFJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIHByZXZpb3VzUmVuZGVyU3VyZmFjZTogbnVsbFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgKlxuICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAqIEBwYXJhbSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICogQHBhcmFtIHtTcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdG8gbWFwIHRvLlxuICAgKiBAcmV0dXJucyBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICovXG4gIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIHNwcml0ZSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9hY3RpdmVGaWx0ZXJEYXRhO1xuICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoXG4gICAgICBkYXRhLmlucHV0VGV4dHVyZS5fc291cmNlLndpZHRoLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBkYXRhLmlucHV0VGV4dHVyZS5fc291cmNlLmhlaWdodCxcbiAgICAgIGRhdGEuYm91bmRzLm1pblgsXG4gICAgICBkYXRhLmJvdW5kcy5taW5ZXG4gICAgKTtcbiAgICBjb25zdCB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LnNoYXJlZCk7XG4gICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgIG1hcHBlZE1hdHJpeC5zY2FsZShcbiAgICAgIDEgLyBzcHJpdGUudGV4dHVyZS5mcmFtZS53aWR0aCxcbiAgICAgIDEgLyBzcHJpdGUudGV4dHVyZS5mcmFtZS5oZWlnaHRcbiAgICApO1xuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5GaWx0ZXJTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcImZpbHRlclwiXG59O1xuXG5leHBvcnQgeyBGaWx0ZXJTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlclN5c3RlbS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdldEdsb2JhbFJlbmRlcmFibGVCb3VuZHMocmVuZGVyYWJsZXMsIGJvdW5kcykge1xuICBib3VuZHMuY2xlYXIoKTtcbiAgY29uc3QgdGVtcE1hdHJpeCA9IGJvdW5kcy5tYXRyaXg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByZW5kZXJhYmxlID0gcmVuZGVyYWJsZXNbaV07XG4gICAgaWYgKHJlbmRlcmFibGUuZ2xvYmFsRGlzcGxheVN0YXR1cyA8IDcpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBib3VuZHMubWF0cml4ID0gcmVuZGVyYWJsZS53b3JsZFRyYW5zZm9ybTtcbiAgICByZW5kZXJhYmxlLmFkZEJvdW5kcyhib3VuZHMpO1xuICB9XG4gIGJvdW5kcy5tYXRyaXggPSB0ZW1wTWF0cml4O1xuICByZXR1cm4gYm91bmRzO1xufVxuXG5leHBvcnQgeyBnZXRHbG9iYWxSZW5kZXJhYmxlQm91bmRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRSZW5kZXJhYmxlQm91bmRzLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEZpbHRlclBpcGUgfSBmcm9tICcuL0ZpbHRlclBpcGUubWpzJztcbmltcG9ydCB7IEZpbHRlclN5c3RlbSB9IGZyb20gJy4vRmlsdGVyU3lzdGVtLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoRmlsdGVyU3lzdGVtKTtcbmV4dGVuc2lvbnMuYWRkKEZpbHRlclBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdCA9IHtcbiAgbmFtZTogXCJsb2NhbC11bmlmb3JtLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcblxuICAgICAgICAgICAgc3RydWN0IExvY2FsVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdUNvbG9yOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1Um91bmQ6ZjMyLFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBAZ3JvdXAoMSkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGxvY2FsVW5pZm9ybXMgOiBMb2NhbFVuaWZvcm1zO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gbG9jYWxVbmlmb3Jtcy51Q29sb3I7XG4gICAgICAgICAgICBtb2RlbE1hdHJpeCAqPSBsb2NhbFVuaWZvcm1zLnVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIGVuZDogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaWYobG9jYWxVbmlmb3Jtcy51Um91bmQgPT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2UG9zaXRpb24gPSB2ZWM0KHJvdW5kUGl4ZWxzKHZQb3NpdGlvbi54eSwgZ2xvYmFsVW5pZm9ybXMudVJlc29sdXRpb24pLCB2UG9zaXRpb24uencpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgbG9jYWxVbmlmb3JtQml0R3JvdXAyID0ge1xuICAuLi5sb2NhbFVuaWZvcm1CaXQsXG4gIHZlcnRleDoge1xuICAgIC4uLmxvY2FsVW5pZm9ybUJpdC52ZXJ0ZXgsXG4gICAgLy8gcmVwbGFjZSB0aGUgZ3JvdXAhXG4gICAgaGVhZGVyOiBsb2NhbFVuaWZvcm1CaXQudmVydGV4LmhlYWRlci5yZXBsYWNlKFwiZ3JvdXAoMSlcIiwgXCJncm91cCgyKVwiKVxuICB9XG59O1xuY29uc3QgbG9jYWxVbmlmb3JtQml0R2wgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDb2xvcjtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdVJvdW5kO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gdUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggPSB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKHVSb3VuZCA9PSAxLilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbi54eSA9IHJvdW5kUGl4ZWxzKGdsX1Bvc2l0aW9uLnh5LCB1UmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IGxvY2FsVW5pZm9ybUJpdCwgbG9jYWxVbmlmb3JtQml0R2wsIGxvY2FsVW5pZm9ybUJpdEdyb3VwMiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYWxVbmlmb3JtQml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYmxlbmRNb2RlSWRzID0ge1xuICBub3JtYWw6IDAsXG4gIGFkZDogMSxcbiAgbXVsdGlwbHk6IDIsXG4gIHNjcmVlbjogMyxcbiAgb3ZlcmxheTogNCxcbiAgZXJhc2U6IDUsXG4gIFwibm9ybWFsLW5wbVwiOiA2LFxuICBcImFkZC1ucG1cIjogNyxcbiAgXCJzY3JlZW4tbnBtXCI6IDgsXG4gIG1pbjogOSxcbiAgbWF4OiAxMFxufTtcbmNvbnN0IEJMRU5EID0gMDtcbmNvbnN0IE9GRlNFVCA9IDE7XG5jb25zdCBDVUxMSU5HID0gMjtcbmNvbnN0IERFUFRIX1RFU1QgPSAzO1xuY29uc3QgV0lORElORyA9IDQ7XG5jb25zdCBERVBUSF9NQVNLID0gNTtcbmNvbnN0IF9TdGF0ZSA9IGNsYXNzIF9TdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGF0YSA9IDA7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBcIm5vcm1hbFwiO1xuICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgdGhpcy5ibGVuZCA9IHRydWU7XG4gICAgdGhpcy5kZXB0aE1hc2sgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgYmxlbmRpbmcgb2YgdGhlIGNvbXB1dGVkIGZyYWdtZW50IGNvbG9yIHZhbHVlcy5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZ2V0IGJsZW5kKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IEJMRU5EKTtcbiAgfVxuICBzZXQgYmxlbmQodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBCTEVORCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBCTEVORDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgb2Zmc2V0cygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBPRkZTRVQpO1xuICB9XG4gIHNldCBvZmZzZXRzKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgT0ZGU0VUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IE9GRlNFVDtcbiAgICB9XG4gIH1cbiAgLyoqIFRoZSBjdWxsaW5nIHNldHRpbmdzIGZvciB0aGlzIHN0YXRlIG5vbmUgLSBObyBjdWxsaW5nIGJhY2sgLSBCYWNrIGZhY2UgY3VsbGluZyBmcm9udCAtIEZyb250IGZhY2UgY3VsbGluZyAqL1xuICBzZXQgY3VsbE1vZGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IFwibm9uZVwiKSB7XG4gICAgICB0aGlzLmN1bGxpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jdWxsaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNsb2Nrd2lzZUZyb250RmFjZSA9IHZhbHVlID09PSBcImZyb250XCI7XG4gIH1cbiAgZ2V0IGN1bGxNb2RlKCkge1xuICAgIGlmICghdGhpcy5jdWxsaW5nKSB7XG4gICAgICByZXR1cm4gXCJub25lXCI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsb2Nrd2lzZUZyb250RmFjZSA/IFwiZnJvbnRcIiA6IFwiYmFja1wiO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBjdWxsaW5nKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IENVTExJTkcpO1xuICB9XG4gIHNldCBjdWxsaW5nKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgQ1VMTElORykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBDVUxMSU5HO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgZGVwdGhUZXN0KCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX1RFU1QpO1xuICB9XG4gIHNldCBkZXB0aFRlc3QodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9URVNUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IERFUFRIX1RFU1Q7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHdyaXRpbmcgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZ2V0IGRlcHRoTWFzaygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9NQVNLKTtcbiAgfVxuICBzZXQgZGVwdGhNYXNrKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfTUFTSykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBERVBUSF9NQVNLO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgY2xvY2t3aXNlRnJvbnRGYWNlKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IFdJTkRJTkcpO1xuICB9XG4gIHNldCBjbG9ja3dpc2VGcm9udEZhY2UodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBXSU5ESU5HKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IFdJTkRJTkc7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHdoZW4gdGhpcyBzdGF0ZSBpcyBzZXQuIEFwcGx5IGEgdmFsdWUgb2YgYG5vcm1hbGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAqIFNldHRpbmcgdGhpcyBtb2RlIHRvIGFueXRoaW5nIG90aGVyIHRoYW4gTk9fQkxFTkQgd2lsbCBhdXRvbWF0aWNhbGx5IHN3aXRjaCBibGVuZGluZyBvbi5cbiAgICogQGRlZmF1bHQgJ25vcm1hbCdcbiAgICovXG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgfVxuICBzZXQgYmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5ibGVuZCA9IHZhbHVlICE9PSBcIm5vbmVcIjtcbiAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB0aGlzLl9ibGVuZE1vZGVJZCA9IGJsZW5kTW9kZUlkc1t2YWx1ZV0gfHwgMDtcbiAgfVxuICAvKipcbiAgICogVGhlIHBvbHlnb24gb2Zmc2V0LiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiAwIHdpbGwgYXV0b21hdGljYWxseSBlbmFibGUgcG9seWdvbiBvZmZzZXQgZmlsbC5cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgZ2V0IHBvbHlnb25PZmZzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BvbHlnb25PZmZzZXQ7XG4gIH1cbiAgc2V0IHBvbHlnb25PZmZzZXQodmFsdWUpIHtcbiAgICB0aGlzLm9mZnNldHMgPSAhIXZhbHVlO1xuICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtwaXhpLmpzL2NvcmU6U3RhdGUgYmxlbmRNb2RlPSR7dGhpcy5ibGVuZE1vZGV9IGNsb2Nrd2lzZUZyb250RmFjZT0ke3RoaXMuY2xvY2t3aXNlRnJvbnRGYWNlfSBjdWxsaW5nPSR7dGhpcy5jdWxsaW5nfSBkZXB0aE1hc2s9JHt0aGlzLmRlcHRoTWFza30gcG9seWdvbk9mZnNldD0ke3RoaXMucG9seWdvbk9mZnNldH1dYDtcbiAgfVxuICAvKipcbiAgICogQSBxdWlja2x5IGdldHRpbmcgYW4gaW5zdGFuY2Ugb2YgYSBTdGF0ZSB0aGF0IGlzIGNvbmZpZ3VyZWQgZm9yIDJkIHJlbmRlcmluZy5cbiAgICogQHJldHVybnMgYSBuZXcgU3RhdGUgd2l0aCB2YWx1ZXMgc2V0IGZvciAyZCByZW5kZXJpbmdcbiAgICovXG4gIHN0YXRpYyBmb3IyZCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IG5ldyBfU3RhdGUoKTtcbiAgICBzdGF0ZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuX1N0YXRlLmRlZmF1bHQyZCA9IF9TdGF0ZS5mb3IyZCgpO1xubGV0IFN0YXRlID0gX1N0YXRlO1xuXG5leHBvcnQgeyBTdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uLy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IG5leHRQb3cyIH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvbWlzYy9wb3cyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQ2FudmFzUG9vbENsYXNzIHtcbiAgY29uc3RydWN0b3IoY2FudmFzT3B0aW9ucykge1xuICAgIHRoaXMuX2NhbnZhc1Bvb2wgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLmNhbnZhc09wdGlvbnMgPSBjYW52YXNPcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIHRleHR1cmUgd2l0aCBwYXJhbXMgdGhhdCB3ZXJlIHNwZWNpZmllZCBpbiBwb29sIGNvbnN0cnVjdG9yLlxuICAgKiBAcGFyYW0gcGl4ZWxXaWR0aCAtIFdpZHRoIG9mIHRleHR1cmUgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0gcGl4ZWxIZWlnaHQgLSBIZWlnaHQgb2YgdGV4dHVyZSBpbiBwaXhlbHMuXG4gICAqL1xuICBfY3JlYXRlQ2FudmFzQW5kQ29udGV4dChwaXhlbFdpZHRoLCBwaXhlbEhlaWdodCkge1xuICAgIGNvbnN0IGNhbnZhcyA9IERPTUFkYXB0ZXIuZ2V0KCkuY3JlYXRlQ2FudmFzKCk7XG4gICAgY2FudmFzLndpZHRoID0gcGl4ZWxXaWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gcGl4ZWxIZWlnaHQ7XG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgcmV0dXJuIHsgY2FudmFzLCBjb250ZXh0IH07XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gICAqIEBwYXJhbSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHBhcmFtIG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcmV0dXJucyBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgKi9cbiAgZ2V0T3B0aW1hbENhbnZhc0FuZENvbnRleHQobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbiA9IDEpIHtcbiAgICBtaW5XaWR0aCA9IE1hdGguY2VpbChtaW5XaWR0aCAqIHJlc29sdXRpb24gLSAxZS02KTtcbiAgICBtaW5IZWlnaHQgPSBNYXRoLmNlaWwobWluSGVpZ2h0ICogcmVzb2x1dGlvbiAtIDFlLTYpO1xuICAgIG1pbldpZHRoID0gbmV4dFBvdzIobWluV2lkdGgpO1xuICAgIG1pbkhlaWdodCA9IG5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgY29uc3Qga2V5ID0gKG1pbldpZHRoIDw8IDE3KSArIChtaW5IZWlnaHQgPDwgMSk7XG4gICAgaWYgKCF0aGlzLl9jYW52YXNQb29sW2tleV0pIHtcbiAgICAgIHRoaXMuX2NhbnZhc1Bvb2xba2V5XSA9IFtdO1xuICAgIH1cbiAgICBsZXQgY2FudmFzQW5kQ29udGV4dCA9IHRoaXMuX2NhbnZhc1Bvb2xba2V5XS5wb3AoKTtcbiAgICBpZiAoIWNhbnZhc0FuZENvbnRleHQpIHtcbiAgICAgIGNhbnZhc0FuZENvbnRleHQgPSB0aGlzLl9jcmVhdGVDYW52YXNBbmRDb250ZXh0KG1pbldpZHRoLCBtaW5IZWlnaHQpO1xuICAgIH1cbiAgICByZXR1cm4gY2FudmFzQW5kQ29udGV4dDtcbiAgfVxuICAvKipcbiAgICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAqIEBwYXJhbSBjYW52YXNBbmRDb250ZXh0XG4gICAqL1xuICByZXR1cm5DYW52YXNBbmRDb250ZXh0KGNhbnZhc0FuZENvbnRleHQpIHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNBbmRDb250ZXh0LmNhbnZhcztcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNhbnZhcztcbiAgICBjb25zdCBrZXkgPSAod2lkdGggPDwgMTcpICsgKGhlaWdodCA8PCAxKTtcbiAgICB0aGlzLl9jYW52YXNQb29sW2tleV0ucHVzaChjYW52YXNBbmRDb250ZXh0KTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jYW52YXNQb29sID0ge307XG4gIH1cbn1cbmNvbnN0IENhbnZhc1Bvb2wgPSBuZXcgQ2FudmFzUG9vbENsYXNzKCk7XG5cbmV4cG9ydCB7IENhbnZhc1Bvb2wsIENhbnZhc1Bvb2xDbGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUG9vbC5tanMubWFwXG4iLCJpbXBvcnQgeyBuZXh0UG93MiB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21pc2MvcG93Mi5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVNvdXJjZSB9IGZyb20gJy4vc291cmNlcy9UZXh0dXJlU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi9UZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IGNvdW50ID0gMDtcbmNsYXNzIFRleHR1cmVQb29sQ2xhc3Mge1xuICAvKipcbiAgICogQHBhcmFtIHRleHR1cmVPcHRpb25zIC0gb3B0aW9ucyB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIEJhc2VSZW5kZXJUZXh0dXJlIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7U0NBTEVfTU9ERX0gW3RleHR1cmVPcHRpb25zLnNjYWxlTW9kZV0gLSBTZWUge0BsaW5rIFNDQUxFX01PREV9IGZvciBwb3NzaWJsZSB2YWx1ZXMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0ZXh0dXJlT3B0aW9ucykge1xuICAgIHRoaXMuX3Bvb2xLZXlIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fdGV4dHVyZVBvb2wgPSB7fTtcbiAgICB0aGlzLnRleHR1cmVPcHRpb25zID0gdGV4dHVyZU9wdGlvbnMgfHwge307XG4gICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dHVyZSB3aXRoIHBhcmFtcyB0aGF0IHdlcmUgc3BlY2lmaWVkIGluIHBvb2wgY29uc3RydWN0b3IuXG4gICAqIEBwYXJhbSBwaXhlbFdpZHRoIC0gV2lkdGggb2YgdGV4dHVyZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSBwaXhlbEhlaWdodCAtIEhlaWdodCBvZiB0ZXh0dXJlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIGFudGlhbGlhc1xuICAgKi9cbiAgY3JlYXRlVGV4dHVyZShwaXhlbFdpZHRoLCBwaXhlbEhlaWdodCwgYW50aWFsaWFzKSB7XG4gICAgY29uc3QgdGV4dHVyZVNvdXJjZSA9IG5ldyBUZXh0dXJlU291cmNlKHtcbiAgICAgIC4uLnRoaXMudGV4dHVyZU9wdGlvbnMsXG4gICAgICB3aWR0aDogcGl4ZWxXaWR0aCxcbiAgICAgIGhlaWdodDogcGl4ZWxIZWlnaHQsXG4gICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgYW50aWFsaWFzLFxuICAgICAgYXV0b0dhcmJhZ2VDb2xsZWN0OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKHtcbiAgICAgIHNvdXJjZTogdGV4dHVyZVNvdXJjZSxcbiAgICAgIGxhYmVsOiBgdGV4dHVyZVBvb2xfJHtjb3VudCsrfWBcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICogQHBhcmFtIGZyYW1lV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSBmcmFtZUhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gYW50aWFsaWFzXG4gICAqIEByZXR1cm5zIFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gICAqL1xuICBnZXRPcHRpbWFsVGV4dHVyZShmcmFtZVdpZHRoLCBmcmFtZUhlaWdodCwgcmVzb2x1dGlvbiA9IDEsIGFudGlhbGlhcykge1xuICAgIGxldCBwbzJXaWR0aCA9IE1hdGguY2VpbChmcmFtZVdpZHRoICogcmVzb2x1dGlvbiAtIDFlLTYpO1xuICAgIGxldCBwbzJIZWlnaHQgPSBNYXRoLmNlaWwoZnJhbWVIZWlnaHQgKiByZXNvbHV0aW9uIC0gMWUtNik7XG4gICAgcG8yV2lkdGggPSBuZXh0UG93MihwbzJXaWR0aCk7XG4gICAgcG8ySGVpZ2h0ID0gbmV4dFBvdzIocG8ySGVpZ2h0KTtcbiAgICBjb25zdCBrZXkgPSAocG8yV2lkdGggPDwgMTcpICsgKHBvMkhlaWdodCA8PCAxKSArIChhbnRpYWxpYXMgPyAxIDogMCk7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlUG9vbFtrZXldKSB7XG4gICAgICB0aGlzLl90ZXh0dXJlUG9vbFtrZXldID0gW107XG4gICAgfVxuICAgIGxldCB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZVBvb2xba2V5XS5wb3AoKTtcbiAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgIHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUocG8yV2lkdGgsIHBvMkhlaWdodCwgYW50aWFsaWFzKTtcbiAgICB9XG4gICAgdGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIHRleHR1cmUuc291cmNlLndpZHRoID0gcG8yV2lkdGggLyByZXNvbHV0aW9uO1xuICAgIHRleHR1cmUuc291cmNlLmhlaWdodCA9IHBvMkhlaWdodCAvIHJlc29sdXRpb247XG4gICAgdGV4dHVyZS5zb3VyY2UucGl4ZWxXaWR0aCA9IHBvMldpZHRoO1xuICAgIHRleHR1cmUuc291cmNlLnBpeGVsSGVpZ2h0ID0gcG8ySGVpZ2h0O1xuICAgIHRleHR1cmUuZnJhbWUueCA9IDA7XG4gICAgdGV4dHVyZS5mcmFtZS55ID0gMDtcbiAgICB0ZXh0dXJlLmZyYW1lLndpZHRoID0gZnJhbWVXaWR0aDtcbiAgICB0ZXh0dXJlLmZyYW1lLmhlaWdodCA9IGZyYW1lSGVpZ2h0O1xuICAgIHRleHR1cmUudXBkYXRlVXZzKCk7XG4gICAgdGhpcy5fcG9vbEtleUhhc2hbdGV4dHVyZS51aWRdID0ga2V5O1xuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIGV4dHJhIHRleHR1cmUgb2YgdGhlIHNhbWUgc2l6ZSBhcyBpbnB1dCByZW5kZXJUZXh0dXJlXG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gY2hlY2sgd2hhdCBzaXplIGl0IGlzLlxuICAgKiBAcGFyYW0gYW50aWFsaWFzIC0gV2hldGhlciB0byB1c2UgYW50aWFsaWFzLlxuICAgKiBAcmV0dXJucyBBIHRleHR1cmUgdGhhdCBpcyBhIHBvd2VyIG9mIHR3b1xuICAgKi9cbiAgZ2V0U2FtZVNpemVUZXh0dXJlKHRleHR1cmUsIGFudGlhbGlhcyA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc291cmNlID0gdGV4dHVyZS5zb3VyY2U7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW1hbFRleHR1cmUodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQsIHNvdXJjZS5fcmVzb2x1dGlvbiwgYW50aWFsaWFzKTtcbiAgfVxuICAvKipcbiAgICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAqIEBwYXJhbSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICAgKi9cbiAgcmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKSB7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5fcG9vbEtleUhhc2hbcmVuZGVyVGV4dHVyZS51aWRdO1xuICAgIHRoaXMuX3RleHR1cmVQb29sW2tleV0ucHVzaChyZW5kZXJUZXh0dXJlKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBwb29sLlxuICAgKiBAcGFyYW0gZGVzdHJveVRleHR1cmVzIC0gRGVzdHJveSBhbGwgc3RvcmVkIHRleHR1cmVzLlxuICAgKi9cbiAgY2xlYXIoZGVzdHJveVRleHR1cmVzKSB7XG4gICAgZGVzdHJveVRleHR1cmVzID0gZGVzdHJveVRleHR1cmVzICE9PSBmYWxzZTtcbiAgICBpZiAoZGVzdHJveVRleHR1cmVzKSB7XG4gICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fdGV4dHVyZVBvb2wpIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSB0aGlzLl90ZXh0dXJlUG9vbFtpXTtcbiAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fdGV4dHVyZVBvb2wgPSB7fTtcbiAgfVxufVxuY29uc3QgVGV4dHVyZVBvb2wgPSBuZXcgVGV4dHVyZVBvb2xDbGFzcygpO1xuXG5leHBvcnQgeyBUZXh0dXJlUG9vbCwgVGV4dHVyZVBvb2xDbGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZVBvb2wubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjb2xvclRvVW5pZm9ybShyZ2IsIGFscGhhLCBvdXQsIG9mZnNldCkge1xuICBvdXRbb2Zmc2V0KytdID0gKHJnYiA+PiAxNiAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiID4+IDggJiAyNTUpIC8gMjU1O1xuICBvdXRbb2Zmc2V0KytdID0gKHJnYiAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSBhbHBoYTtcbn1cbmZ1bmN0aW9uIGNvbG9yMzJCaXRUb1VuaWZvcm0oYWJnciwgb3V0LCBvZmZzZXQpIHtcbiAgY29uc3QgYWxwaGEgPSAoYWJnciA+PiAyNCAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAoYWJnciAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyID4+IDggJiAyNTUpIC8gMjU1ICogYWxwaGE7XG4gIG91dFtvZmZzZXQrK10gPSAoYWJnciA+PiAxNiAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IGFscGhhO1xufVxuXG5leHBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtLCBjb2xvclRvVW5pZm9ybSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3JUb1VuaWZvcm0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVHcmFwaGljcyB9IGZyb20gJy4vQmF0Y2hhYmxlR3JhcGhpY3MubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBHcmFwaGljc1BpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgYWRhcHRvcikge1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIC8vIGJhdGNoYWJsZSBncmFwaGljcyBsaXN0LCB1c2VkIHRvIHJlbmRlciBiYXRjaGVzXG4gICAgdGhpcy5fZ3JhcGhpY3NCYXRjaGVzSGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQgPSB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBhZGFwdG9yO1xuICAgIHRoaXMuX2FkYXB0b3IuaW5pdCgpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShncmFwaGljcykge1xuICAgIGNvbnN0IGNvbnRleHQgPSBncmFwaGljcy5jb250ZXh0O1xuICAgIGNvbnN0IHdhc0JhdGNoZWQgPSAhIXRoaXMuX2dyYXBoaWNzQmF0Y2hlc0hhc2hbZ3JhcGhpY3MudWlkXTtcbiAgICBjb25zdCBncHVDb250ZXh0ID0gdGhpcy5yZW5kZXJlci5ncmFwaGljc0NvbnRleHQudXBkYXRlR3B1Q29udGV4dChjb250ZXh0KTtcbiAgICBpZiAoZ3B1Q29udGV4dC5pc0JhdGNoYWJsZSB8fCB3YXNCYXRjaGVkICE9PSBncHVDb250ZXh0LmlzQmF0Y2hhYmxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFkZFJlbmRlcmFibGUoZ3JhcGhpY3MsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3B1Q29udGV4dCA9IHRoaXMucmVuZGVyZXIuZ3JhcGhpY3NDb250ZXh0LnVwZGF0ZUdwdUNvbnRleHQoZ3JhcGhpY3MuY29udGV4dCk7XG4gICAgaWYgKGdyYXBoaWNzLl9kaWRHcmFwaGljc1VwZGF0ZSkge1xuICAgICAgZ3JhcGhpY3MuX2RpZEdyYXBoaWNzVXBkYXRlID0gZmFsc2U7XG4gICAgICB0aGlzLl9yZWJ1aWxkKGdyYXBoaWNzKTtcbiAgICB9XG4gICAgaWYgKGdwdUNvbnRleHQuaXNCYXRjaGFibGUpIHtcbiAgICAgIHRoaXMuX2FkZFRvQmF0Y2hlcihncmFwaGljcywgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIGluc3RydWN0aW9uU2V0LmFkZChncmFwaGljcyk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoZ3JhcGhpY3MpIHtcbiAgICBjb25zdCBiYXRjaGVzID0gdGhpcy5fZ3JhcGhpY3NCYXRjaGVzSGFzaFtncmFwaGljcy51aWRdO1xuICAgIGlmIChiYXRjaGVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgICBiYXRjaC5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGJhdGNoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUoZ3JhcGhpY3MpIHtcbiAgICBpZiAodGhpcy5fZ3JhcGhpY3NCYXRjaGVzSGFzaFtncmFwaGljcy51aWRdKSB7XG4gICAgICB0aGlzLl9yZW1vdmVCYXRjaEZvclJlbmRlcmFibGUoZ3JhcGhpY3MudWlkKTtcbiAgICB9XG4gICAgZ3JhcGhpY3Mub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIGV4ZWN1dGUoZ3JhcGhpY3MpIHtcbiAgICBpZiAoIWdyYXBoaWNzLmlzUmVuZGVyYWJsZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgY29udGV4dCA9IGdyYXBoaWNzLmNvbnRleHQ7XG4gICAgY29uc3QgY29udGV4dFN5c3RlbSA9IHJlbmRlcmVyLmdyYXBoaWNzQ29udGV4dDtcbiAgICBpZiAoIWNvbnRleHRTeXN0ZW0uZ2V0R3B1Q29udGV4dChjb250ZXh0KS5iYXRjaGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaGFkZXIgPSBjb250ZXh0LmN1c3RvbVNoYWRlciB8fCB0aGlzLl9hZGFwdG9yLnNoYWRlcjtcbiAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGdyYXBoaWNzLmdyb3VwQmxlbmRNb2RlO1xuICAgIGNvbnN0IGxvY2FsVW5pZm9ybXMgPSBzaGFkZXIucmVzb3VyY2VzLmxvY2FsVW5pZm9ybXMudW5pZm9ybXM7XG4gICAgbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4ID0gZ3JhcGhpY3MuZ3JvdXBUcmFuc2Zvcm07XG4gICAgbG9jYWxVbmlmb3Jtcy51Um91bmQgPSByZW5kZXJlci5fcm91bmRQaXhlbHMgfCBncmFwaGljcy5fcm91bmRQaXhlbHM7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIGdyYXBoaWNzLmdyb3VwQ29sb3JBbHBoYSxcbiAgICAgIGxvY2FsVW5pZm9ybXMudUNvbG9yLFxuICAgICAgMFxuICAgICk7XG4gICAgdGhpcy5fYWRhcHRvci5leGVjdXRlKHRoaXMsIGdyYXBoaWNzKTtcbiAgfVxuICBfcmVidWlsZChncmFwaGljcykge1xuICAgIGNvbnN0IHdhc0JhdGNoZWQgPSAhIXRoaXMuX2dyYXBoaWNzQmF0Y2hlc0hhc2hbZ3JhcGhpY3MudWlkXTtcbiAgICBjb25zdCBncHVDb250ZXh0ID0gdGhpcy5yZW5kZXJlci5ncmFwaGljc0NvbnRleHQudXBkYXRlR3B1Q29udGV4dChncmFwaGljcy5jb250ZXh0KTtcbiAgICBpZiAod2FzQmF0Y2hlZCkge1xuICAgICAgdGhpcy5fcmVtb3ZlQmF0Y2hGb3JSZW5kZXJhYmxlKGdyYXBoaWNzLnVpZCk7XG4gICAgfVxuICAgIGlmIChncHVDb250ZXh0LmlzQmF0Y2hhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0QmF0Y2hlc0ZvclJlbmRlcmFibGUoZ3JhcGhpY3MpO1xuICAgIH1cbiAgICBncmFwaGljcy5iYXRjaGVkID0gZ3B1Q29udGV4dC5pc0JhdGNoYWJsZTtcbiAgfVxuICBfYWRkVG9CYXRjaGVyKGdyYXBoaWNzLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoUGlwZSA9IHRoaXMucmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2g7XG4gICAgY29uc3QgYmF0Y2hlcyA9IHRoaXMuX2dldEJhdGNoZXNGb3JSZW5kZXJhYmxlKGdyYXBoaWNzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgIGJhdGNoUGlwZS5hZGRUb0JhdGNoKGJhdGNoLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfVxuICB9XG4gIF9nZXRCYXRjaGVzRm9yUmVuZGVyYWJsZShncmFwaGljcykge1xuICAgIHJldHVybiB0aGlzLl9ncmFwaGljc0JhdGNoZXNIYXNoW2dyYXBoaWNzLnVpZF0gfHwgdGhpcy5faW5pdEJhdGNoZXNGb3JSZW5kZXJhYmxlKGdyYXBoaWNzKTtcbiAgfVxuICBfaW5pdEJhdGNoZXNGb3JSZW5kZXJhYmxlKGdyYXBoaWNzKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdyYXBoaWNzLmNvbnRleHQ7XG4gICAgY29uc3QgZ3B1Q29udGV4dCA9IHRoaXMucmVuZGVyZXIuZ3JhcGhpY3NDb250ZXh0LmdldEdwdUNvbnRleHQoY29udGV4dCk7XG4gICAgY29uc3Qgcm91bmRQaXhlbHMgPSB0aGlzLnJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IGdyYXBoaWNzLl9yb3VuZFBpeGVscztcbiAgICBjb25zdCBiYXRjaGVzID0gZ3B1Q29udGV4dC5iYXRjaGVzLm1hcCgoYmF0Y2gpID0+IHtcbiAgICAgIGNvbnN0IGJhdGNoQ2xvbmUgPSBCaWdQb29sLmdldChCYXRjaGFibGVHcmFwaGljcyk7XG4gICAgICBiYXRjaC5jb3B5VG8oYmF0Y2hDbG9uZSk7XG4gICAgICBiYXRjaENsb25lLnJlbmRlcmFibGUgPSBncmFwaGljcztcbiAgICAgIGJhdGNoQ2xvbmUucm91bmRQaXhlbHMgPSByb3VuZFBpeGVscztcbiAgICAgIHJldHVybiBiYXRjaENsb25lO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLl9ncmFwaGljc0JhdGNoZXNIYXNoW2dyYXBoaWNzLnVpZF0gPT09IHZvaWQgMCkge1xuICAgICAgZ3JhcGhpY3Mub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgfVxuICAgIHRoaXMuX2dyYXBoaWNzQmF0Y2hlc0hhc2hbZ3JhcGhpY3MudWlkXSA9IGJhdGNoZXM7XG4gICAgcmV0dXJuIGJhdGNoZXM7XG4gIH1cbiAgX3JlbW92ZUJhdGNoRm9yUmVuZGVyYWJsZShncmFwaGljc1VpZCkge1xuICAgIHRoaXMuX2dyYXBoaWNzQmF0Y2hlc0hhc2hbZ3JhcGhpY3NVaWRdLmZvckVhY2goKGJhdGNoKSA9PiB7XG4gICAgICBCaWdQb29sLnJldHVybihiYXRjaCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZ3JhcGhpY3NCYXRjaGVzSGFzaFtncmFwaGljc1VpZF0gPSBudWxsO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fYWRhcHRvci5kZXN0cm95KCk7XG4gICAgdGhpcy5fYWRhcHRvciA9IG51bGw7XG4gICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dyYXBoaWNzQmF0Y2hlc0hhc2gpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUJhdGNoRm9yUmVuZGVyYWJsZShpKTtcbiAgICB9XG4gICAgdGhpcy5fZ3JhcGhpY3NCYXRjaGVzSGFzaCA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HcmFwaGljc1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImdyYXBoaWNzXCJcbn07XG5cbmV4cG9ydCB7IEdyYXBoaWNzUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEdyYXBoaWNzQ29udGV4dFN5c3RlbSB9IGZyb20gJy4vc2hhcmVkL0dyYXBoaWNzQ29udGV4dFN5c3RlbS5tanMnO1xuaW1wb3J0IHsgR3JhcGhpY3NQaXBlIH0gZnJvbSAnLi9zaGFyZWQvR3JhcGhpY3NQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoR3JhcGhpY3NQaXBlKTtcbmV4dGVuc2lvbnMuYWRkKEdyYXBoaWNzQ29udGV4dFN5c3RlbSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0gfSBmcm9tICcuLi8uLi9ncmFwaGljcy9ncHUvY29sb3JUb1VuaWZvcm0ubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZU1lc2ggfSBmcm9tICcuL0JhdGNoYWJsZU1lc2gubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBNZXNoUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1VHJhbnNmb3JtTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdUNvbG9yOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVSb3VuZDogeyB2YWx1ZTogMCwgdHlwZTogXCJmMzJcIiB9XG4gICAgfSk7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zQmluZEdyb3VwID0gbmV3IEJpbmRHcm91cCh7XG4gICAgICAwOiB0aGlzLmxvY2FsVW5pZm9ybXNcbiAgICB9KTtcbiAgICB0aGlzLl9tZXNoRGF0YUhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ncHVCYXRjaGFibGVNZXNoSGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQgPSB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBhZGFwdG9yO1xuICAgIHRoaXMuX2FkYXB0b3IuaW5pdCgpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShtZXNoKSB7XG4gICAgY29uc3QgbWVzaERhdGEgPSB0aGlzLl9nZXRNZXNoRGF0YShtZXNoKTtcbiAgICBjb25zdCB3YXNCYXRjaGVkID0gbWVzaERhdGEuYmF0Y2hlZDtcbiAgICBjb25zdCBpc0JhdGNoZWQgPSBtZXNoLmJhdGNoZWQ7XG4gICAgbWVzaERhdGEuYmF0Y2hlZCA9IGlzQmF0Y2hlZDtcbiAgICBpZiAod2FzQmF0Y2hlZCAhPT0gaXNCYXRjaGVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGlzQmF0Y2hlZCkge1xuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBtZXNoLl9nZW9tZXRyeTtcbiAgICAgIGlmIChnZW9tZXRyeS5pbmRpY2VzLmxlbmd0aCAhPT0gbWVzaERhdGEuaW5kZXhTaXplIHx8IGdlb21ldHJ5LnBvc2l0aW9ucy5sZW5ndGggIT09IG1lc2hEYXRhLnZlcnRleFNpemUpIHtcbiAgICAgICAgbWVzaERhdGEuaW5kZXhTaXplID0gZ2VvbWV0cnkuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIG1lc2hEYXRhLnZlcnRleFNpemUgPSBnZW9tZXRyeS5wb3NpdGlvbnMubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhdGNoYWJsZU1lc2ggPSB0aGlzLl9nZXRCYXRjaGFibGVNZXNoKG1lc2gpO1xuICAgICAgY29uc3QgdGV4dHVyZSA9IG1lc2gudGV4dHVyZTtcbiAgICAgIGlmIChiYXRjaGFibGVNZXNoLnRleHR1cmUuX3NvdXJjZSAhPT0gdGV4dHVyZS5fc291cmNlKSB7XG4gICAgICAgIGlmIChiYXRjaGFibGVNZXNoLnRleHR1cmUuX3NvdXJjZSAhPT0gdGV4dHVyZS5fc291cmNlKSB7XG4gICAgICAgICAgcmV0dXJuICFiYXRjaGFibGVNZXNoLl9iYXRjaGVyLmNoZWNrQW5kVXBkYXRlVGV4dHVyZShiYXRjaGFibGVNZXNoLCB0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShtZXNoLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoZXIgPSB0aGlzLnJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoO1xuICAgIGNvbnN0IHsgYmF0Y2hlZCB9ID0gdGhpcy5fZ2V0TWVzaERhdGEobWVzaCk7XG4gICAgaWYgKGJhdGNoZWQpIHtcbiAgICAgIGNvbnN0IGdwdUJhdGNoYWJsZU1lc2ggPSB0aGlzLl9nZXRCYXRjaGFibGVNZXNoKG1lc2gpO1xuICAgICAgZ3B1QmF0Y2hhYmxlTWVzaC50ZXh0dXJlID0gbWVzaC5fdGV4dHVyZTtcbiAgICAgIGdwdUJhdGNoYWJsZU1lc2guZ2VvbWV0cnkgPSBtZXNoLl9nZW9tZXRyeTtcbiAgICAgIGJhdGNoZXIuYWRkVG9CYXRjaChncHVCYXRjaGFibGVNZXNoLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhdGNoZXIuYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKG1lc2gpO1xuICAgIH1cbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKG1lc2gpIHtcbiAgICBpZiAobWVzaC5iYXRjaGVkKSB7XG4gICAgICBjb25zdCBncHVCYXRjaGFibGVNZXNoID0gdGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2hbbWVzaC51aWRdO1xuICAgICAgZ3B1QmF0Y2hhYmxlTWVzaC50ZXh0dXJlID0gbWVzaC5fdGV4dHVyZTtcbiAgICAgIGdwdUJhdGNoYWJsZU1lc2guZ2VvbWV0cnkgPSBtZXNoLl9nZW9tZXRyeTtcbiAgICAgIGdwdUJhdGNoYWJsZU1lc2guX2JhdGNoZXIudXBkYXRlRWxlbWVudChncHVCYXRjaGFibGVNZXNoKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUobWVzaCkge1xuICAgIHRoaXMuX21lc2hEYXRhSGFzaFttZXNoLnVpZF0gPSBudWxsO1xuICAgIGNvbnN0IGdwdU1lc2ggPSB0aGlzLl9ncHVCYXRjaGFibGVNZXNoSGFzaFttZXNoLnVpZF07XG4gICAgaWYgKGdwdU1lc2gpIHtcbiAgICAgIEJpZ1Bvb2wucmV0dXJuKGdwdU1lc2gpO1xuICAgICAgdGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2hbbWVzaC51aWRdID0gbnVsbDtcbiAgICB9XG4gICAgbWVzaC5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gIH1cbiAgZXhlY3V0ZShtZXNoKSB7XG4gICAgaWYgKCFtZXNoLmlzUmVuZGVyYWJsZSlcbiAgICAgIHJldHVybjtcbiAgICBtZXNoLnN0YXRlLmJsZW5kTW9kZSA9IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQobWVzaC5ncm91cEJsZW5kTW9kZSwgbWVzaC50ZXh0dXJlLl9zb3VyY2UpO1xuICAgIGNvbnN0IGxvY2FsVW5pZm9ybXMgPSB0aGlzLmxvY2FsVW5pZm9ybXM7XG4gICAgbG9jYWxVbmlmb3Jtcy51bmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4ID0gbWVzaC5ncm91cFRyYW5zZm9ybTtcbiAgICBsb2NhbFVuaWZvcm1zLnVuaWZvcm1zLnVSb3VuZCA9IHRoaXMucmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgbWVzaC5fcm91bmRQaXhlbHM7XG4gICAgbG9jYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICBjb2xvcjMyQml0VG9Vbmlmb3JtKFxuICAgICAgbWVzaC5ncm91cENvbG9yQWxwaGEsXG4gICAgICBsb2NhbFVuaWZvcm1zLnVuaWZvcm1zLnVDb2xvcixcbiAgICAgIDBcbiAgICApO1xuICAgIHRoaXMuX2FkYXB0b3IuZXhlY3V0ZSh0aGlzLCBtZXNoKTtcbiAgfVxuICBfZ2V0TWVzaERhdGEobWVzaCkge1xuICAgIHJldHVybiB0aGlzLl9tZXNoRGF0YUhhc2hbbWVzaC51aWRdIHx8IHRoaXMuX2luaXRNZXNoRGF0YShtZXNoKTtcbiAgfVxuICBfaW5pdE1lc2hEYXRhKG1lc2gpIHtcbiAgICB0aGlzLl9tZXNoRGF0YUhhc2hbbWVzaC51aWRdID0ge1xuICAgICAgYmF0Y2hlZDogbWVzaC5iYXRjaGVkLFxuICAgICAgaW5kZXhTaXplOiBtZXNoLl9nZW9tZXRyeS5pbmRpY2VzPy5sZW5ndGgsXG4gICAgICB2ZXJ0ZXhTaXplOiBtZXNoLl9nZW9tZXRyeS5wb3NpdGlvbnM/Lmxlbmd0aFxuICAgIH07XG4gICAgbWVzaC5vbihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICByZXR1cm4gdGhpcy5fbWVzaERhdGFIYXNoW21lc2gudWlkXTtcbiAgfVxuICBfZ2V0QmF0Y2hhYmxlTWVzaChtZXNoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoW21lc2gudWlkXSB8fCB0aGlzLl9pbml0QmF0Y2hhYmxlTWVzaChtZXNoKTtcbiAgfVxuICBfaW5pdEJhdGNoYWJsZU1lc2gobWVzaCkge1xuICAgIGNvbnN0IGdwdU1lc2ggPSBCaWdQb29sLmdldChCYXRjaGFibGVNZXNoKTtcbiAgICBncHVNZXNoLnJlbmRlcmFibGUgPSBtZXNoO1xuICAgIGdwdU1lc2gudGV4dHVyZSA9IG1lc2guX3RleHR1cmU7XG4gICAgZ3B1TWVzaC50cmFuc2Zvcm0gPSBtZXNoLmdyb3VwVHJhbnNmb3JtO1xuICAgIGdwdU1lc2gucm91bmRQaXhlbHMgPSB0aGlzLnJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IG1lc2guX3JvdW5kUGl4ZWxzO1xuICAgIHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoW21lc2gudWlkXSA9IGdwdU1lc2g7XG4gICAgcmV0dXJuIGdwdU1lc2g7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2gpIHtcbiAgICAgIGlmICh0aGlzLl9ncHVCYXRjaGFibGVNZXNoSGFzaFtpXSkge1xuICAgICAgICBCaWdQb29sLnJldHVybih0aGlzLl9ncHVCYXRjaGFibGVNZXNoSGFzaFtpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoID0gbnVsbDtcbiAgICB0aGlzLl9tZXNoRGF0YUhhc2ggPSBudWxsO1xuICAgIHRoaXMubG9jYWxVbmlmb3JtcyA9IG51bGw7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zQmluZEdyb3VwID0gbnVsbDtcbiAgICB0aGlzLl9hZGFwdG9yLmRlc3Ryb3koKTtcbiAgICB0aGlzLl9hZGFwdG9yID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbk1lc2hQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJtZXNoXCJcbn07XG5cbmV4cG9ydCB7IE1lc2hQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNZXNoUGlwZSB9IGZyb20gJy4vc2hhcmVkL01lc2hQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoTWVzaFBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJhdGNoYWJsZU1lc2gge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJhdGNoZXJOYW1lID0gXCJkZWZhdWx0XCI7XG4gICAgdGhpcy5wYWNrQXNRdWFkID0gZmFsc2U7XG4gICAgdGhpcy5pbmRleE9mZnNldCA9IDA7XG4gICAgdGhpcy5hdHRyaWJ1dGVPZmZzZXQgPSAwO1xuICAgIHRoaXMucm91bmRQaXhlbHMgPSAwO1xuICAgIHRoaXMuX2JhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoID0gbnVsbDtcbiAgICB0aGlzLl91dlVwZGF0ZUlkID0gLTE7XG4gICAgdGhpcy5fdGV4dHVyZU1hdHJpeFVwZGF0ZUlkID0gLTE7XG4gIH1cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQmxlbmRNb2RlO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmVuZGVyYWJsZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgdGhpcy5fdXZVcGRhdGVJZCA9IC0xO1xuICAgIHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCA9IC0xO1xuICB9XG4gIGdldCB1dnMoKSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgIGNvbnN0IHV2QnVmZmVyID0gZ2VvbWV0cnkuZ2V0QnVmZmVyKFwiYVVWXCIpO1xuICAgIGNvbnN0IHV2cyA9IHV2QnVmZmVyLmRhdGE7XG4gICAgbGV0IHRyYW5zZm9ybWVkVXZzID0gdXZzO1xuICAgIGNvbnN0IHRleHR1cmVNYXRyaXggPSB0aGlzLnRleHR1cmUudGV4dHVyZU1hdHJpeDtcbiAgICBpZiAoIXRleHR1cmVNYXRyaXguaXNTaW1wbGUpIHtcbiAgICAgIHRyYW5zZm9ybWVkVXZzID0gdGhpcy5fdHJhbnNmb3JtZWRVdnM7XG4gICAgICBpZiAodGhpcy5fdGV4dHVyZU1hdHJpeFVwZGF0ZUlkICE9PSB0ZXh0dXJlTWF0cml4Ll91cGRhdGVJRCB8fCB0aGlzLl91dlVwZGF0ZUlkICE9PSB1dkJ1ZmZlci5fdXBkYXRlSUQpIHtcbiAgICAgICAgaWYgKCF0cmFuc2Zvcm1lZFV2cyB8fCB0cmFuc2Zvcm1lZFV2cy5sZW5ndGggPCB1dnMubGVuZ3RoKSB7XG4gICAgICAgICAgdHJhbnNmb3JtZWRVdnMgPSB0aGlzLl90cmFuc2Zvcm1lZFV2cyA9IG5ldyBGbG9hdDMyQXJyYXkodXZzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZU1hdHJpeFVwZGF0ZUlkID0gdGV4dHVyZU1hdHJpeC5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3V2VXBkYXRlSWQgPSB1dkJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgIHRleHR1cmVNYXRyaXgubXVsdGlwbHlVdnModXZzLCB0cmFuc2Zvcm1lZFV2cyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm1lZFV2cztcbiAgfVxuICBnZXQgcG9zaXRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LnBvc2l0aW9ucztcbiAgfVxuICBnZXQgaW5kaWNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5pbmRpY2VzO1xuICB9XG4gIGdldCBjb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQ29sb3JBbHBoYTtcbiAgfVxuICBnZXQgZ3JvdXBUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cFRyYW5zZm9ybTtcbiAgfVxuICBnZXQgYXR0cmlidXRlU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5wb3NpdGlvbnMubGVuZ3RoIC8gMjtcbiAgfVxuICBnZXQgaW5kZXhTaXplKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmluZGljZXMubGVuZ3RoO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoYWJsZU1lc2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoYWJsZU1lc2gubWpzLm1hcFxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL0J1ZmZlci5tanMnO1xuaW1wb3J0IHsgQnVmZmVyVXNhZ2UgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9idWZmZXIvY29uc3QubWpzJztcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvR2VvbWV0cnkubWpzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX01lc2hHZW9tZXRyeSA9IGNsYXNzIF9NZXNoR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3NbMF0gPz8ge307XG4gICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJ1c2UgbmV3IE1lc2hHZW9tZXRyeSh7IHBvc2l0aW9ucywgdXZzLCBpbmRpY2VzIH0pIGluc3RlYWRcIik7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBwb3NpdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIHV2czogYXJnc1sxXSxcbiAgICAgICAgaW5kaWNlczogYXJnc1syXVxuICAgICAgfTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IHsgLi4uX01lc2hHZW9tZXRyeS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IG9wdGlvbnMucG9zaXRpb25zIHx8IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKTtcbiAgICBjb25zdCB1dnMgPSBvcHRpb25zLnV2cyB8fCBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSk7XG4gICAgY29uc3QgaW5kaWNlcyA9IG9wdGlvbnMuaW5kaWNlcyB8fCBuZXcgVWludDMyQXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbiAgICBjb25zdCBzaHJpbmtUb0ZpdCA9IG9wdGlvbnMuc2hyaW5rQnVmZmVyc1RvRml0O1xuICAgIGNvbnN0IHBvc2l0aW9uQnVmZmVyID0gbmV3IEJ1ZmZlcih7XG4gICAgICBkYXRhOiBwb3NpdGlvbnMsXG4gICAgICBsYWJlbDogXCJhdHRyaWJ1dGUtbWVzaC1wb3NpdGlvbnNcIixcbiAgICAgIHNocmlua1RvRml0LFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlZFUlRFWCB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSk7XG4gICAgY29uc3QgdXZCdWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IHV2cyxcbiAgICAgIGxhYmVsOiBcImF0dHJpYnV0ZS1tZXNoLXV2c1wiLFxuICAgICAgc2hyaW5rVG9GaXQsXG4gICAgICB1c2FnZTogQnVmZmVyVXNhZ2UuVkVSVEVYIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KTtcbiAgICBjb25zdCBpbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoe1xuICAgICAgZGF0YTogaW5kaWNlcyxcbiAgICAgIGxhYmVsOiBcImluZGV4LW1lc2gtYnVmZmVyXCIsXG4gICAgICBzaHJpbmtUb0ZpdCxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5JTkRFWCB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICBhUG9zaXRpb246IHtcbiAgICAgICAgICBidWZmZXI6IHBvc2l0aW9uQnVmZmVyLFxuICAgICAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDJcIixcbiAgICAgICAgICBzdHJpZGU6IDIgKiA0LFxuICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICBhVVY6IHtcbiAgICAgICAgICBidWZmZXI6IHV2QnVmZmVyLFxuICAgICAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDJcIixcbiAgICAgICAgICBzdHJpZGU6IDIgKiA0LFxuICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5kZXhCdWZmZXIsXG4gICAgICB0b3BvbG9neTogb3B0aW9ucy50b3BvbG9neVxuICAgIH0pO1xuICAgIHRoaXMuYmF0Y2hNb2RlID0gXCJhdXRvXCI7XG4gIH1cbiAgLyoqIFRoZSBwb3NpdGlvbnMgb2YgdGhlIG1lc2guICovXG4gIGdldCBwb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5hUG9zaXRpb24uYnVmZmVyLmRhdGE7XG4gIH1cbiAgc2V0IHBvc2l0aW9ucyh2YWx1ZSkge1xuICAgIHRoaXMuYXR0cmlidXRlcy5hUG9zaXRpb24uYnVmZmVyLmRhdGEgPSB2YWx1ZTtcbiAgfVxuICAvKiogVGhlIFVWcyBvZiB0aGUgbWVzaC4gKi9cbiAgZ2V0IHV2cygpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmFVVi5idWZmZXIuZGF0YTtcbiAgfVxuICBzZXQgdXZzKHZhbHVlKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGVzLmFVVi5idWZmZXIuZGF0YSA9IHZhbHVlO1xuICB9XG4gIC8qKiBUaGUgaW5kaWNlcyBvZiB0aGUgbWVzaC4gKi9cbiAgZ2V0IGluZGljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZXhCdWZmZXIuZGF0YTtcbiAgfVxuICBzZXQgaW5kaWNlcyh2YWx1ZSkge1xuICAgIHRoaXMuaW5kZXhCdWZmZXIuZGF0YSA9IHZhbHVlO1xuICB9XG59O1xuX01lc2hHZW9tZXRyeS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgdG9wb2xvZ3k6IFwidHJpYW5nbGUtbGlzdFwiLFxuICBzaHJpbmtCdWZmZXJzVG9GaXQ6IGZhbHNlXG59O1xubGV0IE1lc2hHZW9tZXRyeSA9IF9NZXNoR2VvbWV0cnk7XG5cbmV4cG9ydCB7IE1lc2hHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaEdlb21ldHJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyBNZXNoR2VvbWV0cnkgfSBmcm9tICcuLi9tZXNoL3NoYXJlZC9NZXNoR2VvbWV0cnkubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfUGxhbmVHZW9tZXRyeSA9IGNsYXNzIF9QbGFuZUdlb21ldHJ5IGV4dGVuZHMgTWVzaEdlb21ldHJ5IHtcbiAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgIHN1cGVyKHt9KTtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3NbMF0gPz8ge307XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiKSB7XG4gICAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiUGxhbmVHZW9tZXRyeSBjb25zdHJ1Y3RvciBjaGFuZ2VkIHBsZWFzZSB1c2UgeyB3aWR0aCwgaGVpZ2h0LCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSB9IGluc3RlYWRcIik7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgaGVpZ2h0OiBhcmdzWzFdLFxuICAgICAgICB2ZXJ0aWNlc1g6IGFyZ3NbMl0sXG4gICAgICAgIHZlcnRpY2VzWTogYXJnc1szXVxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5idWlsZChvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyB0byBiZSBhcHBsaWVkIHRvIHBsYW5lIGdlb21ldHJ5XG4gICAqL1xuICBidWlsZChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX1BsYW5lR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICB0aGlzLnZlcnRpY2VzWCA9IHRoaXMudmVydGljZXNYID8/IG9wdGlvbnMudmVydGljZXNYO1xuICAgIHRoaXMudmVydGljZXNZID0gdGhpcy52ZXJ0aWNlc1kgPz8gb3B0aW9ucy52ZXJ0aWNlc1k7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggPz8gb3B0aW9ucy53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ID8/IG9wdGlvbnMuaGVpZ2h0O1xuICAgIGNvbnN0IHRvdGFsID0gdGhpcy52ZXJ0aWNlc1ggKiB0aGlzLnZlcnRpY2VzWTtcbiAgICBjb25zdCB2ZXJ0cyA9IFtdO1xuICAgIGNvbnN0IHV2cyA9IFtdO1xuICAgIGNvbnN0IGluZGljZXMgPSBbXTtcbiAgICBjb25zdCB2ZXJ0aWNlc1ggPSB0aGlzLnZlcnRpY2VzWCAtIDE7XG4gICAgY29uc3QgdmVydGljZXNZID0gdGhpcy52ZXJ0aWNlc1kgLSAxO1xuICAgIGNvbnN0IHNpemVYID0gdGhpcy53aWR0aCAvIHZlcnRpY2VzWDtcbiAgICBjb25zdCBzaXplWSA9IHRoaXMuaGVpZ2h0IC8gdmVydGljZXNZO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgY29uc3QgeCA9IGkgJSB0aGlzLnZlcnRpY2VzWDtcbiAgICAgIGNvbnN0IHkgPSBpIC8gdGhpcy52ZXJ0aWNlc1ggfCAwO1xuICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG4gICAgICB1dnMucHVzaCh4IC8gdmVydGljZXNYLCB5IC8gdmVydGljZXNZKTtcbiAgICB9XG4gICAgY29uc3QgdG90YWxTdWIgPSB2ZXJ0aWNlc1ggKiB2ZXJ0aWNlc1k7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFN1YjsgaSsrKSB7XG4gICAgICBjb25zdCB4cG9zID0gaSAlIHZlcnRpY2VzWDtcbiAgICAgIGNvbnN0IHlwb3MgPSBpIC8gdmVydGljZXNYIHwgMDtcbiAgICAgIGNvbnN0IHZhbHVlID0geXBvcyAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgIGNvbnN0IHZhbHVlMiA9IHlwb3MgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3MgKyAxO1xuICAgICAgY29uc3QgdmFsdWUzID0gKHlwb3MgKyAxKSAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgIGNvbnN0IHZhbHVlNCA9ICh5cG9zICsgMSkgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3MgKyAxO1xuICAgICAgaW5kaWNlcy5wdXNoKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdmFsdWUyLFxuICAgICAgICB2YWx1ZTMsXG4gICAgICAgIHZhbHVlMixcbiAgICAgICAgdmFsdWU0LFxuICAgICAgICB2YWx1ZTNcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuYnVmZmVyc1swXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgdGhpcy5idWZmZXJzWzFdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQzMkFycmF5KGluZGljZXMpO1xuICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICB0aGlzLmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgfVxufTtcbl9QbGFuZUdlb21ldHJ5LmRlZmF1bHRPcHRpb25zID0ge1xuICB3aWR0aDogMTAwLFxuICBoZWlnaHQ6IDEwMCxcbiAgdmVydGljZXNYOiAxMCxcbiAgdmVydGljZXNZOiAxMFxufTtcbmxldCBQbGFuZUdlb21ldHJ5ID0gX1BsYW5lR2VvbWV0cnk7XG5cbmV4cG9ydCB7IFBsYW5lR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsYW5lR2VvbWV0cnkubWpzLm1hcFxuIiwiaW1wb3J0IHsgUGxhbmVHZW9tZXRyeSB9IGZyb20gJy4uL21lc2gtcGxhbmUvUGxhbmVHZW9tZXRyeS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9OaW5lU2xpY2VHZW9tZXRyeSA9IGNsYXNzIF9OaW5lU2xpY2VHZW9tZXRyeSBleHRlbmRzIFBsYW5lR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBvcHRpb25zID0geyAuLi5fTmluZVNsaWNlR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICBzdXBlcih7XG4gICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXG4gICAgICB2ZXJ0aWNlc1g6IDQsXG4gICAgICB2ZXJ0aWNlc1k6IDRcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZShvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgTmluZVNsaWNlR2VvbWV0cnkgd2l0aCB0aGUgb3B0aW9ucy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBvZiB0aGUgTmluZVNsaWNlR2VvbWV0cnkuXG4gICAqL1xuICB1cGRhdGUob3B0aW9ucykge1xuICAgIHRoaXMud2lkdGggPSBvcHRpb25zLndpZHRoID8/IHRoaXMud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCA/PyB0aGlzLmhlaWdodDtcbiAgICB0aGlzLl9vcmlnaW5hbFdpZHRoID0gb3B0aW9ucy5vcmlnaW5hbFdpZHRoID8/IHRoaXMuX29yaWdpbmFsV2lkdGg7XG4gICAgdGhpcy5fb3JpZ2luYWxIZWlnaHQgPSBvcHRpb25zLm9yaWdpbmFsSGVpZ2h0ID8/IHRoaXMuX29yaWdpbmFsSGVpZ2h0O1xuICAgIHRoaXMuX2xlZnRXaWR0aCA9IG9wdGlvbnMubGVmdFdpZHRoID8/IHRoaXMuX2xlZnRXaWR0aDtcbiAgICB0aGlzLl9yaWdodFdpZHRoID0gb3B0aW9ucy5yaWdodFdpZHRoID8/IHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgdGhpcy5fdG9wSGVpZ2h0ID0gb3B0aW9ucy50b3BIZWlnaHQgPz8gdGhpcy5fdG9wSGVpZ2h0O1xuICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IG9wdGlvbnMuYm90dG9tSGVpZ2h0ID8/IHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgIHRoaXMudXBkYXRlUG9zaXRpb25zKCk7XG4gIH1cbiAgLyoqIFVwZGF0ZXMgdGhlIHBvc2l0aW9ucyBvZiB0aGUgdmVydGljZXMuICovXG4gIHVwZGF0ZVBvc2l0aW9ucygpIHtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSB0aGlzLnBvc2l0aW9ucztcbiAgICBjb25zdCB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICBjb25zdCBzY2FsZVcgPSB0aGlzLndpZHRoID4gdyA/IDEgOiB0aGlzLndpZHRoIC8gdztcbiAgICBjb25zdCBoID0gdGhpcy5fdG9wSGVpZ2h0ICsgdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgIGNvbnN0IHNjYWxlSCA9IHRoaXMuaGVpZ2h0ID4gaCA/IDEgOiB0aGlzLmhlaWdodCAvIGg7XG4gICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVcsIHNjYWxlSCk7XG4gICAgcG9zaXRpb25zWzldID0gcG9zaXRpb25zWzExXSA9IHBvc2l0aW9uc1sxM10gPSBwb3NpdGlvbnNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0ICogc2NhbGU7XG4gICAgcG9zaXRpb25zWzE3XSA9IHBvc2l0aW9uc1sxOV0gPSBwb3NpdGlvbnNbMjFdID0gcG9zaXRpb25zWzIzXSA9IHRoaXMuaGVpZ2h0IC0gdGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGU7XG4gICAgcG9zaXRpb25zWzI1XSA9IHBvc2l0aW9uc1syN10gPSBwb3NpdGlvbnNbMjldID0gcG9zaXRpb25zWzMxXSA9IHRoaXMuaGVpZ2h0O1xuICAgIHBvc2l0aW9uc1syXSA9IHBvc2l0aW9uc1sxMF0gPSBwb3NpdGlvbnNbMThdID0gcG9zaXRpb25zWzI2XSA9IHRoaXMuX2xlZnRXaWR0aCAqIHNjYWxlO1xuICAgIHBvc2l0aW9uc1s0XSA9IHBvc2l0aW9uc1sxMl0gPSBwb3NpdGlvbnNbMjBdID0gcG9zaXRpb25zWzI4XSA9IHRoaXMud2lkdGggLSB0aGlzLl9yaWdodFdpZHRoICogc2NhbGU7XG4gICAgcG9zaXRpb25zWzZdID0gcG9zaXRpb25zWzE0XSA9IHBvc2l0aW9uc1syMl0gPSBwb3NpdGlvbnNbMzBdID0gdGhpcy53aWR0aDtcbiAgICB0aGlzLmdldEJ1ZmZlcihcImFQb3NpdGlvblwiKS51cGRhdGUoKTtcbiAgfVxuICAvKiogVXBkYXRlcyB0aGUgVVZzIG9mIHRoZSB2ZXJ0aWNlcy4gKi9cbiAgdXBkYXRlVXZzKCkge1xuICAgIGNvbnN0IHV2cyA9IHRoaXMudXZzO1xuICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICB1dnNbMV0gPSB1dnNbM10gPSB1dnNbNV0gPSB1dnNbN10gPSAwO1xuICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG4gICAgY29uc3QgX3V2dyA9IDEgLyB0aGlzLl9vcmlnaW5hbFdpZHRoO1xuICAgIGNvbnN0IF91dmggPSAxIC8gdGhpcy5fb3JpZ2luYWxIZWlnaHQ7XG4gICAgdXZzWzJdID0gdXZzWzEwXSA9IHV2c1sxOF0gPSB1dnNbMjZdID0gX3V2dyAqIHRoaXMuX2xlZnRXaWR0aDtcbiAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSBfdXZ3ICogdGhpcy5fcmlnaHRXaWR0aDtcbiAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIF91dmggKiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgdGhpcy5nZXRCdWZmZXIoXCJhVVZcIikudXBkYXRlKCk7XG4gIH1cbn07XG4vKiogVGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIE5pbmVTbGljZUdlb21ldHJ5LiAqL1xuX05pbmVTbGljZUdlb21ldHJ5LmRlZmF1bHRPcHRpb25zID0ge1xuICAvKiogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lLiAqL1xuICB3aWR0aDogMTAwLFxuICAvKiogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZS4gKi9cbiAgaGVpZ2h0OiAxMDAsXG4gIC8qKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uLiAqL1xuICBsZWZ0V2lkdGg6IDEwLFxuICAvKiogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdy4gKi9cbiAgdG9wSGVpZ2h0OiAxMCxcbiAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uLiAqL1xuICByaWdodFdpZHRoOiAxMCxcbiAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3cuICovXG4gIGJvdHRvbUhlaWdodDogMTAsXG4gIC8qKiBUaGUgb3JpZ2luYWwgd2lkdGggb2YgdGhlIHRleHR1cmUgKi9cbiAgb3JpZ2luYWxXaWR0aDogMTAwLFxuICAvKiogVGhlIG9yaWdpbmFsIGhlaWdodCBvZiB0aGUgdGV4dHVyZSAqL1xuICBvcmlnaW5hbEhlaWdodDogMTAwXG59O1xubGV0IE5pbmVTbGljZUdlb21ldHJ5ID0gX05pbmVTbGljZUdlb21ldHJ5O1xuXG5leHBvcnQgeyBOaW5lU2xpY2VHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmluZVNsaWNlR2VvbWV0cnkubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVNZXNoIH0gZnJvbSAnLi4vbWVzaC9zaGFyZWQvQmF0Y2hhYmxlTWVzaC5tanMnO1xuaW1wb3J0IHsgTmluZVNsaWNlR2VvbWV0cnkgfSBmcm9tICcuL05pbmVTbGljZUdlb21ldHJ5Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTmluZVNsaWNlU3ByaXRlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fZ3B1U3ByaXRlSGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQgPSB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKHNwcml0ZSwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICBpZiAoc3ByaXRlLl9kaWRTcHJpdGVVcGRhdGUpXG4gICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBncHVTcHJpdGUpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmFkZFRvQmF0Y2goZ3B1U3ByaXRlLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdO1xuICAgIGlmIChzcHJpdGUuX2RpZFNwcml0ZVVwZGF0ZSlcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGdwdVNwcml0ZSk7XG4gICAgZ3B1U3ByaXRlLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoZ3B1U3ByaXRlKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoc3ByaXRlKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICBpZiAoZ3B1U3ByaXRlLnRleHR1cmUuX3NvdXJjZSAhPT0gdGV4dHVyZS5fc291cmNlKSB7XG4gICAgICByZXR1cm4gIWdwdVNwcml0ZS5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoZ3B1U3ByaXRlLCB0ZXh0dXJlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKHNwcml0ZSkge1xuICAgIGNvbnN0IGJhdGNoYWJsZU1lc2ggPSB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdO1xuICAgIEJpZ1Bvb2wucmV0dXJuKGJhdGNoYWJsZU1lc2guZ2VvbWV0cnkpO1xuICAgIEJpZ1Bvb2wucmV0dXJuKGJhdGNoYWJsZU1lc2gpO1xuICAgIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gPSBudWxsO1xuICAgIHNwcml0ZS5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gIH1cbiAgX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGJhdGNoYWJsZVNwcml0ZSkge1xuICAgIHNwcml0ZS5fZGlkU3ByaXRlVXBkYXRlID0gZmFsc2U7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLmdlb21ldHJ5LnVwZGF0ZShzcHJpdGUpO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICB9XG4gIF9nZXRHcHVTcHJpdGUoc3ByaXRlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gfHwgdGhpcy5faW5pdEdQVVNwcml0ZShzcHJpdGUpO1xuICB9XG4gIF9pbml0R1BVU3ByaXRlKHNwcml0ZSkge1xuICAgIGNvbnN0IGJhdGNoYWJsZU1lc2ggPSBCaWdQb29sLmdldChCYXRjaGFibGVNZXNoKTtcbiAgICBiYXRjaGFibGVNZXNoLmdlb21ldHJ5ID0gQmlnUG9vbC5nZXQoTmluZVNsaWNlR2VvbWV0cnkpO1xuICAgIGJhdGNoYWJsZU1lc2gucmVuZGVyYWJsZSA9IHNwcml0ZTtcbiAgICBiYXRjaGFibGVNZXNoLnRyYW5zZm9ybSA9IHNwcml0ZS5ncm91cFRyYW5zZm9ybTtcbiAgICBiYXRjaGFibGVNZXNoLnRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgYmF0Y2hhYmxlTWVzaC5yb3VuZFBpeGVscyA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IHNwcml0ZS5fcm91bmRQaXhlbHM7XG4gICAgc3ByaXRlLl9kaWRTcHJpdGVVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gPSBiYXRjaGFibGVNZXNoO1xuICAgIHNwcml0ZS5vbihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICByZXR1cm4gYmF0Y2hhYmxlTWVzaDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9ncHVTcHJpdGVIYXNoKSB7XG4gICAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gdGhpcy5fZ3B1U3ByaXRlSGFzaFtpXTtcbiAgICAgIGJhdGNoYWJsZU1lc2guZ2VvbWV0cnkuZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoID0gbnVsbDtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5OaW5lU2xpY2VTcHJpdGVQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJuaW5lU2xpY2VTcHJpdGVcIlxufTtcblxuZXhwb3J0IHsgTmluZVNsaWNlU3ByaXRlUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmluZVNsaWNlU3ByaXRlUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBOaW5lU2xpY2VTcHJpdGVQaXBlIH0gZnJvbSAnLi9OaW5lU2xpY2VTcHJpdGVQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoTmluZVNsaWNlU3ByaXRlUGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdGlsaW5nQml0ID0ge1xuICBuYW1lOiBcInRpbGluZy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBzdHJ1Y3QgVGlsaW5nVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVNYXBDb29yZDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1Q2xhbXBGcmFtZTp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdUNsYW1wT2Zmc2V0OnZlYzI8ZjMyPixcbiAgICAgICAgICAgICAgICB1VGV4dHVyZVRyYW5zZm9ybTptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1U2l6ZUFuY2hvcjp2ZWM0PGYzMj5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gdGlsaW5nVW5pZm9ybXM6IFRpbGluZ1VuaWZvcm1zO1xuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDEpIHZhciB1VGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDIpIHZhciB1U2FtcGxlcjogc2FtcGxlcjtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdXYgPSAodGlsaW5nVW5pZm9ybXMudVRleHR1cmVUcmFuc2Zvcm0gKiB2ZWMzKHV2LCAxLjApKS54eTtcblxuICAgICAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gLSB0aWxpbmdVbmlmb3Jtcy51U2l6ZUFuY2hvci56dykgKiB0aWxpbmdVbmlmb3Jtcy51U2l6ZUFuY2hvci54eTtcbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHN0cnVjdCBUaWxpbmdVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdU1hcENvb3JkOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDbGFtcEZyYW1lOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1Q2xhbXBPZmZzZXQ6dmVjMjxmMzI+LFxuICAgICAgICAgICAgICAgIHVUZXh0dXJlVHJhbnNmb3JtOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVTaXplQW5jaG9yOnZlYzQ8ZjMyPlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB0aWxpbmdVbmlmb3JtczogVGlsaW5nVW5pZm9ybXM7XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMSkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMikgdmFyIHVTYW1wbGVyOiBzYW1wbGVyO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHZhciBjb29yZCA9IHZVViArIGNlaWwodGlsaW5nVW5pZm9ybXMudUNsYW1wT2Zmc2V0IC0gdlVWKTtcbiAgICAgICAgICAgIGNvb3JkID0gKHRpbGluZ1VuaWZvcm1zLnVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xuICAgICAgICAgICAgdmFyIHVuY2xhbXBlZCA9IGNvb3JkO1xuICAgICAgICAgICAgY29vcmQgPSBjbGFtcChjb29yZCwgdGlsaW5nVW5pZm9ybXMudUNsYW1wRnJhbWUueHksIHRpbGluZ1VuaWZvcm1zLnVDbGFtcEZyYW1lLnp3KTtcblxuICAgICAgICAgICAgdmFyIGJpYXMgPSAwLjtcblxuICAgICAgICAgICAgaWYodW5jbGFtcGVkLnggPT0gY29vcmQueCAmJiB1bmNsYW1wZWQueSA9PSBjb29yZC55KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJpYXMgPSAtMzIuO1xuICAgICAgICAgICAgfSBcblxuICAgICAgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlU2FtcGxlQmlhcyh1VGV4dHVyZSwgdVNhbXBsZXIsIGNvb3JkLCBiaWFzKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IHRpbGluZ0JpdEdsID0ge1xuICBuYW1lOiBcInRpbGluZy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdVRleHR1cmVUcmFuc2Zvcm07XG4gICAgICAgICAgICB1bmlmb3JtIHZlYzQgdVNpemVBbmNob3I7XG4gICAgICAgIFxuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB1diA9ICh1VGV4dHVyZVRyYW5zZm9ybSAqIHZlYzMoYVVWLCAxLjApKS54eTtcblxuICAgICAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gLSB1U2l6ZUFuY2hvci56dykgKiB1U2l6ZUFuY2hvci54eTtcbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xuICAgICAgICAgICAgdW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjMiB1Q2xhbXBPZmZzZXQ7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcblxuICAgICAgICB2ZWMyIGNvb3JkID0gdlVWICsgY2VpbCh1Q2xhbXBPZmZzZXQgLSB2VVYpO1xuICAgICAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcbiAgICAgICAgdmVjMiB1bmNsYW1wZWQgPSBjb29yZDtcbiAgICAgICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcbiAgICAgICAgXG4gICAgICAgIG91dENvbG9yID0gdGV4dHVyZSh1VGV4dHVyZSwgY29vcmQsIHVuY2xhbXBlZCA9PSBjb29yZCA/IDAuMCA6IC0zMi4wKTsvLyBsb2QtYmlhcyB2ZXJ5IG5lZ2F0aXZlIHRvIGZvcmNlIGxvZCAwXG4gICAgXG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IHRpbGluZ0JpdCwgdGlsaW5nQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbGluZ0JpdC5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBjb21waWxlSGlnaFNoYWRlckdwdVByb2dyYW0sIGNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL2NvbXBpbGVIaWdoU2hhZGVyVG9Qcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBsb2NhbFVuaWZvcm1CaXQsIGxvY2FsVW5pZm9ybUJpdEdsIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanMnO1xuaW1wb3J0IHsgcm91bmRQaXhlbHNCaXQsIHJvdW5kUGl4ZWxzQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvcm91bmRQaXhlbHNCaXQubWpzJztcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9TaGFkZXIubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IHRpbGluZ0JpdCwgdGlsaW5nQml0R2wgfSBmcm9tICcuL3RpbGluZ0JpdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBncHVQcm9ncmFtO1xubGV0IGdsUHJvZ3JhbTtcbmNsYXNzIFRpbGluZ1Nwcml0ZVNoYWRlciBleHRlbmRzIFNoYWRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGdwdVByb2dyYW0gPz8gKGdwdVByb2dyYW0gPSBjb21waWxlSGlnaFNoYWRlckdwdVByb2dyYW0oe1xuICAgICAgbmFtZTogXCJ0aWxpbmctc3ByaXRlLXNoYWRlclwiLFxuICAgICAgYml0czogW1xuICAgICAgICBsb2NhbFVuaWZvcm1CaXQsXG4gICAgICAgIHRpbGluZ0JpdCxcbiAgICAgICAgcm91bmRQaXhlbHNCaXRcbiAgICAgIF1cbiAgICB9KSk7XG4gICAgZ2xQcm9ncmFtID8/IChnbFByb2dyYW0gPSBjb21waWxlSGlnaFNoYWRlckdsUHJvZ3JhbSh7XG4gICAgICBuYW1lOiBcInRpbGluZy1zcHJpdGUtc2hhZGVyXCIsXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGxvY2FsVW5pZm9ybUJpdEdsLFxuICAgICAgICB0aWxpbmdCaXRHbCxcbiAgICAgICAgcm91bmRQaXhlbHNCaXRHbFxuICAgICAgXVxuICAgIH0pKTtcbiAgICBjb25zdCB0aWxpbmdVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdU1hcENvb3JkOiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdUNsYW1wRnJhbWU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDFdKSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUNsYW1wT2Zmc2V0OiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwXSksIHR5cGU6IFwidmVjMjxmMzI+XCIgfSxcbiAgICAgIHVUZXh0dXJlVHJhbnNmb3JtOiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdVNpemVBbmNob3I6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzEwMCwgMTAwLCAwLjUsIDAuNV0pLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH1cbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICBnbFByb2dyYW0sXG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgcmVzb3VyY2VzOiB7XG4gICAgICAgIGxvY2FsVW5pZm9ybXM6IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICAgICAgdUNvbG9yOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgICAgICB1Um91bmQ6IHsgdmFsdWU6IDAsIHR5cGU6IFwiZjMyXCIgfVxuICAgICAgICB9KSxcbiAgICAgICAgdGlsaW5nVW5pZm9ybXMsXG4gICAgICAgIHVUZXh0dXJlOiBUZXh0dXJlLkVNUFRZLnNvdXJjZSxcbiAgICAgICAgdVNhbXBsZXI6IFRleHR1cmUuRU1QVFkuc291cmNlLnN0eWxlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlVW5pZm9ybXMod2lkdGgsIGhlaWdodCwgbWF0cml4LCBhbmNob3JYLCBhbmNob3JZLCB0ZXh0dXJlKSB7XG4gICAgY29uc3QgdGlsaW5nVW5pZm9ybXMgPSB0aGlzLnJlc291cmNlcy50aWxpbmdVbmlmb3JtcztcbiAgICBjb25zdCB0ZXh0dXJlV2lkdGggPSB0ZXh0dXJlLndpZHRoO1xuICAgIGNvbnN0IHRleHR1cmVIZWlnaHQgPSB0ZXh0dXJlLmhlaWdodDtcbiAgICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gdGV4dHVyZS50ZXh0dXJlTWF0cml4O1xuICAgIGNvbnN0IHVUZXh0dXJlVHJhbnNmb3JtID0gdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVRleHR1cmVUcmFuc2Zvcm07XG4gICAgdVRleHR1cmVUcmFuc2Zvcm0uc2V0KFxuICAgICAgbWF0cml4LmEgKiB0ZXh0dXJlV2lkdGggLyB3aWR0aCxcbiAgICAgIG1hdHJpeC5iICogdGV4dHVyZVdpZHRoIC8gaGVpZ2h0LFxuICAgICAgbWF0cml4LmMgKiB0ZXh0dXJlSGVpZ2h0IC8gd2lkdGgsXG4gICAgICBtYXRyaXguZCAqIHRleHR1cmVIZWlnaHQgLyBoZWlnaHQsXG4gICAgICBtYXRyaXgudHggLyB3aWR0aCxcbiAgICAgIG1hdHJpeC50eSAvIGhlaWdodFxuICAgICk7XG4gICAgdVRleHR1cmVUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudU1hcENvb3JkID0gdGV4dHVyZU1hdHJpeC5tYXBDb29yZDtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51Q2xhbXBGcmFtZSA9IHRleHR1cmVNYXRyaXgudUNsYW1wRnJhbWU7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdGV4dHVyZU1hdHJpeC51Q2xhbXBPZmZzZXQ7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVRleHR1cmVUcmFuc2Zvcm0gPSB1VGV4dHVyZVRyYW5zZm9ybTtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51U2l6ZUFuY2hvclswXSA9IHdpZHRoO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzFdID0gaGVpZ2h0O1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzJdID0gYW5jaG9yWDtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51U2l6ZUFuY2hvclszXSA9IGFuY2hvclk7XG4gICAgaWYgKHRleHR1cmUpIHtcbiAgICAgIHRoaXMucmVzb3VyY2VzLnVUZXh0dXJlID0gdGV4dHVyZS5zb3VyY2U7XG4gICAgICB0aGlzLnJlc291cmNlcy51U2FtcGxlciA9IHRleHR1cmUuc291cmNlLnN0eWxlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBUaWxpbmdTcHJpdGVTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGluZ1Nwcml0ZVNoYWRlci5tanMubWFwXG4iLCJpbXBvcnQgeyBNZXNoR2VvbWV0cnkgfSBmcm9tICcuLi8uLi9tZXNoL3NoYXJlZC9NZXNoR2VvbWV0cnkubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBRdWFkR2VvbWV0cnkgZXh0ZW5kcyBNZXNoR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBwb3NpdGlvbnM6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKSxcbiAgICAgIHV2czogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pLFxuICAgICAgaW5kaWNlczogbmV3IFVpbnQzMkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSlcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBRdWFkR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1YWRHZW9tZXRyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZC5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgY29sb3IzMkJpdFRvVW5pZm9ybSB9IGZyb20gJy4uL2dyYXBoaWNzL2dwdS9jb2xvclRvVW5pZm9ybS5tanMnO1xuaW1wb3J0IHsgQmF0Y2hhYmxlTWVzaCB9IGZyb20gJy4uL21lc2gvc2hhcmVkL0JhdGNoYWJsZU1lc2gubWpzJztcbmltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJy4uL21lc2gvc2hhcmVkL01lc2hHZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlU2hhZGVyIH0gZnJvbSAnLi9zaGFkZXIvVGlsaW5nU3ByaXRlU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBRdWFkR2VvbWV0cnkgfSBmcm9tICcuL3V0aWxzL1F1YWRHZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgc2V0UG9zaXRpb25zIH0gZnJvbSAnLi91dGlscy9zZXRQb3NpdGlvbnMubWpzJztcbmltcG9ydCB7IHNldFV2cyB9IGZyb20gJy4vdXRpbHMvc2V0VXZzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3Qgc2hhcmVkUXVhZCA9IG5ldyBRdWFkR2VvbWV0cnkoKTtcbmNsYXNzIFRpbGluZ1Nwcml0ZVBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuZGVmYXVsdDJkO1xuICAgIHRoaXMuX3RpbGluZ1Nwcml0ZURhdGFIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCA9IHRoaXMuZGVzdHJveVJlbmRlcmFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShyZW5kZXJhYmxlKSB7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEocmVuZGVyYWJsZSk7XG4gICAgY29uc3QgY291bGRCYXRjaCA9IHRpbGluZ1Nwcml0ZURhdGEuY2FuQmF0Y2g7XG4gICAgdGhpcy5fdXBkYXRlQ2FuQmF0Y2gocmVuZGVyYWJsZSk7XG4gICAgY29uc3QgY2FuQmF0Y2ggPSB0aWxpbmdTcHJpdGVEYXRhLmNhbkJhdGNoO1xuICAgIGlmIChjYW5CYXRjaCAmJiBjYW5CYXRjaCA9PT0gY291bGRCYXRjaCkge1xuICAgICAgY29uc3QgeyBiYXRjaGFibGVNZXNoIH0gPSB0aWxpbmdTcHJpdGVEYXRhO1xuICAgICAgaWYgKGJhdGNoYWJsZU1lc2ggJiYgYmF0Y2hhYmxlTWVzaC50ZXh0dXJlLl9zb3VyY2UgIT09IHJlbmRlcmFibGUudGV4dHVyZS5fc291cmNlKSB7XG4gICAgICAgIHJldHVybiAhYmF0Y2hhYmxlTWVzaC5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoYmF0Y2hhYmxlTWVzaCwgcmVuZGVyYWJsZS50ZXh0dXJlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdWxkQmF0Y2ggIT09IGNhbkJhdGNoO1xuICB9XG4gIGFkZFJlbmRlcmFibGUodGlsaW5nU3ByaXRlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoZXIgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaDtcbiAgICB0aGlzLl91cGRhdGVDYW5CYXRjaCh0aWxpbmdTcHJpdGUpO1xuICAgIGNvbnN0IHRpbGluZ1Nwcml0ZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgeyBnZW9tZXRyeSwgY2FuQmF0Y2ggfSA9IHRpbGluZ1Nwcml0ZURhdGE7XG4gICAgaWYgKGNhbkJhdGNoKSB7XG4gICAgICB0aWxpbmdTcHJpdGVEYXRhLmJhdGNoYWJsZU1lc2ggfHwgKHRpbGluZ1Nwcml0ZURhdGEuYmF0Y2hhYmxlTWVzaCA9IG5ldyBCYXRjaGFibGVNZXNoKCkpO1xuICAgICAgY29uc3QgYmF0Y2hhYmxlTWVzaCA9IHRpbGluZ1Nwcml0ZURhdGEuYmF0Y2hhYmxlTWVzaDtcbiAgICAgIGlmICh0aWxpbmdTcHJpdGUuX2RpZFRpbGluZ1Nwcml0ZVVwZGF0ZSkge1xuICAgICAgICB0aWxpbmdTcHJpdGUuX2RpZFRpbGluZ1Nwcml0ZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVNZXNoKHRpbGluZ1Nwcml0ZSk7XG4gICAgICAgIGJhdGNoYWJsZU1lc2guZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgYmF0Y2hhYmxlTWVzaC5yZW5kZXJhYmxlID0gdGlsaW5nU3ByaXRlO1xuICAgICAgICBiYXRjaGFibGVNZXNoLnRyYW5zZm9ybSA9IHRpbGluZ1Nwcml0ZS5ncm91cFRyYW5zZm9ybTtcbiAgICAgICAgYmF0Y2hhYmxlTWVzaC50ZXh0dXJlID0gdGlsaW5nU3ByaXRlLl90ZXh0dXJlO1xuICAgICAgfVxuICAgICAgYmF0Y2hhYmxlTWVzaC5yb3VuZFBpeGVscyA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IHRpbGluZ1Nwcml0ZS5fcm91bmRQaXhlbHM7XG4gICAgICBiYXRjaGVyLmFkZFRvQmF0Y2goYmF0Y2hhYmxlTWVzaCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXRjaGVyLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIHRpbGluZ1Nwcml0ZURhdGEuc2hhZGVyIHx8ICh0aWxpbmdTcHJpdGVEYXRhLnNoYWRlciA9IG5ldyBUaWxpbmdTcHJpdGVTaGFkZXIoKSk7XG4gICAgICB0aGlzLnVwZGF0ZVJlbmRlcmFibGUodGlsaW5nU3ByaXRlKTtcbiAgICAgIGluc3RydWN0aW9uU2V0LmFkZCh0aWxpbmdTcHJpdGUpO1xuICAgIH1cbiAgfVxuICBleGVjdXRlKHRpbGluZ1Nwcml0ZSkge1xuICAgIGNvbnN0IHsgc2hhZGVyIH0gPSB0aGlzLl90aWxpbmdTcHJpdGVEYXRhSGFzaFt0aWxpbmdTcHJpdGUudWlkXTtcbiAgICBzaGFkZXIuZ3JvdXBzWzBdID0gdGhpcy5fcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMuYmluZEdyb3VwO1xuICAgIGNvbnN0IGxvY2FsVW5pZm9ybXMgPSBzaGFkZXIucmVzb3VyY2VzLmxvY2FsVW5pZm9ybXMudW5pZm9ybXM7XG4gICAgbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4ID0gdGlsaW5nU3ByaXRlLmdyb3VwVHJhbnNmb3JtO1xuICAgIGxvY2FsVW5pZm9ybXMudVJvdW5kID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgdGlsaW5nU3ByaXRlLl9yb3VuZFBpeGVscztcbiAgICBjb2xvcjMyQml0VG9Vbmlmb3JtKFxuICAgICAgdGlsaW5nU3ByaXRlLmdyb3VwQ29sb3JBbHBoYSxcbiAgICAgIGxvY2FsVW5pZm9ybXMudUNvbG9yLFxuICAgICAgMFxuICAgICk7XG4gICAgdGhpcy5fc3RhdGUuYmxlbmRNb2RlID0gZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZCh0aWxpbmdTcHJpdGUuZ3JvdXBCbGVuZE1vZGUsIHRpbGluZ1Nwcml0ZS50ZXh0dXJlLl9zb3VyY2UpO1xuICAgIHRoaXMuX3JlbmRlcmVyLmVuY29kZXIuZHJhdyh7XG4gICAgICBnZW9tZXRyeTogc2hhcmVkUXVhZCxcbiAgICAgIHNoYWRlcixcbiAgICAgIHN0YXRlOiB0aGlzLl9zdGF0ZVxuICAgIH0pO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUodGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKTtcbiAgICBjb25zdCB7IGNhbkJhdGNoIH0gPSB0aWxpbmdTcHJpdGVEYXRhO1xuICAgIGlmIChjYW5CYXRjaCkge1xuICAgICAgY29uc3QgeyBiYXRjaGFibGVNZXNoIH0gPSB0aWxpbmdTcHJpdGVEYXRhO1xuICAgICAgaWYgKHRpbGluZ1Nwcml0ZS5fZGlkVGlsaW5nU3ByaXRlVXBkYXRlKVxuICAgICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVNZXNoKHRpbGluZ1Nwcml0ZSk7XG4gICAgICBiYXRjaGFibGVNZXNoLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoYmF0Y2hhYmxlTWVzaCk7XG4gICAgfSBlbHNlIGlmICh0aWxpbmdTcHJpdGUuX2RpZFRpbGluZ1Nwcml0ZVVwZGF0ZSkge1xuICAgICAgY29uc3QgeyBzaGFkZXIgfSA9IHRpbGluZ1Nwcml0ZURhdGE7XG4gICAgICBzaGFkZXIudXBkYXRlVW5pZm9ybXMoXG4gICAgICAgIHRpbGluZ1Nwcml0ZS53aWR0aCxcbiAgICAgICAgdGlsaW5nU3ByaXRlLmhlaWdodCxcbiAgICAgICAgdGlsaW5nU3ByaXRlLl90aWxlVHJhbnNmb3JtLm1hdHJpeCxcbiAgICAgICAgdGlsaW5nU3ByaXRlLmFuY2hvci54LFxuICAgICAgICB0aWxpbmdTcHJpdGUuYW5jaG9yLnksXG4gICAgICAgIHRpbGluZ1Nwcml0ZS50ZXh0dXJlXG4gICAgICApO1xuICAgIH1cbiAgICB0aWxpbmdTcHJpdGUuX2RpZFRpbGluZ1Nwcml0ZVVwZGF0ZSA9IGZhbHNlO1xuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKHRpbGluZ1Nwcml0ZSkge1xuICAgIGNvbnN0IHRpbGluZ1Nwcml0ZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSk7XG4gICAgdGlsaW5nU3ByaXRlRGF0YS5iYXRjaGFibGVNZXNoID0gbnVsbDtcbiAgICB0aWxpbmdTcHJpdGVEYXRhLnNoYWRlcj8uZGVzdHJveSgpO1xuICAgIHRoaXMuX3RpbGluZ1Nwcml0ZURhdGFIYXNoW3RpbGluZ1Nwcml0ZS51aWRdID0gbnVsbDtcbiAgICB0aWxpbmdTcHJpdGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIF9nZXRUaWxpbmdTcHJpdGVEYXRhKHJlbmRlcmFibGUpIHtcbiAgICByZXR1cm4gdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2hbcmVuZGVyYWJsZS51aWRdIHx8IHRoaXMuX2luaXRUaWxpbmdTcHJpdGVEYXRhKHJlbmRlcmFibGUpO1xuICB9XG4gIF9pbml0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkoe1xuICAgICAgaW5kaWNlczogc2hhcmVkUXVhZC5pbmRpY2VzLFxuICAgICAgcG9zaXRpb25zOiBzaGFyZWRRdWFkLnBvc2l0aW9ucy5zbGljZSgpLFxuICAgICAgdXZzOiBzaGFyZWRRdWFkLnV2cy5zbGljZSgpXG4gICAgfSk7XG4gICAgdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2hbdGlsaW5nU3ByaXRlLnVpZF0gPSB7XG4gICAgICBjYW5CYXRjaDogdHJ1ZSxcbiAgICAgIHJlbmRlcmFibGU6IHRpbGluZ1Nwcml0ZSxcbiAgICAgIGdlb21ldHJ5XG4gICAgfTtcbiAgICB0aWxpbmdTcHJpdGUub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgcmV0dXJuIHRoaXMuX3RpbGluZ1Nwcml0ZURhdGFIYXNoW3RpbGluZ1Nwcml0ZS51aWRdO1xuICB9XG4gIF91cGRhdGVCYXRjaGFibGVNZXNoKHRpbGluZ1Nwcml0ZSkge1xuICAgIGNvbnN0IHJlbmRlcmFibGVEYXRhID0gdGhpcy5fZ2V0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpO1xuICAgIGNvbnN0IHsgZ2VvbWV0cnkgfSA9IHJlbmRlcmFibGVEYXRhO1xuICAgIGNvbnN0IHN0eWxlID0gdGlsaW5nU3ByaXRlLnRleHR1cmUuc291cmNlLnN0eWxlO1xuICAgIGlmIChzdHlsZS5hZGRyZXNzTW9kZSAhPT0gXCJyZXBlYXRcIikge1xuICAgICAgc3R5bGUuYWRkcmVzc01vZGUgPSBcInJlcGVhdFwiO1xuICAgICAgc3R5bGUudXBkYXRlKCk7XG4gICAgfVxuICAgIHNldFV2cyh0aWxpbmdTcHJpdGUsIGdlb21ldHJ5LnV2cyk7XG4gICAgc2V0UG9zaXRpb25zKHRpbGluZ1Nwcml0ZSwgZ2VvbWV0cnkucG9zaXRpb25zKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl90aWxpbmdTcHJpdGVEYXRhSGFzaCkge1xuICAgICAgdGhpcy5kZXN0cm95UmVuZGVyYWJsZSh0aGlzLl90aWxpbmdTcHJpdGVEYXRhSGFzaFtpXS5yZW5kZXJhYmxlKTtcbiAgICB9XG4gICAgdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2ggPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBfdXBkYXRlQ2FuQmF0Y2godGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgcmVuZGVyYWJsZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRpbGluZ1Nwcml0ZS50ZXh0dXJlO1xuICAgIGxldCBfbm9uUG93T2Yyd3JhcHBpbmcgPSB0cnVlO1xuICAgIGlmICh0aGlzLl9yZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR0wpIHtcbiAgICAgIF9ub25Qb3dPZjJ3cmFwcGluZyA9IHRoaXMuX3JlbmRlcmVyLmNvbnRleHQuc3VwcG9ydHMubm9uUG93T2Yyd3JhcHBpbmc7XG4gICAgfVxuICAgIHJlbmRlcmFibGVEYXRhLmNhbkJhdGNoID0gdGV4dHVyZS50ZXh0dXJlTWF0cml4LmlzU2ltcGxlICYmIChfbm9uUG93T2Yyd3JhcHBpbmcgfHwgdGV4dHVyZS5zb3VyY2UuaXNQb3dlck9mVHdvKTtcbiAgICByZXR1cm4gcmVuZGVyYWJsZURhdGEuY2FuQmF0Y2g7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5UaWxpbmdTcHJpdGVQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJ0aWxpbmdTcHJpdGVcIlxufTtcblxuZXhwb3J0IHsgVGlsaW5nU3ByaXRlUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBhcHBseU1hdHJpeCB9IGZyb20gJy4vYXBwbHlNYXRyaXgubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBzZXRVdnModGlsaW5nU3ByaXRlLCB1dnMpIHtcbiAgY29uc3QgdGV4dHVyZSA9IHRpbGluZ1Nwcml0ZS50ZXh0dXJlO1xuICBjb25zdCB3aWR0aCA9IHRleHR1cmUuZnJhbWUud2lkdGg7XG4gIGNvbnN0IGhlaWdodCA9IHRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICBsZXQgYW5jaG9yWCA9IDA7XG4gIGxldCBhbmNob3JZID0gMDtcbiAgaWYgKHRpbGluZ1Nwcml0ZS5fYXBwbHlBbmNob3JUb1RleHR1cmUpIHtcbiAgICBhbmNob3JYID0gdGlsaW5nU3ByaXRlLmFuY2hvci54O1xuICAgIGFuY2hvclkgPSB0aWxpbmdTcHJpdGUuYW5jaG9yLnk7XG4gIH1cbiAgdXZzWzBdID0gdXZzWzZdID0gLWFuY2hvclg7XG4gIHV2c1syXSA9IHV2c1s0XSA9IDEgLSBhbmNob3JYO1xuICB1dnNbMV0gPSB1dnNbM10gPSAtYW5jaG9yWTtcbiAgdXZzWzVdID0gdXZzWzddID0gMSAtIGFuY2hvclk7XG4gIGNvbnN0IHRleHR1cmVNYXRyaXggPSBNYXRyaXguc2hhcmVkO1xuICB0ZXh0dXJlTWF0cml4LmNvcHlGcm9tKHRpbGluZ1Nwcml0ZS5fdGlsZVRyYW5zZm9ybS5tYXRyaXgpO1xuICB0ZXh0dXJlTWF0cml4LnR4IC89IHRpbGluZ1Nwcml0ZS53aWR0aDtcbiAgdGV4dHVyZU1hdHJpeC50eSAvPSB0aWxpbmdTcHJpdGUuaGVpZ2h0O1xuICB0ZXh0dXJlTWF0cml4LmludmVydCgpO1xuICB0ZXh0dXJlTWF0cml4LnNjYWxlKHRpbGluZ1Nwcml0ZS53aWR0aCAvIHdpZHRoLCB0aWxpbmdTcHJpdGUuaGVpZ2h0IC8gaGVpZ2h0KTtcbiAgYXBwbHlNYXRyaXgodXZzLCAyLCAwLCB0ZXh0dXJlTWF0cml4KTtcbn1cblxuZXhwb3J0IHsgc2V0VXZzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXRVdnMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBhcHBseU1hdHJpeChhcnJheSwgc3RyaWRlLCBvZmZzZXQsIG1hdHJpeCkge1xuICBsZXQgaW5kZXggPSAwO1xuICBjb25zdCBzaXplID0gYXJyYXkubGVuZ3RoIC8gKHN0cmlkZSB8fCAyKTtcbiAgY29uc3QgYSA9IG1hdHJpeC5hO1xuICBjb25zdCBiID0gbWF0cml4LmI7XG4gIGNvbnN0IGMgPSBtYXRyaXguYztcbiAgY29uc3QgZCA9IG1hdHJpeC5kO1xuICBjb25zdCB0eCA9IG1hdHJpeC50eDtcbiAgY29uc3QgdHkgPSBtYXRyaXgudHk7XG4gIG9mZnNldCAqPSBzdHJpZGU7XG4gIHdoaWxlIChpbmRleCA8IHNpemUpIHtcbiAgICBjb25zdCB4ID0gYXJyYXlbb2Zmc2V0XTtcbiAgICBjb25zdCB5ID0gYXJyYXlbb2Zmc2V0ICsgMV07XG4gICAgYXJyYXlbb2Zmc2V0XSA9IGEgKiB4ICsgYyAqIHkgKyB0eDtcbiAgICBhcnJheVtvZmZzZXQgKyAxXSA9IGIgKiB4ICsgZCAqIHkgKyB0eTtcbiAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIGluZGV4Kys7XG4gIH1cbn1cblxuZXhwb3J0IHsgYXBwbHlNYXRyaXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcGx5TWF0cml4Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gc2V0UG9zaXRpb25zKHRpbGluZ1Nwcml0ZSwgcG9zaXRpb25zKSB7XG4gIGNvbnN0IGFuY2hvclggPSB0aWxpbmdTcHJpdGUuYW5jaG9yLng7XG4gIGNvbnN0IGFuY2hvclkgPSB0aWxpbmdTcHJpdGUuYW5jaG9yLnk7XG4gIHBvc2l0aW9uc1swXSA9IC1hbmNob3JYICogdGlsaW5nU3ByaXRlLndpZHRoO1xuICBwb3NpdGlvbnNbMV0gPSAtYW5jaG9yWSAqIHRpbGluZ1Nwcml0ZS5oZWlnaHQ7XG4gIHBvc2l0aW9uc1syXSA9ICgxIC0gYW5jaG9yWCkgKiB0aWxpbmdTcHJpdGUud2lkdGg7XG4gIHBvc2l0aW9uc1szXSA9IC1hbmNob3JZICogdGlsaW5nU3ByaXRlLmhlaWdodDtcbiAgcG9zaXRpb25zWzRdID0gKDEgLSBhbmNob3JYKSAqIHRpbGluZ1Nwcml0ZS53aWR0aDtcbiAgcG9zaXRpb25zWzVdID0gKDEgLSBhbmNob3JZKSAqIHRpbGluZ1Nwcml0ZS5oZWlnaHQ7XG4gIHBvc2l0aW9uc1s2XSA9IC1hbmNob3JYICogdGlsaW5nU3ByaXRlLndpZHRoO1xuICBwb3NpdGlvbnNbN10gPSAoMSAtIGFuY2hvclkpICogdGlsaW5nU3ByaXRlLmhlaWdodDtcbn1cblxuZXhwb3J0IHsgc2V0UG9zaXRpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXRQb3NpdGlvbnMubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUGlwZSB9IGZyb20gJy4vVGlsaW5nU3ByaXRlUGlwZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKFRpbGluZ1Nwcml0ZVBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJhdGNoYWJsZVNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYmF0Y2hlck5hbWUgPSBcImRlZmF1bHRcIjtcbiAgICAvLyBiYXRjaCBzcGVjaWZpYy4uXG4gICAgdGhpcy5hdHRyaWJ1dGVTaXplID0gNDtcbiAgICB0aGlzLmluZGV4U2l6ZSA9IDY7XG4gICAgdGhpcy5wYWNrQXNRdWFkID0gdHJ1ZTtcbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gMDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVTdGFydCA9IDA7XG4gICAgLy8gbG9jYXRpb24gaW4gdGhlIGJ1ZmZlclxuICAgIHRoaXMuX2JhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoID0gbnVsbDtcbiAgfVxuICBnZXQgYmxlbmRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBCbGVuZE1vZGU7XG4gIH1cbiAgZ2V0IGNvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBDb2xvckFscGhhO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmVuZGVyYWJsZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gICAgdGhpcy5ib3VuZHMgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hhYmxlU3ByaXRlLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgbG9jYWxVbmlmb3JtTVNERkJpdCA9IHtcbiAgbmFtZTogXCJsb2NhbC11bmlmb3JtLW1zZGYtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgc3RydWN0IExvY2FsVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVDb2xvcjp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1RGlzdGFuY2U6IGYzMixcbiAgICAgICAgICAgICAgICB1Um91bmQ6ZjMyLFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGxvY2FsVW5pZm9ybXMgOiBMb2NhbFVuaWZvcm1zO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gbG9jYWxVbmlmb3Jtcy51Q29sb3I7XG4gICAgICAgICAgICBtb2RlbE1hdHJpeCAqPSBsb2NhbFVuaWZvcm1zLnVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIGVuZDogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaWYobG9jYWxVbmlmb3Jtcy51Um91bmQgPT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2UG9zaXRpb24gPSB2ZWM0KHJvdW5kUGl4ZWxzKHZQb3NpdGlvbi54eSwgZ2xvYmFsVW5pZm9ybXMudVJlc29sdXRpb24pLCB2UG9zaXRpb24uencpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgc3RydWN0IExvY2FsVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVDb2xvcjp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1RGlzdGFuY2U6IGYzMlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGxvY2FsVW5pZm9ybXMgOiBMb2NhbFVuaWZvcm1zO1xuICAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYCBcbiAgICAgICAgICAgIG91dENvbG9yID0gdmVjNDxmMzI+KGNhbGN1bGF0ZU1TREZBbHBoYShvdXRDb2xvciwgbG9jYWxVbmlmb3Jtcy51Q29sb3IsIGxvY2FsVW5pZm9ybXMudURpc3RhbmNlKSk7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBsb2NhbFVuaWZvcm1NU0RGQml0R2wgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1tc2RmLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDb2xvcjtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdVJvdW5kO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gdUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggKj0gdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZih1Um91bmQgPT0gMS4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCB1RGlzdGFuY2U7XG4gICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgIFxuICAgICAgICAgICAgb3V0Q29sb3IgPSB2ZWM0KGNhbGN1bGF0ZU1TREZBbHBoYShvdXRDb2xvciwgdkNvbG9yLCB1RGlzdGFuY2UpKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgbG9jYWxVbmlmb3JtTVNERkJpdCwgbG9jYWxVbmlmb3JtTVNERkJpdEdsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhbFVuaWZvcm1NU0RGQml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgbVNERkJpdCA9IHtcbiAgbmFtZTogXCJtc2RmLWJpdFwiLFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgZm4gY2FsY3VsYXRlTVNERkFscGhhKG1zZGZDb2xvcjp2ZWM0PGYzMj4sIHNoYXBlQ29sb3I6dmVjNDxmMzI+LCBkaXN0YW5jZTpmMzIpIC0+IGYzMiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTVNERlxuICAgICAgICAgICAgICAgIHZhciBtZWRpYW4gPSBtc2RmQ29sb3IuciArIG1zZGZDb2xvci5nICsgbXNkZkNvbG9yLmIgLVxuICAgICAgICAgICAgICAgICAgICBtaW4obXNkZkNvbG9yLnIsIG1pbihtc2RmQ29sb3IuZywgbXNkZkNvbG9yLmIpKSAtXG4gICAgICAgICAgICAgICAgICAgIG1heChtc2RmQ29sb3IuciwgbWF4KG1zZGZDb2xvci5nLCBtc2RmQ29sb3IuYikpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU0RGXG4gICAgICAgICAgICAgICAgbWVkaWFuID0gbWluKG1lZGlhbiwgbXNkZkNvbG9yLmEpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjcmVlblB4RGlzdGFuY2UgPSBkaXN0YW5jZSAqIChtZWRpYW4gLSAwLjUpO1xuICAgICAgICAgICAgICAgIHZhciBhbHBoYSA9IGNsYW1wKHNjcmVlblB4RGlzdGFuY2UgKyAwLjUsIDAuMCwgMS4wKTtcbiAgICAgICAgICAgICAgICBpZiAobWVkaWFuIDwgMC4wMSkge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IDAuMDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1lZGlhbiA+IDAuOTkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEgPSAxLjA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gR2FtbWEgY29ycmVjdGlvbiBmb3IgY292ZXJhZ2UtbGlrZSBhbHBoYVxuICAgICAgICAgICAgICAgIHZhciBsdW1hOiBmMzIgPSBkb3Qoc2hhcGVDb2xvci5yZ2IsIHZlYzM8ZjMyPigwLjI5OSwgMC41ODcsIDAuMTE0KSk7XG4gICAgICAgICAgICAgICAgdmFyIGdhbW1hOiBmMzIgPSBtaXgoMS4wLCAxLjAgLyAyLjIsIGx1bWEpO1xuICAgICAgICAgICAgICAgIHZhciBjb3ZlcmFnZTogZjMyID0gcG93KHNoYXBlQ29sb3IuYSAqIGFscGhhLCBnYW1tYSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY292ZXJhZ2U7XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBtU0RGQml0R2wgPSB7XG4gIG5hbWU6IFwibXNkZi1iaXRcIixcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGZsb2F0IGNhbGN1bGF0ZU1TREZBbHBoYSh2ZWM0IG1zZGZDb2xvciwgdmVjNCBzaGFwZUNvbG9yLCBmbG9hdCBkaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIE1TREZcbiAgICAgICAgICAgICAgICBmbG9hdCBtZWRpYW4gPSBtc2RmQ29sb3IuciArIG1zZGZDb2xvci5nICsgbXNkZkNvbG9yLmIgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4obXNkZkNvbG9yLnIsIG1pbihtc2RmQ29sb3IuZywgbXNkZkNvbG9yLmIpKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heChtc2RmQ29sb3IuciwgbWF4KG1zZGZDb2xvci5nLCBtc2RmQ29sb3IuYikpO1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU0RGXG4gICAgICAgICAgICAgICAgbWVkaWFuID0gbWluKG1lZGlhbiwgbXNkZkNvbG9yLmEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZmxvYXQgc2NyZWVuUHhEaXN0YW5jZSA9IGRpc3RhbmNlICogKG1lZGlhbiAtIDAuNSk7XG4gICAgICAgICAgICAgICAgZmxvYXQgYWxwaGEgPSBjbGFtcChzY3JlZW5QeERpc3RhbmNlICsgMC41LCAwLjAsIDEuMCk7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChtZWRpYW4gPCAwLjAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFscGhhID0gMC4wO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWVkaWFuID4gMC45OSkge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IDEuMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHYW1tYSBjb3JyZWN0aW9uIGZvciBjb3ZlcmFnZS1saWtlIGFscGhhXG4gICAgICAgICAgICAgICAgZmxvYXQgbHVtYSA9IGRvdChzaGFwZUNvbG9yLnJnYiwgdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KSk7XG4gICAgICAgICAgICAgICAgZmxvYXQgZ2FtbWEgPSBtaXgoMS4wLCAxLjAgLyAyLjIsIGx1bWEpO1xuICAgICAgICAgICAgICAgIGZsb2F0IGNvdmVyYWdlID0gcG93KHNoYXBlQ29sb3IuYSAqIGFscGhhLCBnYW1tYSk7ICBcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdmVyYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBtU0RGQml0LCBtU0RGQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1TREZCaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgZ2V0TWF4VGV4dHVyZXNQZXJCYXRjaCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9iYXRjaGVyL2dsL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMubWpzJztcbmltcG9ydCB7IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSwgY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0gfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZUhpZ2hTaGFkZXJUb1Byb2dyYW0ubWpzJztcbmltcG9ydCB7IGNvbG9yQml0LCBjb2xvckJpdEdsIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2NvbG9yQml0Lm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdCwgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXRHbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9nZW5lcmF0ZVRleHR1cmVCYXRjaEJpdC5tanMnO1xuaW1wb3J0IHsgcm91bmRQaXhlbHNCaXQsIHJvdW5kUGl4ZWxzQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvcm91bmRQaXhlbHNCaXQubWpzJztcbmltcG9ydCB7IGdldEJhdGNoU2FtcGxlcnNVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9nZXRCYXRjaFNhbXBsZXJzVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBTaGFkZXIgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBsb2NhbFVuaWZvcm1NU0RGQml0LCBsb2NhbFVuaWZvcm1NU0RGQml0R2wgfSBmcm9tICcuL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybU1TREZCaXQubWpzJztcbmltcG9ydCB7IG1TREZCaXQsIG1TREZCaXRHbCB9IGZyb20gJy4vc2hhZGVyLWJpdHMvbVNERkJpdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBncHVQcm9ncmFtO1xubGV0IGdsUHJvZ3JhbTtcbmNsYXNzIFNkZlNoYWRlciBleHRlbmRzIFNoYWRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IHVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1Q29sb3I6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdVRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVEaXN0YW5jZTogeyB2YWx1ZTogNCwgdHlwZTogXCJmMzJcIiB9LFxuICAgICAgdVJvdW5kOiB7IHZhbHVlOiAwLCB0eXBlOiBcImYzMlwiIH1cbiAgICB9KTtcbiAgICBjb25zdCBtYXhUZXh0dXJlcyA9IGdldE1heFRleHR1cmVzUGVyQmF0Y2goKTtcbiAgICBncHVQcm9ncmFtID8/IChncHVQcm9ncmFtID0gY29tcGlsZUhpZ2hTaGFkZXJHcHVQcm9ncmFtKHtcbiAgICAgIG5hbWU6IFwic2RmLXNoYWRlclwiLFxuICAgICAgYml0czogW1xuICAgICAgICBjb2xvckJpdCxcbiAgICAgICAgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQobWF4VGV4dHVyZXMpLFxuICAgICAgICBsb2NhbFVuaWZvcm1NU0RGQml0LFxuICAgICAgICBtU0RGQml0LFxuICAgICAgICByb3VuZFBpeGVsc0JpdFxuICAgICAgXVxuICAgIH0pKTtcbiAgICBnbFByb2dyYW0gPz8gKGdsUHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtKHtcbiAgICAgIG5hbWU6IFwic2RmLXNoYWRlclwiLFxuICAgICAgYml0czogW1xuICAgICAgICBjb2xvckJpdEdsLFxuICAgICAgICBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdEdsKG1heFRleHR1cmVzKSxcbiAgICAgICAgbG9jYWxVbmlmb3JtTVNERkJpdEdsLFxuICAgICAgICBtU0RGQml0R2wsXG4gICAgICAgIHJvdW5kUGl4ZWxzQml0R2xcbiAgICAgIF1cbiAgICB9KSk7XG4gICAgc3VwZXIoe1xuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIHJlc291cmNlczoge1xuICAgICAgICBsb2NhbFVuaWZvcm1zOiB1bmlmb3JtcyxcbiAgICAgICAgYmF0Y2hTYW1wbGVyczogZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cChtYXhUZXh0dXJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBTZGZTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNkZlNoYWRlci5tanMubWFwXG4iLCJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24sIHY4XzBfMCB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBBYnN0cmFjdEJpdG1hcEZvbnQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIC8qKiBUaGUgbWFwIG9mIGNoYXJhY3RlcnMgYnkgY2hhcmFjdGVyIGNvZGUuICovXG4gICAgdGhpcy5jaGFycyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIC8qKlxuICAgICAqIFRoZSBsaW5lLWhlaWdodCBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZUhlaWdodCA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZvbnQgZmFjZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mb250RmFtaWx5ID0gXCJcIjtcbiAgICAvKiogVGhlIG1ldHJpY3Mgb2YgdGhlIGZvbnQgZmFjZS4gKi9cbiAgICB0aGlzLmZvbnRNZXRyaWNzID0geyBmb250U2l6ZTogMCwgYXNjZW50OiAwLCBkZXNjZW50OiAwIH07XG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBvZiB0aGUgZm9udCBmYWNlIGZyb20gdGhlIGJhc2VsaW5lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5iYXNlTGluZU9mZnNldCA9IDA7XG4gICAgLyoqIFRoZSByYW5nZSBhbmQgdHlwZSBvZiB0aGUgZGlzdGFuY2UgZmllbGQgZm9yIHRoaXMgZm9udC4gKi9cbiAgICB0aGlzLmRpc3RhbmNlRmllbGQgPSB7IHR5cGU6IFwibm9uZVwiLCByYW5nZTogMCB9O1xuICAgIC8qKiBUaGUgbWFwIG9mIGJhc2UgcGFnZSB0ZXh0dXJlcyAoaS5lLiwgc2hlZXRzIG9mIGdseXBocykuICovXG4gICAgdGhpcy5wYWdlcyA9IFtdO1xuICAgIC8qKiBzaG91bGQgdGhlIGZpbGwgZm9yIHRoaXMgZm9udCBiZSBhcHBsaWVkIGFzIGEgdGludCB0byB0aGUgdGV4dC4gKi9cbiAgICB0aGlzLmFwcGx5RmlsbEFzVGludCA9IHRydWU7XG4gICAgLyoqIFRoZSBzaXplIG9mIHRoZSBmb250IGZhY2UgaW4gcGl4ZWxzLiAqL1xuICAgIHRoaXMuYmFzZU1lYXN1cmVtZW50Rm9udFNpemUgPSAxMDA7XG4gICAgdGhpcy5iYXNlUmVuZGVyZWRGb250U2l6ZSA9IDEwMDtcbiAgfVxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZvbnQgZmFjZS5cbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgOC4wLjAgVXNlIGBmb250RmFtaWx5YCBpbnN0ZWFkLlxuICAgKi9cbiAgZ2V0IGZvbnQoKSB7XG4gICAgZGVwcmVjYXRpb24odjhfMF8wLCBcIkJpdG1hcEZvbnQuZm9udCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJpdG1hcEZvbnQuZm9udEZhbWlseSBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy5mb250RmFtaWx5O1xuICB9XG4gIC8qKlxuICAgKiBUaGUgbWFwIG9mIGJhc2UgcGFnZSB0ZXh0dXJlcyAoaS5lLiwgc2hlZXRzIG9mIGdseXBocykuXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMC4wIFVzZSBgcGFnZXNgIGluc3RlYWQuXG4gICAqL1xuICBnZXQgcGFnZVRleHR1cmVzKCkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJCaXRtYXBGb250LnBhZ2VUZXh0dXJlcyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJpdG1hcEZvbnQucGFnZXMgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMucGFnZXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSBmb250IGZhY2UgaW4gcGl4ZWxzLlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA4LjAuMCBVc2UgYGZvbnRNZXRyaWNzLmZvbnRTaXplYCBpbnN0ZWFkLlxuICAgKi9cbiAgZ2V0IHNpemUoKSB7XG4gICAgZGVwcmVjYXRpb24odjhfMF8wLCBcIkJpdG1hcEZvbnQuc2l6ZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJpdG1hcEZvbnQuZm9udE1ldHJpY3MuZm9udFNpemUgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMuZm9udE1ldHJpY3MuZm9udFNpemU7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIGRpc3RhbmNlIGZpZWxkIGZvciB0aGlzIGZvbnQgb3IgXCJub25lXCIuXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMC4wIFVzZSBgZGlzdGFuY2VGaWVsZC50eXBlYCBpbnN0ZWFkLlxuICAgKi9cbiAgZ2V0IGRpc3RhbmNlRmllbGRSYW5nZSgpIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiQml0bWFwRm9udC5kaXN0YW5jZUZpZWxkUmFuZ2UgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBCaXRtYXBGb250LmRpc3RhbmNlRmllbGQucmFuZ2UgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMuZGlzdGFuY2VGaWVsZC5yYW5nZTtcbiAgfVxuICAvKipcbiAgICogVGhlIHJhbmdlIG9mIHRoZSBkaXN0YW5jZSBmaWVsZCBpbiBwaXhlbHMuXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMC4wIFVzZSBgZGlzdGFuY2VGaWVsZC5yYW5nZWAgaW5zdGVhZC5cbiAgICovXG4gIGdldCBkaXN0YW5jZUZpZWxkVHlwZSgpIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiQml0bWFwRm9udC5kaXN0YW5jZUZpZWxkVHlwZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJpdG1hcEZvbnQuZGlzdGFuY2VGaWVsZC50eXBlIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLmRpc3RhbmNlRmllbGQudHlwZTtcbiAgfVxuICBkZXN0cm95KGRlc3Ryb3lUZXh0dXJlcyA9IGZhbHNlKSB7XG4gICAgdGhpcy5lbWl0KFwiZGVzdHJveVwiLCB0aGlzKTtcbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLmNoYXJzKSB7XG4gICAgICB0aGlzLmNoYXJzW2ldLnRleHR1cmU/LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5jaGFycyA9IG51bGw7XG4gICAgaWYgKGRlc3Ryb3lUZXh0dXJlcykge1xuICAgICAgdGhpcy5wYWdlcy5mb3JFYWNoKChwYWdlKSA9PiBwYWdlLnRleHR1cmUuZGVzdHJveSh0cnVlKSk7XG4gICAgICB0aGlzLnBhZ2VzID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgQWJzdHJhY3RCaXRtYXBGb250IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdEJpdG1hcEZvbnQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiByZXNvbHZlQ2hhcmFjdGVycyhjaGFycykge1xuICBpZiAoY2hhcnMgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKHR5cGVvZiBjaGFycyA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNoYXJzID0gW2NoYXJzXTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBjaGFycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBjb25zdCBpdGVtID0gY2hhcnNbaV07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UgbGVuZ3RoLCBleHBlY3RpbmcgMiBnb3QgJHtpdGVtLmxlbmd0aH0uYCk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVswXS5sZW5ndGggPT09IDAgfHwgaXRlbVsxXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciBkZWxpbWl0ZXIuXCIpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3RhcnRDb2RlID0gaXRlbVswXS5jaGFyQ29kZUF0KDApO1xuICAgICAgY29uc3QgZW5kQ29kZSA9IGl0ZW1bMV0uY2hhckNvZGVBdCgwKTtcbiAgICAgIGlmIChlbmRDb2RlIDwgc3RhcnRDb2RlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UuXCIpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaTIgPSBzdGFydENvZGUsIGoyID0gZW5kQ29kZTsgaTIgPD0gajI7IGkyKyspIHtcbiAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShpMikpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucHVzaCguLi5BcnJheS5mcm9tKGl0ZW0pKTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF06IEVtcHR5IHNldCB3aGVuIHJlc29sdmluZyBjaGFyYWN0ZXJzLlwiKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgeyByZXNvbHZlQ2hhcmFjdGVycyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZUNoYXJhY3RlcnMubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi9jb2xvci9Db2xvci5tanMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnLi4vLi4vbWF0aHMvc2hhcGVzL1JlY3RhbmdsZS5tanMnO1xuaW1wb3J0IHsgQ2FudmFzUG9vbCB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvQ2FudmFzUG9vbC5tanMnO1xuaW1wb3J0IHsgSW1hZ2VTb3VyY2UgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL3NvdXJjZXMvSW1hZ2VTb3VyY2UubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNUZXh0TWV0cmljcyB9IGZyb20gJy4uL3RleHQvY2FudmFzL0NhbnZhc1RleHRNZXRyaWNzLm1qcyc7XG5pbXBvcnQgeyBmb250U3RyaW5nRnJvbVRleHRTdHlsZSB9IGZyb20gJy4uL3RleHQvY2FudmFzL3V0aWxzL2ZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlLm1qcyc7XG5pbXBvcnQgeyBnZXRDYW52YXNGaWxsU3R5bGUgfSBmcm9tICcuLi90ZXh0L2NhbnZhcy91dGlscy9nZXRDYW52YXNGaWxsU3R5bGUubWpzJztcbmltcG9ydCB7IFRleHRTdHlsZSB9IGZyb20gJy4uL3RleHQvVGV4dFN0eWxlLm1qcyc7XG5pbXBvcnQgeyBBYnN0cmFjdEJpdG1hcEZvbnQgfSBmcm9tICcuL0Fic3RyYWN0Qml0bWFwRm9udC5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZUNoYXJhY3RlcnMgfSBmcm9tICcuL3V0aWxzL3Jlc29sdmVDaGFyYWN0ZXJzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX0R5bmFtaWNCaXRtYXBGb250ID0gY2xhc3MgX0R5bmFtaWNCaXRtYXBGb250IGV4dGVuZHMgQWJzdHJhY3RCaXRtYXBGb250IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBkeW5hbWljIGJpdG1hcCBmb250LlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgLyoqXG4gICAgICogdGhpcyBpcyBhIHJlc29sdXRpb24gbW9kaWZpZXIgZm9yIHRoZSBmb250IHNpemUuLlxuICAgICAqIHRleHR1cmUgcmVzb2x1dGlvbiB3aWxsIGFsc28gYmUgdXNlZCB0byBzY2FsZSB0ZXh0dXJlIGFjY29yZGluZyB0byBpdHMgZm9udCBzaXplIGFsc29cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuICAgIC8qKiBUaGUgcGFnZXMgb2YgdGhlIGZvbnQuICovXG4gICAgdGhpcy5wYWdlcyA9IFtdO1xuICAgIHRoaXMuX3BhZGRpbmcgPSAwO1xuICAgIHRoaXMuX21lYXN1cmVDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2N1cnJlbnRDaGFycyA9IFtdO1xuICAgIHRoaXMuX2N1cnJlbnRYID0gMDtcbiAgICB0aGlzLl9jdXJyZW50WSA9IDA7XG4gICAgdGhpcy5fY3VycmVudFBhZ2VJbmRleCA9IC0xO1xuICAgIHRoaXMuX3NraXBLZXJuaW5nID0gZmFsc2U7XG4gICAgY29uc3QgZHluYW1pY09wdGlvbnMgPSB7IC4uLl9EeW5hbWljQml0bWFwRm9udC5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMuX3RleHR1cmVTaXplID0gZHluYW1pY09wdGlvbnMudGV4dHVyZVNpemU7XG4gICAgdGhpcy5fbWlwbWFwID0gZHluYW1pY09wdGlvbnMubWlwbWFwO1xuICAgIGNvbnN0IHN0eWxlID0gZHluYW1pY09wdGlvbnMuc3R5bGUuY2xvbmUoKTtcbiAgICBpZiAoZHluYW1pY09wdGlvbnMub3ZlcnJpZGVGaWxsKSB7XG4gICAgICBzdHlsZS5fZmlsbC5jb2xvciA9IDE2Nzc3MjE1O1xuICAgICAgc3R5bGUuX2ZpbGwuYWxwaGEgPSAxO1xuICAgICAgc3R5bGUuX2ZpbGwudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICBzdHlsZS5fZmlsbC5maWxsID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5hcHBseUZpbGxBc1RpbnQgPSBkeW5hbWljT3B0aW9ucy5vdmVycmlkZUZpbGw7XG4gICAgY29uc3QgcmVxdWVzdGVkRm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTtcbiAgICBzdHlsZS5mb250U2l6ZSA9IHRoaXMuYmFzZU1lYXN1cmVtZW50Rm9udFNpemU7XG4gICAgY29uc3QgZm9udCA9IGZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlKHN0eWxlKTtcbiAgICBpZiAoZHluYW1pY09wdGlvbnMub3ZlcnJpZGVTaXplKSB7XG4gICAgICBpZiAoc3R5bGUuX3N0cm9rZSkge1xuICAgICAgICBzdHlsZS5fc3Ryb2tlLndpZHRoICo9IHRoaXMuYmFzZVJlbmRlcmVkRm9udFNpemUgLyByZXF1ZXN0ZWRGb250U2l6ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuZm9udFNpemUgPSB0aGlzLmJhc2VSZW5kZXJlZEZvbnRTaXplID0gcmVxdWVzdGVkRm9udFNpemU7XG4gICAgfVxuICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgdGhpcy5fc2tpcEtlcm5pbmcgPSBkeW5hbWljT3B0aW9ucy5za2lwS2VybmluZyA/PyBmYWxzZTtcbiAgICB0aGlzLnJlc29sdXRpb24gPSBkeW5hbWljT3B0aW9ucy5yZXNvbHV0aW9uID8/IDE7XG4gICAgdGhpcy5fcGFkZGluZyA9IGR5bmFtaWNPcHRpb25zLnBhZGRpbmcgPz8gNDtcbiAgICB0aGlzLmZvbnRNZXRyaWNzID0gQ2FudmFzVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgdGhpcy5saW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCB0aGlzLmZvbnRNZXRyaWNzLmZvbnRTaXplIHx8IHN0eWxlLmZvbnRTaXplO1xuICB9XG4gIGVuc3VyZUNoYXJhY3RlcnMoY2hhcnMpIHtcbiAgICBjb25zdCBjaGFyTGlzdCA9IHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKS5maWx0ZXIoKGNoYXIpID0+ICF0aGlzLl9jdXJyZW50Q2hhcnMuaW5jbHVkZXMoY2hhcikpLmZpbHRlcigoY2hhciwgaW5kZXgsIHNlbGYpID0+IHNlbGYuaW5kZXhPZihjaGFyKSA9PT0gaW5kZXgpO1xuICAgIGlmICghY2hhckxpc3QubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX2N1cnJlbnRDaGFycyA9IFsuLi50aGlzLl9jdXJyZW50Q2hhcnMsIC4uLmNoYXJMaXN0XTtcbiAgICBsZXQgcGFnZURhdGE7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRQYWdlSW5kZXggPT09IC0xKSB7XG4gICAgICBwYWdlRGF0YSA9IHRoaXMuX25leHRQYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhZ2VEYXRhID0gdGhpcy5wYWdlc1t0aGlzLl9jdXJyZW50UGFnZUluZGV4XTtcbiAgICB9XG4gICAgbGV0IHsgY2FudmFzLCBjb250ZXh0IH0gPSBwYWdlRGF0YS5jYW52YXNBbmRDb250ZXh0O1xuICAgIGxldCB0ZXh0dXJlU291cmNlID0gcGFnZURhdGEudGV4dHVyZS5zb3VyY2U7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICBsZXQgY3VycmVudFggPSB0aGlzLl9jdXJyZW50WDtcbiAgICBsZXQgY3VycmVudFkgPSB0aGlzLl9jdXJyZW50WTtcbiAgICBjb25zdCBmb250U2NhbGUgPSB0aGlzLmJhc2VSZW5kZXJlZEZvbnRTaXplIC8gdGhpcy5iYXNlTWVhc3VyZW1lbnRGb250U2l6ZTtcbiAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5fcGFkZGluZyAqIGZvbnRTY2FsZTtcbiAgICBjb25zdCB3aWR0aFNjYWxlID0gc3R5bGUuZm9udFN0eWxlID09PSBcIml0YWxpY1wiID8gMiA6IDE7XG4gICAgbGV0IG1heENoYXJIZWlnaHQgPSAwO1xuICAgIGxldCBza2lwVGV4dHVyZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBjaGFyTGlzdFtpXTtcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBDYW52YXNUZXh0TWV0cmljcy5tZWFzdXJlVGV4dChjaGFyLCBzdHlsZSwgY2FudmFzLCBmYWxzZSk7XG4gICAgICBtZXRyaWNzLmxpbmVIZWlnaHQgPSBtZXRyaWNzLmhlaWdodDtcbiAgICAgIGNvbnN0IHdpZHRoID0gd2lkdGhTY2FsZSAqIG1ldHJpY3Mud2lkdGggKiBmb250U2NhbGU7XG4gICAgICBjb25zdCBoZWlnaHQgPSBtZXRyaWNzLmhlaWdodCAqIGZvbnRTY2FsZTtcbiAgICAgIGNvbnN0IHBhZGRlZFdpZHRoID0gd2lkdGggKyBwYWRkaW5nICogMjtcbiAgICAgIGNvbnN0IHBhZGRlZEhlaWdodCA9IGhlaWdodCArIHBhZGRpbmcgKiAyO1xuICAgICAgc2tpcFRleHR1cmUgPSBmYWxzZTtcbiAgICAgIGlmIChjaGFyICE9PSBcIlxcblwiICYmIGNoYXIgIT09IFwiXFxyXCIgJiYgY2hhciAhPT0gXCJcdFwiICYmIGNoYXIgIT09IFwiIFwiKSB7XG4gICAgICAgIHNraXBUZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgbWF4Q2hhckhlaWdodCA9IE1hdGguY2VpbChNYXRoLm1heChwYWRkZWRIZWlnaHQsIG1heENoYXJIZWlnaHQpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50WCArIHBhZGRlZFdpZHRoID4gdGhpcy5fdGV4dHVyZVNpemUpIHtcbiAgICAgICAgY3VycmVudFkgKz0gbWF4Q2hhckhlaWdodDtcbiAgICAgICAgbWF4Q2hhckhlaWdodCA9IHBhZGRlZEhlaWdodDtcbiAgICAgICAgY3VycmVudFggPSAwO1xuICAgICAgICBpZiAoY3VycmVudFkgKyBtYXhDaGFySGVpZ2h0ID4gdGhpcy5fdGV4dHVyZVNpemUpIHtcbiAgICAgICAgICB0ZXh0dXJlU291cmNlLnVwZGF0ZSgpO1xuICAgICAgICAgIGNvbnN0IHBhZ2VEYXRhMiA9IHRoaXMuX25leHRQYWdlKCk7XG4gICAgICAgICAgY2FudmFzID0gcGFnZURhdGEyLmNhbnZhc0FuZENvbnRleHQuY2FudmFzO1xuICAgICAgICAgIGNvbnRleHQgPSBwYWdlRGF0YTIuY2FudmFzQW5kQ29udGV4dC5jb250ZXh0O1xuICAgICAgICAgIHRleHR1cmVTb3VyY2UgPSBwYWdlRGF0YTIudGV4dHVyZS5zb3VyY2U7XG4gICAgICAgICAgY3VycmVudFkgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB4QWR2YW5jZSA9IHdpZHRoIC8gZm9udFNjYWxlIC0gKHN0eWxlLmRyb3BTaGFkb3c/LmRpc3RhbmNlID8/IDApIC0gKHN0eWxlLl9zdHJva2U/LndpZHRoID8/IDApO1xuICAgICAgdGhpcy5jaGFyc1tjaGFyXSA9IHtcbiAgICAgICAgaWQ6IGNoYXIuY29kZVBvaW50QXQoMCksXG4gICAgICAgIHhPZmZzZXQ6IC10aGlzLl9wYWRkaW5nLFxuICAgICAgICB5T2Zmc2V0OiAtdGhpcy5fcGFkZGluZyxcbiAgICAgICAgeEFkdmFuY2UsXG4gICAgICAgIGtlcm5pbmc6IHt9XG4gICAgICB9O1xuICAgICAgaWYgKHNraXBUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX2RyYXdHbHlwaChcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIG1ldHJpY3MsXG4gICAgICAgICAgY3VycmVudFggKyBwYWRkaW5nLFxuICAgICAgICAgIGN1cnJlbnRZICsgcGFkZGluZyxcbiAgICAgICAgICBmb250U2NhbGUsXG4gICAgICAgICAgc3R5bGVcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcHggPSB0ZXh0dXJlU291cmNlLndpZHRoICogZm9udFNjYWxlO1xuICAgICAgICBjb25zdCBweSA9IHRleHR1cmVTb3VyY2UuaGVpZ2h0ICogZm9udFNjYWxlO1xuICAgICAgICBjb25zdCBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgY3VycmVudFggLyBweCAqIHRleHR1cmVTb3VyY2Uud2lkdGgsXG4gICAgICAgICAgY3VycmVudFkgLyBweSAqIHRleHR1cmVTb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgIHBhZGRlZFdpZHRoIC8gcHggKiB0ZXh0dXJlU291cmNlLndpZHRoLFxuICAgICAgICAgIHBhZGRlZEhlaWdodCAvIHB5ICogdGV4dHVyZVNvdXJjZS5oZWlnaHRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jaGFyc1tjaGFyXS50ZXh0dXJlID0gbmV3IFRleHR1cmUoe1xuICAgICAgICAgIHNvdXJjZTogdGV4dHVyZVNvdXJjZSxcbiAgICAgICAgICBmcmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudFggKz0gTWF0aC5jZWlsKHBhZGRlZFdpZHRoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGV4dHVyZVNvdXJjZS51cGRhdGUoKTtcbiAgICB0aGlzLl9jdXJyZW50WCA9IGN1cnJlbnRYO1xuICAgIHRoaXMuX2N1cnJlbnRZID0gY3VycmVudFk7XG4gICAgdGhpcy5fc2tpcEtlcm5pbmcgJiYgdGhpcy5fYXBwbHlLZXJuaW5nKGNoYXJMaXN0LCBjb250ZXh0KTtcbiAgfVxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgOC4wLjBcbiAgICogVGhlIG1hcCBvZiBiYXNlIHBhZ2UgdGV4dHVyZXMgKGkuZS4sIHNoZWV0cyBvZiBnbHlwaHMpLlxuICAgKi9cbiAgZ2V0IHBhZ2VUZXh0dXJlcygpIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiQml0bWFwRm9udC5wYWdlVGV4dHVyZXMgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBCaXRtYXBGb250LnBhZ2VzIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLnBhZ2VzO1xuICB9XG4gIF9hcHBseUtlcm5pbmcobmV3Q2hhcnMsIGNvbnRleHQpIHtcbiAgICBjb25zdCBtZWFzdXJlQ2FjaGUgPSB0aGlzLl9tZWFzdXJlQ2FjaGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZmlyc3QgPSBuZXdDaGFyc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fY3VycmVudENoYXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IHNlY29uZCA9IHRoaXMuX2N1cnJlbnRDaGFyc1tqXTtcbiAgICAgICAgbGV0IGMxID0gbWVhc3VyZUNhY2hlW2ZpcnN0XTtcbiAgICAgICAgaWYgKCFjMSlcbiAgICAgICAgICBjMSA9IG1lYXN1cmVDYWNoZVtmaXJzdF0gPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGZpcnN0KS53aWR0aDtcbiAgICAgICAgbGV0IGMyID0gbWVhc3VyZUNhY2hlW3NlY29uZF07XG4gICAgICAgIGlmICghYzIpXG4gICAgICAgICAgYzIgPSBtZWFzdXJlQ2FjaGVbc2Vjb25kXSA9IGNvbnRleHQubWVhc3VyZVRleHQoc2Vjb25kKS53aWR0aDtcbiAgICAgICAgbGV0IHRvdGFsID0gY29udGV4dC5tZWFzdXJlVGV4dChmaXJzdCArIHNlY29uZCkud2lkdGg7XG4gICAgICAgIGxldCBhbW91bnQgPSB0b3RhbCAtIChjMSArIGMyKTtcbiAgICAgICAgaWYgKGFtb3VudCkge1xuICAgICAgICAgIHRoaXMuY2hhcnNbZmlyc3RdLmtlcm5pbmdbc2Vjb25kXSA9IGFtb3VudDtcbiAgICAgICAgfVxuICAgICAgICB0b3RhbCA9IGNvbnRleHQubWVhc3VyZVRleHQoZmlyc3QgKyBzZWNvbmQpLndpZHRoO1xuICAgICAgICBhbW91bnQgPSB0b3RhbCAtIChjMSArIGMyKTtcbiAgICAgICAgaWYgKGFtb3VudCkge1xuICAgICAgICAgIHRoaXMuY2hhcnNbc2Vjb25kXS5rZXJuaW5nW2ZpcnN0XSA9IGFtb3VudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBfbmV4dFBhZ2UoKSB7XG4gICAgdGhpcy5fY3VycmVudFBhZ2VJbmRleCsrO1xuICAgIGNvbnN0IHRleHR1cmVSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IGNhbnZhc0FuZENvbnRleHQgPSBDYW52YXNQb29sLmdldE9wdGltYWxDYW52YXNBbmRDb250ZXh0KFxuICAgICAgdGhpcy5fdGV4dHVyZVNpemUsXG4gICAgICB0aGlzLl90ZXh0dXJlU2l6ZSxcbiAgICAgIHRleHR1cmVSZXNvbHV0aW9uXG4gICAgKTtcbiAgICB0aGlzLl9zZXR1cENvbnRleHQoY2FudmFzQW5kQ29udGV4dC5jb250ZXh0LCB0aGlzLl9zdHlsZSwgdGV4dHVyZVJlc29sdXRpb24pO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0ZXh0dXJlUmVzb2x1dGlvbiAqICh0aGlzLmJhc2VSZW5kZXJlZEZvbnRTaXplIC8gdGhpcy5iYXNlTWVhc3VyZW1lbnRGb250U2l6ZSk7XG4gICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKHtcbiAgICAgIHNvdXJjZTogbmV3IEltYWdlU291cmNlKHtcbiAgICAgICAgcmVzb3VyY2U6IGNhbnZhc0FuZENvbnRleHQuY2FudmFzLFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICBhbHBoYU1vZGU6IFwicHJlbXVsdGlwbHktYWxwaGEtb24tdXBsb2FkXCIsXG4gICAgICAgIGF1dG9HZW5lcmF0ZU1pcG1hcHM6IHRoaXMuX21pcG1hcFxuICAgICAgfSlcbiAgICB9KTtcbiAgICBjb25zdCBwYWdlRGF0YSA9IHtcbiAgICAgIGNhbnZhc0FuZENvbnRleHQsXG4gICAgICB0ZXh0dXJlXG4gICAgfTtcbiAgICB0aGlzLnBhZ2VzW3RoaXMuX2N1cnJlbnRQYWdlSW5kZXhdID0gcGFnZURhdGE7XG4gICAgcmV0dXJuIHBhZ2VEYXRhO1xuICB9XG4gIC8vIGNhbnZhcyBzdHlsZSFcbiAgX3NldHVwQ29udGV4dChjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbikge1xuICAgIHN0eWxlLmZvbnRTaXplID0gdGhpcy5iYXNlUmVuZGVyZWRGb250U2l6ZTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIGNvbnRleHQuZm9udCA9IGZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlKHN0eWxlKTtcbiAgICBzdHlsZS5mb250U2l6ZSA9IHRoaXMuYmFzZU1lYXN1cmVtZW50Rm9udFNpemU7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgY29uc3Qgc3Ryb2tlID0gc3R5bGUuX3N0cm9rZTtcbiAgICBjb25zdCBzdHJva2VUaGlja25lc3MgPSBzdHJva2U/LndpZHRoID8/IDA7XG4gICAgaWYgKHN0cm9rZSkge1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VUaGlja25lc3M7XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gc3Ryb2tlLmpvaW47XG4gICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHJva2UubWl0ZXJMaW1pdDtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBnZXRDYW52YXNGaWxsU3R5bGUoc3Ryb2tlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLl9maWxsKSB7XG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdldENhbnZhc0ZpbGxTdHlsZShzdHlsZS5fZmlsbCwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICBjb25zdCBzaGFkb3dPcHRpb25zID0gc3R5bGUuZHJvcFNoYWRvdztcbiAgICAgIGNvbnN0IHJnYiA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShzaGFkb3dPcHRpb25zLmNvbG9yKS50b0FycmF5KCk7XG4gICAgICBjb25zdCBkcm9wU2hhZG93Qmx1ciA9IHNoYWRvd09wdGlvbnMuYmx1ciAqIHJlc29sdXRpb247XG4gICAgICBjb25zdCBkcm9wU2hhZG93RGlzdGFuY2UgPSBzaGFkb3dPcHRpb25zLmRpc3RhbmNlICogcmVzb2x1dGlvbjtcbiAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBgcmdiYSgke3JnYlswXSAqIDI1NX0sJHtyZ2JbMV0gKiAyNTV9LCR7cmdiWzJdICogMjU1fSwke3NoYWRvd09wdGlvbnMuYWxwaGF9KWA7XG4gICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHNoYWRvd09wdGlvbnMuYW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gTWF0aC5zaW4oc2hhZG93T3B0aW9ucy5hbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcImJsYWNrXCI7XG4gICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgfVxuICB9XG4gIF9kcmF3R2x5cGgoY29udGV4dCwgbWV0cmljcywgeCwgeSwgZm9udFNjYWxlLCBzdHlsZSkge1xuICAgIGNvbnN0IGNoYXIgPSBtZXRyaWNzLnRleHQ7XG4gICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHN0cm9rZSA9IHN0eWxlLl9zdHJva2U7XG4gICAgY29uc3Qgc3Ryb2tlVGhpY2tuZXNzID0gKHN0cm9rZT8ud2lkdGggPz8gMCkgKiBmb250U2NhbGU7XG4gICAgY29uc3QgdHggPSB4ICsgc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICBjb25zdCB0eSA9IHkgLSBzdHJva2VUaGlja25lc3MgLyAyO1xuICAgIGNvbnN0IGRlc2NlbnQgPSBmb250UHJvcGVydGllcy5kZXNjZW50ICogZm9udFNjYWxlO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBmb250U2NhbGU7XG4gICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHJva2VUaGlja25lc3MpIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChjaGFyLCB0eCwgdHkgKyBsaW5lSGVpZ2h0IC0gZGVzY2VudCk7XG4gICAgfVxuICAgIGlmIChzdHlsZS5fZmlsbCkge1xuICAgICAgY29udGV4dC5maWxsVGV4dChjaGFyLCB0eCwgdHkgKyBsaW5lSGVpZ2h0IC0gZGVzY2VudCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgeyBjYW52YXNBbmRDb250ZXh0LCB0ZXh0dXJlIH0gPSB0aGlzLnBhZ2VzW2ldO1xuICAgICAgY2FudmFzQW5kQ29udGV4dC5jYW52YXMud2lkdGggPSBjYW52YXNBbmRDb250ZXh0LmNhbnZhcy53aWR0aDtcbiAgICAgIENhbnZhc1Bvb2wucmV0dXJuQ2FudmFzQW5kQ29udGV4dChjYW52YXNBbmRDb250ZXh0KTtcbiAgICAgIHRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5wYWdlcyA9IG51bGw7XG4gIH1cbn07XG5fRHluYW1pY0JpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIHRleHR1cmVTaXplOiA1MTIsXG4gIHN0eWxlOiBuZXcgVGV4dFN0eWxlKCksXG4gIG1pcG1hcDogdHJ1ZVxufTtcbmxldCBEeW5hbWljQml0bWFwRm9udCA9IF9EeW5hbWljQml0bWFwRm9udDtcblxuZXhwb3J0IHsgRHluYW1pY0JpdG1hcEZvbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUR5bmFtaWNCaXRtYXBGb250Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2V0Qml0bWFwVGV4dExheW91dChjaGFycywgc3R5bGUsIGZvbnQsIHRyaW1FbmQpIHtcbiAgY29uc3QgbGF5b3V0RGF0YSA9IHtcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgb2Zmc2V0WTogMCxcbiAgICBzY2FsZTogc3R5bGUuZm9udFNpemUgLyBmb250LmJhc2VNZWFzdXJlbWVudEZvbnRTaXplLFxuICAgIGxpbmVzOiBbe1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBjaGFyUG9zaXRpb25zOiBbXSxcbiAgICAgIHNwYWNlV2lkdGg6IDAsXG4gICAgICBzcGFjZXNJbmRleDogW10sXG4gICAgICBjaGFyczogW11cbiAgICB9XVxuICB9O1xuICBsYXlvdXREYXRhLm9mZnNldFkgPSBmb250LmJhc2VMaW5lT2Zmc2V0O1xuICBsZXQgY3VycmVudExpbmUgPSBsYXlvdXREYXRhLmxpbmVzWzBdO1xuICBsZXQgcHJldmlvdXNDaGFyID0gbnVsbDtcbiAgbGV0IGZpcnN0V29yZCA9IHRydWU7XG4gIGNvbnN0IGN1cnJlbnRXb3JkID0ge1xuICAgIHNwYWNlV29yZDogZmFsc2UsXG4gICAgd2lkdGg6IDAsXG4gICAgc3RhcnQ6IDAsXG4gICAgaW5kZXg6IDAsXG4gICAgLy8gdXNlIGluZGV4IHRvIG5vdCBtb2RpZnkgdGhlIGFycmF5IGFzIHdlIHVzZSBpdCBhIGxvdCFcbiAgICBwb3NpdGlvbnM6IFtdLFxuICAgIGNoYXJzOiBbXVxuICB9O1xuICBjb25zdCBuZXh0V29yZCA9ICh3b3JkKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSBjdXJyZW50TGluZS53aWR0aDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGN1cnJlbnRXb3JkLmluZGV4OyBqKyspIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gd29yZC5wb3NpdGlvbnNbal07XG4gICAgICBjdXJyZW50TGluZS5jaGFycy5wdXNoKHdvcmQuY2hhcnNbal0pO1xuICAgICAgY3VycmVudExpbmUuY2hhclBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uICsgc3RhcnQpO1xuICAgIH1cbiAgICBjdXJyZW50TGluZS53aWR0aCArPSB3b3JkLndpZHRoO1xuICAgIGZpcnN0V29yZCA9IGZhbHNlO1xuICAgIGN1cnJlbnRXb3JkLndpZHRoID0gMDtcbiAgICBjdXJyZW50V29yZC5pbmRleCA9IDA7XG4gICAgY3VycmVudFdvcmQuY2hhcnMubGVuZ3RoID0gMDtcbiAgfTtcbiAgY29uc3QgbmV4dExpbmUgPSAoKSA9PiB7XG4gICAgbGV0IGluZGV4ID0gY3VycmVudExpbmUuY2hhcnMubGVuZ3RoIC0gMTtcbiAgICBpZiAodHJpbUVuZCkge1xuICAgICAgbGV0IGxhc3RDaGFyID0gY3VycmVudExpbmUuY2hhcnNbaW5kZXhdO1xuICAgICAgd2hpbGUgKGxhc3RDaGFyID09PSBcIiBcIikge1xuICAgICAgICBjdXJyZW50TGluZS53aWR0aCAtPSBmb250LmNoYXJzW2xhc3RDaGFyXS54QWR2YW5jZTtcbiAgICAgICAgbGFzdENoYXIgPSBjdXJyZW50TGluZS5jaGFyc1stLWluZGV4XTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGF5b3V0RGF0YS53aWR0aCA9IE1hdGgubWF4KGxheW91dERhdGEud2lkdGgsIGN1cnJlbnRMaW5lLndpZHRoKTtcbiAgICBjdXJyZW50TGluZSA9IHtcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgY2hhclBvc2l0aW9uczogW10sXG4gICAgICBjaGFyczogW10sXG4gICAgICBzcGFjZVdpZHRoOiAwLFxuICAgICAgc3BhY2VzSW5kZXg6IFtdXG4gICAgfTtcbiAgICBmaXJzdFdvcmQgPSB0cnVlO1xuICAgIGxheW91dERhdGEubGluZXMucHVzaChjdXJyZW50TGluZSk7XG4gICAgbGF5b3V0RGF0YS5oZWlnaHQgKz0gZm9udC5saW5lSGVpZ2h0O1xuICB9O1xuICBjb25zdCBzY2FsZSA9IGZvbnQuYmFzZU1lYXN1cmVtZW50Rm9udFNpemUgLyBzdHlsZS5mb250U2l6ZTtcbiAgY29uc3QgYWRqdXN0ZWRMZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZyAqIHNjYWxlO1xuICBjb25zdCBhZGp1c3RlZFdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICogc2NhbGU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoICsgMTsgaSsrKSB7XG4gICAgbGV0IGNoYXI7XG4gICAgY29uc3QgaXNFbmQgPSBpID09PSBjaGFycy5sZW5ndGg7XG4gICAgaWYgKCFpc0VuZCkge1xuICAgICAgY2hhciA9IGNoYXJzW2ldO1xuICAgIH1cbiAgICBjb25zdCBjaGFyRGF0YSA9IGZvbnQuY2hhcnNbY2hhcl0gfHwgZm9udC5jaGFyc1tcIiBcIl07XG4gICAgY29uc3QgaXNTcGFjZSA9IC8oPzpcXHMpLy50ZXN0KGNoYXIpO1xuICAgIGNvbnN0IGlzV29yZEJyZWFrID0gaXNTcGFjZSB8fCBjaGFyID09PSBcIlxcclwiIHx8IGNoYXIgPT09IFwiXFxuXCIgfHwgaXNFbmQ7XG4gICAgaWYgKGlzV29yZEJyZWFrKSB7XG4gICAgICBjb25zdCBhZGRXb3JkVG9OZXh0TGluZSA9ICFmaXJzdFdvcmQgJiYgc3R5bGUud29yZFdyYXAgJiYgY3VycmVudExpbmUud2lkdGggKyBjdXJyZW50V29yZC53aWR0aCAtIGFkanVzdGVkTGV0dGVyU3BhY2luZyA+IGFkanVzdGVkV29yZFdyYXBXaWR0aDtcbiAgICAgIGlmIChhZGRXb3JkVG9OZXh0TGluZSkge1xuICAgICAgICBuZXh0TGluZSgpO1xuICAgICAgICBuZXh0V29yZChjdXJyZW50V29yZCk7XG4gICAgICAgIGlmICghaXNFbmQpIHtcbiAgICAgICAgICBjdXJyZW50TGluZS5jaGFyUG9zaXRpb25zLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRXb3JkLnN0YXJ0ID0gY3VycmVudExpbmUud2lkdGg7XG4gICAgICAgIG5leHRXb3JkKGN1cnJlbnRXb3JkKTtcbiAgICAgICAgaWYgKCFpc0VuZCkge1xuICAgICAgICAgIGN1cnJlbnRMaW5lLmNoYXJQb3NpdGlvbnMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09IFwiXFxyXCIgfHwgY2hhciA9PT0gXCJcXG5cIikge1xuICAgICAgICBpZiAoY3VycmVudExpbmUud2lkdGggIT09IDApIHtcbiAgICAgICAgICBuZXh0TGluZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc0VuZCkge1xuICAgICAgICBjb25zdCBzcGFjZVdpZHRoID0gY2hhckRhdGEueEFkdmFuY2UgKyAoY2hhckRhdGEua2VybmluZ1twcmV2aW91c0NoYXJdIHx8IDApICsgYWRqdXN0ZWRMZXR0ZXJTcGFjaW5nO1xuICAgICAgICBjdXJyZW50TGluZS53aWR0aCArPSBzcGFjZVdpZHRoO1xuICAgICAgICBjdXJyZW50TGluZS5zcGFjZVdpZHRoID0gc3BhY2VXaWR0aDtcbiAgICAgICAgY3VycmVudExpbmUuc3BhY2VzSW5kZXgucHVzaChjdXJyZW50TGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aCk7XG4gICAgICAgIGN1cnJlbnRMaW5lLmNoYXJzLnB1c2goY2hhcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGtlcm5pbmcgPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZpb3VzQ2hhcl0gfHwgMDtcbiAgICAgIGNvbnN0IG5leHRDaGFyV2lkdGggPSBjaGFyRGF0YS54QWR2YW5jZSArIGtlcm5pbmcgKyBhZGp1c3RlZExldHRlclNwYWNpbmc7XG4gICAgICBjdXJyZW50V29yZC5wb3NpdGlvbnNbY3VycmVudFdvcmQuaW5kZXgrK10gPSBjdXJyZW50V29yZC53aWR0aCArIGtlcm5pbmc7XG4gICAgICBjdXJyZW50V29yZC5jaGFycy5wdXNoKGNoYXIpO1xuICAgICAgY3VycmVudFdvcmQud2lkdGggKz0gbmV4dENoYXJXaWR0aDtcbiAgICB9XG4gICAgcHJldmlvdXNDaGFyID0gY2hhcjtcbiAgfVxuICBuZXh0TGluZSgpO1xuICBpZiAoc3R5bGUuYWxpZ24gPT09IFwiY2VudGVyXCIpIHtcbiAgICBhbGlnbkNlbnRlcihsYXlvdXREYXRhKTtcbiAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgYWxpZ25SaWdodChsYXlvdXREYXRhKTtcbiAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJqdXN0aWZ5XCIpIHtcbiAgICBhbGlnbkp1c3RpZnkobGF5b3V0RGF0YSk7XG4gIH1cbiAgcmV0dXJuIGxheW91dERhdGE7XG59XG5mdW5jdGlvbiBhbGlnbkNlbnRlcihtZWFzdXJlbWVudERhdGEpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWFzdXJlbWVudERhdGEubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaW5lID0gbWVhc3VyZW1lbnREYXRhLmxpbmVzW2ldO1xuICAgIGNvbnN0IG9mZnNldCA9IG1lYXN1cmVtZW50RGF0YS53aWR0aCAvIDIgLSBsaW5lLndpZHRoIC8gMjtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmUuY2hhclBvc2l0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgbGluZS5jaGFyUG9zaXRpb25zW2pdICs9IG9mZnNldDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFsaWduUmlnaHQobWVhc3VyZW1lbnREYXRhKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWVhc3VyZW1lbnREYXRhLmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbGluZSA9IG1lYXN1cmVtZW50RGF0YS5saW5lc1tpXTtcbiAgICBjb25zdCBvZmZzZXQgPSBtZWFzdXJlbWVudERhdGEud2lkdGggLSBsaW5lLndpZHRoO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICBsaW5lLmNoYXJQb3NpdGlvbnNbal0gKz0gb2Zmc2V0O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYWxpZ25KdXN0aWZ5KG1lYXN1cmVtZW50RGF0YSkge1xuICBjb25zdCB3aWR0aCA9IG1lYXN1cmVtZW50RGF0YS53aWR0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWFzdXJlbWVudERhdGEubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaW5lID0gbWVhc3VyZW1lbnREYXRhLmxpbmVzW2ldO1xuICAgIGxldCBpbmR5ID0gMDtcbiAgICBsZXQgc3BhY2VJbmRleCA9IGxpbmUuc3BhY2VzSW5kZXhbaW5keSsrXTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBjb25zdCB0b3RhbFNwYWNlcyA9IGxpbmUuc3BhY2VzSW5kZXgubGVuZ3RoO1xuICAgIGNvbnN0IG5ld1NwYWNlV2lkdGggPSAod2lkdGggLSBsaW5lLndpZHRoKSAvIHRvdGFsU3BhY2VzO1xuICAgIGNvbnN0IHNwYWNlV2lkdGggPSBuZXdTcGFjZVdpZHRoO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoaiA9PT0gc3BhY2VJbmRleCkge1xuICAgICAgICBzcGFjZUluZGV4ID0gbGluZS5zcGFjZXNJbmRleFtpbmR5KytdO1xuICAgICAgICBvZmZzZXQgKz0gc3BhY2VXaWR0aDtcbiAgICAgIH1cbiAgICAgIGxpbmUuY2hhclBvc2l0aW9uc1tqXSArPSBvZmZzZXQ7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IGdldEJpdG1hcFRleHRMYXlvdXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEJpdG1hcFRleHRMYXlvdXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ2FjaGUgfSBmcm9tICcuLi8uLi9hc3NldHMvY2FjaGUvQ2FjaGUubWpzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBUZXh0U3R5bGUgfSBmcm9tICcuLi90ZXh0L1RleHRTdHlsZS5tanMnO1xuaW1wb3J0IHsgRHluYW1pY0JpdG1hcEZvbnQgfSBmcm9tICcuL0R5bmFtaWNCaXRtYXBGb250Lm1qcyc7XG5pbXBvcnQgeyBnZXRCaXRtYXBUZXh0TGF5b3V0IH0gZnJvbSAnLi91dGlscy9nZXRCaXRtYXBUZXh0TGF5b3V0Lm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlQ2hhcmFjdGVycyB9IGZyb20gJy4vdXRpbHMvcmVzb2x2ZUNoYXJhY3RlcnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgZm9udENvdW50ID0gMDtcbmNsYXNzIEJpdG1hcEZvbnRNYW5hZ2VyQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIHRoZSBsZXR0ZXJzIGluIHRoZSBhbHBoYWJldCAoYm90aCBsb3dlci0gYW5kIHVwcGVyLSBjYXNlKS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbSgnRXhhbXBsZUZvbnQnLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5BTFBIQSB9KVxuICAgICAqL1xuICAgIHRoaXMuQUxQSEEgPSBbW1wiYVwiLCBcInpcIl0sIFtcIkFcIiwgXCJaXCJdLCBcIiBcIl07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGluY2x1ZGVzIGFsbCBkZWNpbWFsIGRpZ2l0cyAoZnJvbSAwIHRvIDkpLlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXVtdfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogQml0bWFwRm9udC5mcm9tKCdFeGFtcGxlRm9udCcsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250Lk5VTUVSSUMgfSlcbiAgICAgKi9cbiAgICB0aGlzLk5VTUVSSUMgPSBbW1wiMFwiLCBcIjlcIl1dO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpcyB0aGUgdW5pb24gb2YgYEJpdG1hcEZvbnQuQUxQSEFgIGFuZCBgQml0bWFwRm9udC5OVU1FUklDYC5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW11bXX1cbiAgICAgKi9cbiAgICB0aGlzLkFMUEhBTlVNRVJJQyA9IFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFtcIjBcIiwgXCI5XCJdLCBcIiBcIl07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGNvbnNpc3RzIG9mIGFsbCB0aGUgQVNDSUkgdGFibGUuXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cuYXNjaWl0YWJsZS5jb20vXG4gICAgICovXG4gICAgdGhpcy5BU0NJSSA9IFtbXCIgXCIsIFwiflwiXV07XG4gICAgLyoqIERlZmF1bHQgb3B0aW9ucyBmb3IgaW5zdGFsbGluZyBhIG5ldyBCaXRtYXBGb250LiAqL1xuICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBjaGFyczogdGhpcy5BTFBIQU5VTUVSSUMsXG4gICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgcGFkZGluZzogNCxcbiAgICAgIHNraXBLZXJuaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIGZvbnQgZm9yIHRoZSBzcGVjaWZpZWQgdGV4dCBhbmQgc3R5bGUuXG4gICAqIEBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgdG8gZ2V0IHRoZSBmb250IGZvclxuICAgKiBAcGFyYW0gc3R5bGUgLSBUaGUgc3R5bGUgdG8gdXNlXG4gICAqL1xuICBnZXRGb250KHRleHQsIHN0eWxlKSB7XG4gICAgbGV0IGZvbnRGYW1pbHlLZXkgPSBgJHtzdHlsZS5mb250RmFtaWx5fS1iaXRtYXBgO1xuICAgIGxldCBvdmVycmlkZUZpbGwgPSB0cnVlO1xuICAgIGlmIChzdHlsZS5fZmlsbC5maWxsICYmICFzdHlsZS5fc3Ryb2tlKSB7XG4gICAgICBmb250RmFtaWx5S2V5ICs9IHN0eWxlLl9maWxsLmZpbGwuc3R5bGVLZXk7XG4gICAgICBvdmVycmlkZUZpbGwgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHN0eWxlLl9zdHJva2UgfHwgc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgbGV0IGtleSA9IHN0eWxlLnN0eWxlS2V5O1xuICAgICAga2V5ID0ga2V5LnN1YnN0cmluZygwLCBrZXkubGFzdEluZGV4T2YoXCItXCIpKTtcbiAgICAgIGZvbnRGYW1pbHlLZXkgPSBgJHtrZXl9LWJpdG1hcGA7XG4gICAgICBvdmVycmlkZUZpbGwgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFDYWNoZS5oYXMoZm9udEZhbWlseUtleSkpIHtcbiAgICAgIGNvbnN0IGZudCA9IG5ldyBEeW5hbWljQml0bWFwRm9udCh7XG4gICAgICAgIHN0eWxlLFxuICAgICAgICBvdmVycmlkZUZpbGwsXG4gICAgICAgIG92ZXJyaWRlU2l6ZTogdHJ1ZSxcbiAgICAgICAgLi4udGhpcy5kZWZhdWx0T3B0aW9uc1xuICAgICAgfSk7XG4gICAgICBmb250Q291bnQrKztcbiAgICAgIGlmIChmb250Q291bnQgPiA1MCkge1xuICAgICAgICB3YXJuKFwiQml0bWFwVGV4dFwiLCBgWW91IGhhdmUgZHluYW1pY2FsbHkgY3JlYXRlZCAke2ZvbnRDb3VudH0gYml0bWFwIGZvbnRzLCB0aGlzIGNhbiBiZSBpbmVmZmljaWVudC4gVHJ5IHByZSBpbnN0YWxsaW5nIHlvdXIgZm9udCBzdHlsZXMgdXNpbmcgXFxgQml0bWFwRm9udC5pbnN0YWxsKHtuYW1lOlwic3R5bGUxXCIsIHN0eWxlfSlcXGBgKTtcbiAgICAgIH1cbiAgICAgIGZudC5vbmNlKFwiZGVzdHJveVwiLCAoKSA9PiB7XG4gICAgICAgIGZvbnRDb3VudC0tO1xuICAgICAgICBDYWNoZS5yZW1vdmUoZm9udEZhbWlseUtleSk7XG4gICAgICB9KTtcbiAgICAgIENhY2hlLnNldChcbiAgICAgICAgZm9udEZhbWlseUtleSxcbiAgICAgICAgZm50XG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkeW5hbWljRm9udCA9IENhY2hlLmdldChmb250RmFtaWx5S2V5KTtcbiAgICBkeW5hbWljRm9udC5lbnN1cmVDaGFyYWN0ZXJzPy4odGV4dCk7XG4gICAgcmV0dXJuIGR5bmFtaWNGb250O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGxheW91dCBvZiBhIHRleHQgZm9yIHRoZSBzcGVjaWZpZWQgc3R5bGUuXG4gICAqIEBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgdG8gZ2V0IHRoZSBsYXlvdXQgZm9yXG4gICAqIEBwYXJhbSBzdHlsZSAtIFRoZSBzdHlsZSB0byB1c2VcbiAgICogQHBhcmFtIHRyaW1FbmQgLSBXaGV0aGVyIHRvIGlnbm9yZSB3aGl0ZXNwYWNlcyBhdCB0aGUgZW5kIG9mIGVhY2ggbGluZVxuICAgKi9cbiAgZ2V0TGF5b3V0KHRleHQsIHN0eWxlLCB0cmltRW5kID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJpdG1hcEZvbnQgPSB0aGlzLmdldEZvbnQodGV4dCwgc3R5bGUpO1xuICAgIHJldHVybiBnZXRCaXRtYXBUZXh0TGF5b3V0KFsuLi50ZXh0XSwgc3R5bGUsIGJpdG1hcEZvbnQsIHRyaW1FbmQpO1xuICB9XG4gIC8qKlxuICAgKiBNZWFzdXJlIHRoZSB0ZXh0IHVzaW5nIHRoZSBzcGVjaWZpZWQgc3R5bGUuXG4gICAqIEBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgdG8gbWVhc3VyZVxuICAgKiBAcGFyYW0gc3R5bGUgLSBUaGUgc3R5bGUgdG8gdXNlXG4gICAqIEBwYXJhbSB0cmltRW5kIC0gV2hldGhlciB0byBpZ25vcmUgd2hpdGVzcGFjZXMgYXQgdGhlIGVuZCBvZiBlYWNoIGxpbmVcbiAgICovXG4gIG1lYXN1cmVUZXh0KHRleHQsIHN0eWxlLCB0cmltRW5kID0gdHJ1ZSkge1xuICAgIHJldHVybiB0aGlzLmdldExheW91dCh0ZXh0LCBzdHlsZSwgdHJpbUVuZCk7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgaW5zdGFsbCguLi5hcmdzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmdzWzBdO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgbmFtZTogb3B0aW9ucyxcbiAgICAgICAgc3R5bGU6IGFyZ3NbMV0sXG4gICAgICAgIGNoYXJzOiBhcmdzWzJdPy5jaGFycyxcbiAgICAgICAgcmVzb2x1dGlvbjogYXJnc1syXT8ucmVzb2x1dGlvbixcbiAgICAgICAgcGFkZGluZzogYXJnc1syXT8ucGFkZGluZyxcbiAgICAgICAgc2tpcEtlcm5pbmc6IGFyZ3NbMl0/LnNraXBLZXJuaW5nXG4gICAgICB9O1xuICAgICAgZGVwcmVjYXRpb24odjhfMF8wLCBcIkJpdG1hcEZvbnRNYW5hZ2VyLmluc3RhbGwobmFtZSwgc3R5bGUsIG9wdGlvbnMpIGlzIGRlcHJlY2F0ZWQsIHVzZSBCaXRtYXBGb250TWFuYWdlci5pbnN0YWxsKHtuYW1lLCBzdHlsZSwgLi4ub3B0aW9uc30pXCIpO1xuICAgIH1cbiAgICBjb25zdCBuYW1lID0gb3B0aW9ucz8ubmFtZTtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250TWFuYWdlcl0gUHJvcGVydHkgYG5hbWVgIGlzIHJlcXVpcmVkLlwiKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IHsgLi4udGhpcy5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IHRleHRTdHlsZSA9IG9wdGlvbnMuc3R5bGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0ZXh0U3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUgPyB0ZXh0U3R5bGUgOiBuZXcgVGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgY29uc3Qgb3ZlcnJpZGVGaWxsID0gc3R5bGUuX2ZpbGwuZmlsbCAhPT0gbnVsbCAmJiBzdHlsZS5fZmlsbC5maWxsICE9PSB2b2lkIDA7XG4gICAgY29uc3QgZm9udCA9IG5ldyBEeW5hbWljQml0bWFwRm9udCh7XG4gICAgICBzdHlsZSxcbiAgICAgIG92ZXJyaWRlRmlsbCxcbiAgICAgIHNraXBLZXJuaW5nOiBvcHRpb25zLnNraXBLZXJuaW5nLFxuICAgICAgcGFkZGluZzogb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgcmVzb2x1dGlvbjogb3B0aW9ucy5yZXNvbHV0aW9uLFxuICAgICAgb3ZlcnJpZGVTaXplOiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IGZsYXRDaGFycyA9IHJlc29sdmVDaGFyYWN0ZXJzKG9wdGlvbnMuY2hhcnMpO1xuICAgIGZvbnQuZW5zdXJlQ2hhcmFjdGVycyhmbGF0Q2hhcnMuam9pbihcIlwiKSk7XG4gICAgQ2FjaGUuc2V0KGAke25hbWV9LWJpdG1hcGAsIGZvbnQpO1xuICAgIGZvbnQub25jZShcImRlc3Ryb3lcIiwgKCkgPT4gQ2FjaGUucmVtb3ZlKGAke25hbWV9LWJpdG1hcGApKTtcbiAgICByZXR1cm4gZm9udDtcbiAgfVxuICAvKipcbiAgICogVW5pbnN0YWxscyBhIGJpdG1hcCBmb250IGZyb20gdGhlIGNhY2hlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBiaXRtYXAgZm9udCB0byB1bmluc3RhbGwuXG4gICAqL1xuICB1bmluc3RhbGwobmFtZSkge1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7bmFtZX0tYml0bWFwYDtcbiAgICBjb25zdCBmb250ID0gQ2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICBpZiAoZm9udCkge1xuICAgICAgQ2FjaGUucmVtb3ZlKGNhY2hlS2V5KTtcbiAgICAgIGZvbnQuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxufVxuY29uc3QgQml0bWFwRm9udE1hbmFnZXIgPSBuZXcgQml0bWFwRm9udE1hbmFnZXJDbGFzcygpO1xuXG5leHBvcnQgeyBCaXRtYXBGb250TWFuYWdlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0bWFwRm9udE1hbmFnZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ2FjaGUgfSBmcm9tICcuLi8uLi9hc3NldHMvY2FjaGUvQ2FjaGUubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEJpZ1Bvb2wgfSBmcm9tICcuLi8uLi91dGlscy9wb29sL1Bvb2xHcm91cC5tanMnO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICcuLi9ncmFwaGljcy9zaGFyZWQvR3JhcGhpY3MubWpzJztcbmltcG9ydCB7IFNkZlNoYWRlciB9IGZyb20gJy4uL3RleHQvc2RmU2hhZGVyL1NkZlNoYWRlci5tanMnO1xuaW1wb3J0IHsgQml0bWFwRm9udE1hbmFnZXIgfSBmcm9tICcuL0JpdG1hcEZvbnRNYW5hZ2VyLm1qcyc7XG5pbXBvcnQgeyBnZXRCaXRtYXBUZXh0TGF5b3V0IH0gZnJvbSAnLi91dGlscy9nZXRCaXRtYXBUZXh0TGF5b3V0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQml0bWFwVGV4dFBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2dwdUJpdG1hcFRleHQgPSB7fTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kID0gdGhpcy5kZXN0cm95UmVuZGVyYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKGJpdG1hcFRleHQpIHtcbiAgICBjb25zdCBncmFwaGljc1JlbmRlcmFibGUgPSB0aGlzLl9nZXRHcHVCaXRtYXBUZXh0KGJpdG1hcFRleHQpO1xuICAgIGlmIChiaXRtYXBUZXh0Ll9kaWRUZXh0VXBkYXRlKSB7XG4gICAgICBiaXRtYXBUZXh0Ll9kaWRUZXh0VXBkYXRlID0gZmFsc2U7XG4gICAgICB0aGlzLl91cGRhdGVDb250ZXh0KGJpdG1hcFRleHQsIGdyYXBoaWNzUmVuZGVyYWJsZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5ncmFwaGljcy52YWxpZGF0ZVJlbmRlcmFibGUoZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKGJpdG1hcFRleHQsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3JhcGhpY3NSZW5kZXJhYmxlID0gdGhpcy5fZ2V0R3B1Qml0bWFwVGV4dChiaXRtYXBUZXh0KTtcbiAgICBzeW5jV2l0aFByb3h5KGJpdG1hcFRleHQsIGdyYXBoaWNzUmVuZGVyYWJsZSk7XG4gICAgaWYgKGJpdG1hcFRleHQuX2RpZFRleHRVcGRhdGUpIHtcbiAgICAgIGJpdG1hcFRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNvbnRleHQoYml0bWFwVGV4dCwgZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuZ3JhcGhpY3MuYWRkUmVuZGVyYWJsZShncmFwaGljc1JlbmRlcmFibGUsIGluc3RydWN0aW9uU2V0KTtcbiAgICBpZiAoZ3JhcGhpY3NSZW5kZXJhYmxlLmNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICB0aGlzLl91cGRhdGVEaXN0YW5jZUZpZWxkKGJpdG1hcFRleHQpO1xuICAgIH1cbiAgfVxuICBkZXN0cm95UmVuZGVyYWJsZShiaXRtYXBUZXh0KSB7XG4gICAgYml0bWFwVGV4dC5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCeVVpZChiaXRtYXBUZXh0LnVpZCk7XG4gIH1cbiAgX2Rlc3Ryb3lSZW5kZXJhYmxlQnlVaWQocmVuZGVyYWJsZVVpZCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9ncHVCaXRtYXBUZXh0W3JlbmRlcmFibGVVaWRdLmNvbnRleHQ7XG4gICAgaWYgKGNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICBCaWdQb29sLnJldHVybihjb250ZXh0LmN1c3RvbVNoYWRlcik7XG4gICAgICBjb250ZXh0LmN1c3RvbVNoYWRlciA9IG51bGw7XG4gICAgfVxuICAgIEJpZ1Bvb2wucmV0dXJuKHRoaXMuX2dwdUJpdG1hcFRleHRbcmVuZGVyYWJsZVVpZF0pO1xuICAgIHRoaXMuX2dwdUJpdG1hcFRleHRbcmVuZGVyYWJsZVVpZF0gPSBudWxsO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IGdyYXBoaWNzUmVuZGVyYWJsZSA9IHRoaXMuX2dldEdwdUJpdG1hcFRleHQoYml0bWFwVGV4dCk7XG4gICAgc3luY1dpdGhQcm94eShiaXRtYXBUZXh0LCBncmFwaGljc1JlbmRlcmFibGUpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmdyYXBoaWNzLnVwZGF0ZVJlbmRlcmFibGUoZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgICBpZiAoZ3JhcGhpY3NSZW5kZXJhYmxlLmNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICB0aGlzLl91cGRhdGVEaXN0YW5jZUZpZWxkKGJpdG1hcFRleHQpO1xuICAgIH1cbiAgfVxuICBfdXBkYXRlQ29udGV4dChiaXRtYXBUZXh0LCBwcm94eUdyYXBoaWNzKSB7XG4gICAgY29uc3QgeyBjb250ZXh0IH0gPSBwcm94eUdyYXBoaWNzO1xuICAgIGNvbnN0IGJpdG1hcEZvbnQgPSBCaXRtYXBGb250TWFuYWdlci5nZXRGb250KGJpdG1hcFRleHQudGV4dCwgYml0bWFwVGV4dC5fc3R5bGUpO1xuICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICBpZiAoYml0bWFwRm9udC5kaXN0YW5jZUZpZWxkLnR5cGUgIT09IFwibm9uZVwiKSB7XG4gICAgICBpZiAoIWNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICAgIGNvbnRleHQuY3VzdG9tU2hhZGVyID0gQmlnUG9vbC5nZXQoU2RmU2hhZGVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2hhcnMgPSBBcnJheS5mcm9tKGJpdG1hcFRleHQudGV4dCk7XG4gICAgY29uc3Qgc3R5bGUgPSBiaXRtYXBUZXh0Ll9zdHlsZTtcbiAgICBsZXQgY3VycmVudFkgPSBiaXRtYXBGb250LmJhc2VMaW5lT2Zmc2V0O1xuICAgIGNvbnN0IGJpdG1hcFRleHRMYXlvdXQgPSBnZXRCaXRtYXBUZXh0TGF5b3V0KGNoYXJzLCBzdHlsZSwgYml0bWFwRm9udCwgdHJ1ZSk7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBjb25zdCBwYWRkaW5nID0gc3R5bGUucGFkZGluZztcbiAgICBjb25zdCBzY2FsZSA9IGJpdG1hcFRleHRMYXlvdXQuc2NhbGU7XG4gICAgbGV0IHR4ID0gYml0bWFwVGV4dExheW91dC53aWR0aDtcbiAgICBsZXQgdHkgPSBiaXRtYXBUZXh0TGF5b3V0LmhlaWdodCArIGJpdG1hcFRleHRMYXlvdXQub2Zmc2V0WTtcbiAgICBpZiAoc3R5bGUuX3N0cm9rZSkge1xuICAgICAgdHggKz0gc3R5bGUuX3N0cm9rZS53aWR0aCAvIHNjYWxlO1xuICAgICAgdHkgKz0gc3R5bGUuX3N0cm9rZS53aWR0aCAvIHNjYWxlO1xuICAgIH1cbiAgICBjb250ZXh0LnRyYW5zbGF0ZSgtYml0bWFwVGV4dC5fYW5jaG9yLl94ICogdHggLSBwYWRkaW5nLCAtYml0bWFwVGV4dC5fYW5jaG9yLl95ICogdHkgLSBwYWRkaW5nKS5zY2FsZShzY2FsZSwgc2NhbGUpO1xuICAgIGNvbnN0IHRpbnQgPSBiaXRtYXBGb250LmFwcGx5RmlsbEFzVGludCA/IHN0eWxlLl9maWxsLmNvbG9yIDogMTY3NzcyMTU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaXRtYXBUZXh0TGF5b3V0LmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5lID0gYml0bWFwVGV4dExheW91dC5saW5lc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGNoYXIgPSBjaGFyc1tpbmRleCsrXTtcbiAgICAgICAgY29uc3QgY2hhckRhdGEgPSBiaXRtYXBGb250LmNoYXJzW2NoYXJdO1xuICAgICAgICBpZiAoY2hhckRhdGE/LnRleHR1cmUpIHtcbiAgICAgICAgICBjb250ZXh0LnRleHR1cmUoXG4gICAgICAgICAgICBjaGFyRGF0YS50ZXh0dXJlLFxuICAgICAgICAgICAgdGludCA/IHRpbnQgOiBcImJsYWNrXCIsXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGxpbmUuY2hhclBvc2l0aW9uc1tqXSArIGNoYXJEYXRhLnhPZmZzZXQpLFxuICAgICAgICAgICAgTWF0aC5yb3VuZChjdXJyZW50WSArIGNoYXJEYXRhLnlPZmZzZXQpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudFkgKz0gYml0bWFwRm9udC5saW5lSGVpZ2h0O1xuICAgIH1cbiAgfVxuICBfZ2V0R3B1Qml0bWFwVGV4dChiaXRtYXBUZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdUJpdG1hcFRleHRbYml0bWFwVGV4dC51aWRdIHx8IHRoaXMuaW5pdEdwdVRleHQoYml0bWFwVGV4dCk7XG4gIH1cbiAgaW5pdEdwdVRleHQoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IHByb3h5UmVuZGVyYWJsZSA9IEJpZ1Bvb2wuZ2V0KEdyYXBoaWNzKTtcbiAgICB0aGlzLl9ncHVCaXRtYXBUZXh0W2JpdG1hcFRleHQudWlkXSA9IHByb3h5UmVuZGVyYWJsZTtcbiAgICB0aGlzLl91cGRhdGVDb250ZXh0KGJpdG1hcFRleHQsIHByb3h5UmVuZGVyYWJsZSk7XG4gICAgYml0bWFwVGV4dC5vbihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICByZXR1cm4gdGhpcy5fZ3B1Qml0bWFwVGV4dFtiaXRtYXBUZXh0LnVpZF07XG4gIH1cbiAgX3VwZGF0ZURpc3RhbmNlRmllbGQoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9nZXRHcHVCaXRtYXBUZXh0KGJpdG1hcFRleHQpLmNvbnRleHQ7XG4gICAgY29uc3QgZm9udEZhbWlseSA9IGJpdG1hcFRleHQuX3N0eWxlLmZvbnRGYW1pbHk7XG4gICAgY29uc3QgZHluYW1pY0ZvbnQgPSBDYWNoZS5nZXQoYCR7Zm9udEZhbWlseX0tYml0bWFwYCk7XG4gICAgY29uc3QgeyBhLCBiLCBjLCBkIH0gPSBiaXRtYXBUZXh0Lmdyb3VwVHJhbnNmb3JtO1xuICAgIGNvbnN0IGR4ID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuICAgIGNvbnN0IGR5ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuICAgIGNvbnN0IHdvcmxkU2NhbGUgPSAoTWF0aC5hYnMoZHgpICsgTWF0aC5hYnMoZHkpKSAvIDI7XG4gICAgY29uc3QgZm9udFNjYWxlID0gZHluYW1pY0ZvbnQuYmFzZVJlbmRlcmVkRm9udFNpemUgLyBiaXRtYXBUZXh0Ll9zdHlsZS5mb250U2l6ZTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IHdvcmxkU2NhbGUgKiBkeW5hbWljRm9udC5kaXN0YW5jZUZpZWxkLnJhbmdlICogKDEgLyBmb250U2NhbGUpO1xuICAgIGNvbnRleHQuY3VzdG9tU2hhZGVyLnJlc291cmNlcy5sb2NhbFVuaWZvcm1zLnVuaWZvcm1zLnVEaXN0YW5jZSA9IGRpc3RhbmNlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCB1aWQgaW4gdGhpcy5fZ3B1Qml0bWFwVGV4dCkge1xuICAgICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCeVVpZCh1aWQpO1xuICAgIH1cbiAgICB0aGlzLl9ncHVCaXRtYXBUZXh0ID0gbnVsbDtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5CaXRtYXBUZXh0UGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYml0bWFwVGV4dFwiXG59O1xuZnVuY3Rpb24gc3luY1dpdGhQcm94eShjb250YWluZXIsIHByb3h5KSB7XG4gIHByb3h5Lmdyb3VwVHJhbnNmb3JtID0gY29udGFpbmVyLmdyb3VwVHJhbnNmb3JtO1xuICBwcm94eS5ncm91cENvbG9yQWxwaGEgPSBjb250YWluZXIuZ3JvdXBDb2xvckFscGhhO1xuICBwcm94eS5ncm91cENvbG9yID0gY29udGFpbmVyLmdyb3VwQ29sb3I7XG4gIHByb3h5Lmdyb3VwQmxlbmRNb2RlID0gY29udGFpbmVyLmdyb3VwQmxlbmRNb2RlO1xuICBwcm94eS5nbG9iYWxEaXNwbGF5U3RhdHVzID0gY29udGFpbmVyLmdsb2JhbERpc3BsYXlTdGF0dXM7XG4gIHByb3h5Lmdyb3VwVHJhbnNmb3JtID0gY29udGFpbmVyLmdyb3VwVHJhbnNmb3JtO1xuICBwcm94eS5sb2NhbERpc3BsYXlTdGF0dXMgPSBjb250YWluZXIubG9jYWxEaXNwbGF5U3RhdHVzO1xuICBwcm94eS5ncm91cEFscGhhID0gY29udGFpbmVyLmdyb3VwQWxwaGE7XG4gIHByb3h5Ll9yb3VuZFBpeGVscyA9IGNvbnRhaW5lci5fcm91bmRQaXhlbHM7XG59XG5cbmV4cG9ydCB7IEJpdG1hcFRleHRQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRtYXBUZXh0UGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBCaXRtYXBUZXh0UGlwZSB9IGZyb20gJy4vQml0bWFwVGV4dFBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChCaXRtYXBUZXh0UGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IHVwZGF0ZVF1YWRCb3VuZHMgfSBmcm9tICcuLi8uLi91dGlscy9kYXRhL3VwZGF0ZVF1YWRCb3VuZHMubWpzJztcbmltcG9ydCB7IEJpZ1Bvb2wgfSBmcm9tICcuLi8uLi91dGlscy9wb29sL1Bvb2xHcm91cC5tanMnO1xuaW1wb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH0gZnJvbSAnLi4vc3ByaXRlL0JhdGNoYWJsZVNwcml0ZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEhUTUxUZXh0UGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fZ3B1VGV4dCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQgPSB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9yZW5kZXJlci5ydW5uZXJzLnJlc29sdXRpb25DaGFuZ2UuYWRkKHRoaXMpO1xuICB9XG4gIHJlc29sdXRpb25DaGFuZ2UoKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdVRleHQpIHtcbiAgICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9ncHVUZXh0W2ldO1xuICAgICAgaWYgKCFncHVUZXh0KVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGNvbnN0IHRleHQgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZS5yZW5kZXJhYmxlO1xuICAgICAgaWYgKHRleHQuX2F1dG9SZXNvbHV0aW9uKSB7XG4gICAgICAgIHRleHQuX3Jlc29sdXRpb24gPSB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0Lm9uVmlld1VwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoaHRtbFRleHQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dChodG1sVGV4dCk7XG4gICAgY29uc3QgbmV3S2V5ID0gaHRtbFRleHQuX2dldEtleSgpO1xuICAgIGlmIChncHVUZXh0LnRleHR1cmVOZWVkc1VwbG9hZGluZykge1xuICAgICAgZ3B1VGV4dC50ZXh0dXJlTmVlZHNVcGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZ3B1VGV4dC5jdXJyZW50S2V5ICE9PSBuZXdLZXkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShodG1sVGV4dCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dChodG1sVGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKGh0bWxUZXh0Ll9kaWRUZXh0VXBkYXRlKSB7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0KGh0bWxUZXh0KTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChiYXRjaGFibGVTcHJpdGUsIGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKGh0bWxUZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQoaHRtbFRleHQpO1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IGdwdVRleHQuYmF0Y2hhYmxlU3ByaXRlO1xuICAgIGlmIChodG1sVGV4dC5fZGlkVGV4dFVwZGF0ZSkge1xuICAgICAgdGhpcy5fdXBkYXRlVGV4dChodG1sVGV4dCk7XG4gICAgfVxuICAgIGJhdGNoYWJsZVNwcml0ZS5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGJhdGNoYWJsZVNwcml0ZSk7XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUoaHRtbFRleHQpIHtcbiAgICBodG1sVGV4dC5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCeUlkKGh0bWxUZXh0LnVpZCk7XG4gIH1cbiAgX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZChodG1sVGV4dFVpZCkge1xuICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9ncHVUZXh0W2h0bWxUZXh0VWlkXTtcbiAgICB0aGlzLl9yZW5kZXJlci5odG1sVGV4dC5kZWNyZWFzZVJlZmVyZW5jZUNvdW50KGdwdVRleHQuY3VycmVudEtleSk7XG4gICAgQmlnUG9vbC5yZXR1cm4oZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGUpO1xuICAgIHRoaXMuX2dwdVRleHRbaHRtbFRleHRVaWRdID0gbnVsbDtcbiAgfVxuICBfdXBkYXRlVGV4dChodG1sVGV4dCkge1xuICAgIGNvbnN0IG5ld0tleSA9IGh0bWxUZXh0Ll9nZXRLZXkoKTtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dChodG1sVGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKGdwdVRleHQuY3VycmVudEtleSAhPT0gbmV3S2V5KSB7XG4gICAgICB0aGlzLl91cGRhdGVHcHVUZXh0KGh0bWxUZXh0KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGh0bWxUZXh0Ll9kaWRUZXh0VXBkYXRlID0gZmFsc2U7XG4gICAgY29uc3QgcGFkZGluZyA9IGh0bWxUZXh0Ll9zdHlsZS5wYWRkaW5nO1xuICAgIHVwZGF0ZVF1YWRCb3VuZHMoYmF0Y2hhYmxlU3ByaXRlLmJvdW5kcywgaHRtbFRleHQuX2FuY2hvciwgYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUsIHBhZGRpbmcpO1xuICB9XG4gIGFzeW5jIF91cGRhdGVHcHVUZXh0KGh0bWxUZXh0KSB7XG4gICAgaHRtbFRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dChodG1sVGV4dCk7XG4gICAgaWYgKGdwdVRleHQuZ2VuZXJhdGluZ1RleHR1cmUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbmV3S2V5ID0gaHRtbFRleHQuX2dldEtleSgpO1xuICAgIHRoaXMuX3JlbmRlcmVyLmh0bWxUZXh0LmRlY3JlYXNlUmVmZXJlbmNlQ291bnQoZ3B1VGV4dC5jdXJyZW50S2V5KTtcbiAgICBncHVUZXh0LmdlbmVyYXRpbmdUZXh0dXJlID0gdHJ1ZTtcbiAgICBncHVUZXh0LmN1cnJlbnRLZXkgPSBuZXdLZXk7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IGh0bWxUZXh0LnJlc29sdXRpb24gPz8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICBjb25zdCB0ZXh0dXJlID0gYXdhaXQgdGhpcy5fcmVuZGVyZXIuaHRtbFRleHQuZ2V0TWFuYWdlZFRleHR1cmUoXG4gICAgICBodG1sVGV4dC50ZXh0LFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIGh0bWxUZXh0Ll9zdHlsZSxcbiAgICAgIGh0bWxUZXh0Ll9nZXRLZXkoKVxuICAgICk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUgPSBncHVUZXh0LnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIGdwdVRleHQuZ2VuZXJhdGluZ1RleHR1cmUgPSBmYWxzZTtcbiAgICBncHVUZXh0LnRleHR1cmVOZWVkc1VwbG9hZGluZyA9IHRydWU7XG4gICAgaHRtbFRleHQub25WaWV3VXBkYXRlKCk7XG4gICAgY29uc3QgcGFkZGluZyA9IGh0bWxUZXh0Ll9zdHlsZS5wYWRkaW5nO1xuICAgIHVwZGF0ZVF1YWRCb3VuZHMoYmF0Y2hhYmxlU3ByaXRlLmJvdW5kcywgaHRtbFRleHQuX2FuY2hvciwgYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUsIHBhZGRpbmcpO1xuICB9XG4gIF9nZXRHcHVUZXh0KGh0bWxUZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdVRleHRbaHRtbFRleHQudWlkXSB8fCB0aGlzLmluaXRHcHVUZXh0KGh0bWxUZXh0KTtcbiAgfVxuICBpbml0R3B1VGV4dChodG1sVGV4dCkge1xuICAgIGNvbnN0IGdwdVRleHREYXRhID0ge1xuICAgICAgdGV4dHVyZTogVGV4dHVyZS5FTVBUWSxcbiAgICAgIGN1cnJlbnRLZXk6IFwiLS1cIixcbiAgICAgIGJhdGNoYWJsZVNwcml0ZTogQmlnUG9vbC5nZXQoQmF0Y2hhYmxlU3ByaXRlKSxcbiAgICAgIHRleHR1cmVOZWVkc1VwbG9hZGluZzogZmFsc2UsXG4gICAgICBnZW5lcmF0aW5nVGV4dHVyZTogZmFsc2VcbiAgICB9O1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IGdwdVRleHREYXRhLmJhdGNoYWJsZVNwcml0ZTtcbiAgICBiYXRjaGFibGVTcHJpdGUucmVuZGVyYWJsZSA9IGh0bWxUZXh0O1xuICAgIGJhdGNoYWJsZVNwcml0ZS50cmFuc2Zvcm0gPSBodG1sVGV4dC5ncm91cFRyYW5zZm9ybTtcbiAgICBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSA9IFRleHR1cmUuRU1QVFk7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLmJvdW5kcyA9IHsgbWluWDogMCwgbWF4WDogMSwgbWluWTogMCwgbWF4WTogMCB9O1xuICAgIGJhdGNoYWJsZVNwcml0ZS5yb3VuZFBpeGVscyA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IGh0bWxUZXh0Ll9yb3VuZFBpeGVscztcbiAgICBodG1sVGV4dC5fcmVzb2x1dGlvbiA9IGh0bWxUZXh0Ll9hdXRvUmVzb2x1dGlvbiA/IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb24gOiBodG1sVGV4dC5yZXNvbHV0aW9uO1xuICAgIHRoaXMuX2dwdVRleHRbaHRtbFRleHQudWlkXSA9IGdwdVRleHREYXRhO1xuICAgIGh0bWxUZXh0Lm9uKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICAgIHJldHVybiBncHVUZXh0RGF0YTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9ncHVUZXh0KSB7XG4gICAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJ5SWQoaSk7XG4gICAgfVxuICAgIHRoaXMuX2dwdVRleHQgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkhUTUxUZXh0UGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiaHRtbFRleHRcIlxufTtcblxuZXhwb3J0IHsgSFRNTFRleHRQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IVE1MVGV4dFBpcGUubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBuc3N2ZyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbmNvbnN0IG5zeGh0bWwgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjtcbmNsYXNzIEhUTUxUZXh0UmVuZGVyRGF0YSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3ZnUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuc3N2ZywgXCJzdmdcIik7XG4gICAgdGhpcy5mb3JlaWduT2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zc3ZnLCBcImZvcmVpZ25PYmplY3RcIik7XG4gICAgdGhpcy5kb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zeGh0bWwsIFwiZGl2XCIpO1xuICAgIHRoaXMuc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zeGh0bWwsIFwic3R5bGVcIik7XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGNvbnN0IHsgZm9yZWlnbk9iamVjdCwgc3ZnUm9vdCwgc3R5bGVFbGVtZW50LCBkb21FbGVtZW50IH0gPSB0aGlzO1xuICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgXCIxMDAwMFwiKTtcbiAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIjEwMDAwXCIpO1xuICAgIGZvcmVpZ25PYmplY3Quc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIHN2Z1Jvb3QuYXBwZW5kQ2hpbGQoZm9yZWlnbk9iamVjdCk7XG4gICAgZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuICAgIGZvcmVpZ25PYmplY3QuYXBwZW5kQ2hpbGQoZG9tRWxlbWVudCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgSFRNTFRleHRSZW5kZXJEYXRhLCBuc3N2ZywgbnN4aHRtbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SFRNTFRleHRSZW5kZXJEYXRhLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiB0ZXh0U3R5bGVUb0NTUyhzdHlsZSkge1xuICBjb25zdCBzdHJva2UgPSBzdHlsZS5fc3Ryb2tlO1xuICBjb25zdCBmaWxsID0gc3R5bGUuX2ZpbGw7XG4gIGNvbnN0IGNzc1N0eWxlU3RyaW5nID0gW1xuICAgIGBjb2xvcjogJHtDb2xvci5zaGFyZWQuc2V0VmFsdWUoZmlsbC5jb2xvcikudG9IZXgoKX1gLFxuICAgIGBmb250LXNpemU6ICR7c3R5bGUuZm9udFNpemV9cHhgLFxuICAgIGBmb250LWZhbWlseTogJHtzdHlsZS5mb250RmFtaWx5fWAsXG4gICAgYGZvbnQtd2VpZ2h0OiAke3N0eWxlLmZvbnRXZWlnaHR9YCxcbiAgICBgZm9udC1zdHlsZTogJHtzdHlsZS5mb250U3R5bGV9YCxcbiAgICBgZm9udC12YXJpYW50OiAke3N0eWxlLmZvbnRWYXJpYW50fWAsXG4gICAgYGxldHRlci1zcGFjaW5nOiAke3N0eWxlLmxldHRlclNwYWNpbmd9cHhgLFxuICAgIGB0ZXh0LWFsaWduOiAke3N0eWxlLmFsaWdufWAsXG4gICAgYHBhZGRpbmc6ICR7c3R5bGUucGFkZGluZ31weGAsXG4gICAgYHdoaXRlLXNwYWNlOiAke3N0eWxlLndoaXRlU3BhY2UgPT09IFwicHJlXCIgJiYgc3R5bGUud29yZFdyYXAgPyBcInByZS13cmFwXCIgOiBzdHlsZS53aGl0ZVNwYWNlfWAsXG4gICAgLi4uc3R5bGUubGluZUhlaWdodCA/IFtgbGluZS1oZWlnaHQ6ICR7c3R5bGUubGluZUhlaWdodH1weGBdIDogW10sXG4gICAgLi4uc3R5bGUud29yZFdyYXAgPyBbXG4gICAgICBgd29yZC13cmFwOiAke3N0eWxlLmJyZWFrV29yZHMgPyBcImJyZWFrLWFsbFwiIDogXCJicmVhay13b3JkXCJ9YCxcbiAgICAgIGBtYXgtd2lkdGg6ICR7c3R5bGUud29yZFdyYXBXaWR0aH1weGBcbiAgICBdIDogW10sXG4gICAgLi4uc3Ryb2tlID8gW3N0cm9rZVRvQ1NTKHN0cm9rZSldIDogW10sXG4gICAgLi4uc3R5bGUuZHJvcFNoYWRvdyA/IFtkcm9wU2hhZG93VG9DU1Moc3R5bGUuZHJvcFNoYWRvdyldIDogW10sXG4gICAgLi4uc3R5bGUuY3NzT3ZlcnJpZGVzXG4gIF0uam9pbihcIjtcIik7XG4gIGNvbnN0IGNzc1N0eWxlcyA9IFtgZGl2IHsgJHtjc3NTdHlsZVN0cmluZ30gfWBdO1xuICB0YWdTdHlsZVRvQ1NTKHN0eWxlLnRhZ1N0eWxlcywgY3NzU3R5bGVzKTtcbiAgcmV0dXJuIGNzc1N0eWxlcy5qb2luKFwiIFwiKTtcbn1cbmZ1bmN0aW9uIGRyb3BTaGFkb3dUb0NTUyhkcm9wU2hhZG93U3R5bGUpIHtcbiAgY29uc3QgY29sb3IgPSBDb2xvci5zaGFyZWQuc2V0VmFsdWUoZHJvcFNoYWRvd1N0eWxlLmNvbG9yKS5zZXRBbHBoYShkcm9wU2hhZG93U3R5bGUuYWxwaGEpLnRvSGV4YSgpO1xuICBjb25zdCB4ID0gTWF0aC5yb3VuZChNYXRoLmNvcyhkcm9wU2hhZG93U3R5bGUuYW5nbGUpICogZHJvcFNoYWRvd1N0eWxlLmRpc3RhbmNlKTtcbiAgY29uc3QgeSA9IE1hdGgucm91bmQoTWF0aC5zaW4oZHJvcFNoYWRvd1N0eWxlLmFuZ2xlKSAqIGRyb3BTaGFkb3dTdHlsZS5kaXN0YW5jZSk7XG4gIGNvbnN0IHBvc2l0aW9uID0gYCR7eH1weCAke3l9cHhgO1xuICBpZiAoZHJvcFNoYWRvd1N0eWxlLmJsdXIgPiAwKSB7XG4gICAgcmV0dXJuIGB0ZXh0LXNoYWRvdzogJHtwb3NpdGlvbn0gJHtkcm9wU2hhZG93U3R5bGUuYmx1cn1weCAke2NvbG9yfWA7XG4gIH1cbiAgcmV0dXJuIGB0ZXh0LXNoYWRvdzogJHtwb3NpdGlvbn0gJHtjb2xvcn1gO1xufVxuZnVuY3Rpb24gc3Ryb2tlVG9DU1Moc3Ryb2tlKSB7XG4gIHJldHVybiBbXG4gICAgYC13ZWJraXQtdGV4dC1zdHJva2Utd2lkdGg6ICR7c3Ryb2tlLndpZHRofXB4YCxcbiAgICBgLXdlYmtpdC10ZXh0LXN0cm9rZS1jb2xvcjogJHtDb2xvci5zaGFyZWQuc2V0VmFsdWUoc3Ryb2tlLmNvbG9yKS50b0hleCgpfWAsXG4gICAgYHRleHQtc3Ryb2tlLXdpZHRoOiAke3N0cm9rZS53aWR0aH1weGAsXG4gICAgYHRleHQtc3Ryb2tlLWNvbG9yOiAke0NvbG9yLnNoYXJlZC5zZXRWYWx1ZShzdHJva2UuY29sb3IpLnRvSGV4KCl9YCxcbiAgICBcInBhaW50LW9yZGVyOiBzdHJva2VcIlxuICBdLmpvaW4oXCI7XCIpO1xufVxuY29uc3QgdGVtcGxhdGVzID0ge1xuICBmb250U2l6ZTogYGZvbnQtc2l6ZToge3tWQUxVRX19cHhgLFxuICBmb250RmFtaWx5OiBgZm9udC1mYW1pbHk6IHt7VkFMVUV9fWAsXG4gIGZvbnRXZWlnaHQ6IGBmb250LXdlaWdodDoge3tWQUxVRX19YCxcbiAgZm9udFN0eWxlOiBgZm9udC1zdHlsZToge3tWQUxVRX19YCxcbiAgZm9udFZhcmlhbnQ6IGBmb250LXZhcmlhbnQ6IHt7VkFMVUV9fWAsXG4gIGxldHRlclNwYWNpbmc6IGBsZXR0ZXItc3BhY2luZzoge3tWQUxVRX19cHhgLFxuICBhbGlnbjogYHRleHQtYWxpZ246IHt7VkFMVUV9fWAsXG4gIHBhZGRpbmc6IGBwYWRkaW5nOiB7e1ZBTFVFfX1weGAsXG4gIHdoaXRlU3BhY2U6IGB3aGl0ZS1zcGFjZToge3tWQUxVRX19YCxcbiAgbGluZUhlaWdodDogYGxpbmUtaGVpZ2h0OiB7e1ZBTFVFfX1weGAsXG4gIHdvcmRXcmFwV2lkdGg6IGBtYXgtd2lkdGg6IHt7VkFMVUV9fXB4YFxufTtcbmNvbnN0IHRyYW5zZm9ybSA9IHtcbiAgZmlsbDogKHZhbHVlKSA9PiBgY29sb3I6ICR7Q29sb3Iuc2hhcmVkLnNldFZhbHVlKHZhbHVlKS50b0hleCgpfWAsXG4gIGJyZWFrV29yZHM6ICh2YWx1ZSkgPT4gYHdvcmQtd3JhcDogJHt2YWx1ZSA/IFwiYnJlYWstYWxsXCIgOiBcImJyZWFrLXdvcmRcIn1gLFxuICBzdHJva2U6IHN0cm9rZVRvQ1NTLFxuICBkcm9wU2hhZG93OiBkcm9wU2hhZG93VG9DU1Ncbn07XG5mdW5jdGlvbiB0YWdTdHlsZVRvQ1NTKHRhZ1N0eWxlcywgb3V0KSB7XG4gIGZvciAoY29uc3QgaSBpbiB0YWdTdHlsZXMpIHtcbiAgICBjb25zdCB0YWdTdHlsZSA9IHRhZ1N0eWxlc1tpXTtcbiAgICBjb25zdCBjc3NUYWdTdHlsZSA9IFtdO1xuICAgIGZvciAoY29uc3QgaiBpbiB0YWdTdHlsZSkge1xuICAgICAgaWYgKHRyYW5zZm9ybVtqXSkge1xuICAgICAgICBjc3NUYWdTdHlsZS5wdXNoKHRyYW5zZm9ybVtqXSh0YWdTdHlsZVtqXSkpO1xuICAgICAgfSBlbHNlIGlmICh0ZW1wbGF0ZXNbal0pIHtcbiAgICAgICAgY3NzVGFnU3R5bGUucHVzaCh0ZW1wbGF0ZXNbal0ucmVwbGFjZShcInt7VkFMVUV9fVwiLCB0YWdTdHlsZVtqXSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBvdXQucHVzaChgJHtpfSB7ICR7Y3NzVGFnU3R5bGUuam9pbihcIjtcIil9IH1gKTtcbiAgfVxufVxuXG5leHBvcnQgeyB0ZXh0U3R5bGVUb0NTUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dFN0eWxlVG9DU1MubWpzLm1hcFxuIiwiaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuaW1wb3J0IHsgVGV4dFN0eWxlIH0gZnJvbSAnLi4vdGV4dC9UZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlVGV4dFN0eWxlS2V5IH0gZnJvbSAnLi4vdGV4dC91dGlscy9nZW5lcmF0ZVRleHRTdHlsZUtleS5tanMnO1xuaW1wb3J0IHsgdGV4dFN0eWxlVG9DU1MgfSBmcm9tICcuL3V0aWxzL3RleHRTdHlsZVRvQ1NTLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgSFRNTFRleHRTdHlsZSBleHRlbmRzIFRleHRTdHlsZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIHRoaXMuX2Nzc092ZXJyaWRlcyA9IFtdO1xuICAgIHRoaXMuY3NzT3ZlcnJpZGVzID8/ICh0aGlzLmNzc092ZXJyaWRlcyA9IG9wdGlvbnMuY3NzT3ZlcnJpZGVzKTtcbiAgICB0aGlzLnRhZ1N0eWxlcyA9IG9wdGlvbnMudGFnU3R5bGVzID8/IHt9O1xuICB9XG4gIC8qKiBMaXN0IG9mIHN0eWxlIG92ZXJyaWRlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgSFRNTCB0ZXh0LiAqL1xuICBzZXQgY3NzT3ZlcnJpZGVzKHZhbHVlKSB7XG4gICAgdGhpcy5fY3NzT3ZlcnJpZGVzID0gdmFsdWUgaW5zdGFuY2VvZiBBcnJheSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIGdldCBjc3NPdmVycmlkZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Nzc092ZXJyaWRlcztcbiAgfVxuICBfZ2VuZXJhdGVLZXkoKSB7XG4gICAgdGhpcy5fc3R5bGVLZXkgPSBnZW5lcmF0ZVRleHRTdHlsZUtleSh0aGlzKSArIHRoaXMuX2Nzc092ZXJyaWRlcy5qb2luKFwiLVwiKTtcbiAgICByZXR1cm4gdGhpcy5fc3R5bGVLZXk7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMuX2Nzc1N0eWxlID0gbnVsbDtcbiAgICBzdXBlci51cGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBIVE1MVGV4dFN0eWxlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICogQHJldHVybnMgTmV3IGNsb25lZCBIVE1MVGV4dFN0eWxlIG9iamVjdFxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBIVE1MVGV4dFN0eWxlKHtcbiAgICAgIGFsaWduOiB0aGlzLmFsaWduLFxuICAgICAgYnJlYWtXb3JkczogdGhpcy5icmVha1dvcmRzLFxuICAgICAgZHJvcFNoYWRvdzogdGhpcy5kcm9wU2hhZG93ID8geyAuLi50aGlzLmRyb3BTaGFkb3cgfSA6IG51bGwsXG4gICAgICBmaWxsOiB0aGlzLl9maWxsLFxuICAgICAgZm9udEZhbWlseTogdGhpcy5mb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemUsXG4gICAgICBmb250U3R5bGU6IHRoaXMuZm9udFN0eWxlLFxuICAgICAgZm9udFZhcmlhbnQ6IHRoaXMuZm9udFZhcmlhbnQsXG4gICAgICBmb250V2VpZ2h0OiB0aGlzLmZvbnRXZWlnaHQsXG4gICAgICBsZXR0ZXJTcGFjaW5nOiB0aGlzLmxldHRlclNwYWNpbmcsXG4gICAgICBsaW5lSGVpZ2h0OiB0aGlzLmxpbmVIZWlnaHQsXG4gICAgICBwYWRkaW5nOiB0aGlzLnBhZGRpbmcsXG4gICAgICBzdHJva2U6IHRoaXMuX3N0cm9rZSxcbiAgICAgIHdoaXRlU3BhY2U6IHRoaXMud2hpdGVTcGFjZSxcbiAgICAgIHdvcmRXcmFwOiB0aGlzLndvcmRXcmFwLFxuICAgICAgd29yZFdyYXBXaWR0aDogdGhpcy53b3JkV3JhcFdpZHRoLFxuICAgICAgY3NzT3ZlcnJpZGVzOiB0aGlzLmNzc092ZXJyaWRlc1xuICAgIH0pO1xuICB9XG4gIGdldCBjc3NTdHlsZSgpIHtcbiAgICBpZiAoIXRoaXMuX2Nzc1N0eWxlKSB7XG4gICAgICB0aGlzLl9jc3NTdHlsZSA9IHRleHRTdHlsZVRvQ1NTKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY3NzU3R5bGU7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIHN0eWxlIG92ZXJyaWRlLCB0aGlzIGNhbiBiZSBhbnkgQ1NTIHByb3BlcnR5XG4gICAqIGl0IHdpbGwgb3ZlcnJpZGUgYW55IGJ1aWx0LWluIHN0eWxlLiBUaGlzIGlzIHRoZVxuICAgKiBwcm9wZXJ0eSBhbmQgdGhlIHZhbHVlIGFzIGEgc3RyaW5nIChlLmcuLCBgY29sb3I6IHJlZGApLlxuICAgKiBUaGlzIHdpbGwgb3ZlcnJpZGUgYW55IG90aGVyIGludGVybmFsIHN0eWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBDU1Mgc3R5bGUocykgdG8gYWRkLlxuICAgKiBAZXhhbXBsZVxuICAgKiBzdHlsZS5hZGRPdmVycmlkZSgnYmFja2dyb3VuZC1jb2xvcjogcmVkJyk7XG4gICAqL1xuICBhZGRPdmVycmlkZSguLi52YWx1ZSkge1xuICAgIGNvbnN0IHRvQWRkID0gdmFsdWUuZmlsdGVyKCh2KSA9PiAhdGhpcy5jc3NPdmVycmlkZXMuaW5jbHVkZXModikpO1xuICAgIGlmICh0b0FkZC5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmNzc092ZXJyaWRlcy5wdXNoKC4uLnRvQWRkKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYW55IG92ZXJyaWRlcyB0aGF0IG1hdGNoIHRoZSB2YWx1ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gQ1NTIHN0eWxlIHRvIHJlbW92ZS5cbiAgICogQGV4YW1wbGVcbiAgICogc3R5bGUucmVtb3ZlT3ZlcnJpZGUoJ2JhY2tncm91bmQtY29sb3I6IHJlZCcpO1xuICAgKi9cbiAgcmVtb3ZlT3ZlcnJpZGUoLi4udmFsdWUpIHtcbiAgICBjb25zdCB0b1JlbW92ZSA9IHZhbHVlLmZpbHRlcigodikgPT4gdGhpcy5jc3NPdmVycmlkZXMuaW5jbHVkZXModikpO1xuICAgIGlmICh0b1JlbW92ZS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmNzc092ZXJyaWRlcyA9IHRoaXMuY3NzT3ZlcnJpZGVzLmZpbHRlcigodikgPT4gIXRvUmVtb3ZlLmluY2x1ZGVzKHYpKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIHNldCBmaWxsKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHdhcm4oXCJbSFRNTFRleHRTdHlsZV0gb25seSBjb2xvciBmaWxsIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSFRNTFRleHRcIik7XG4gICAgfVxuICAgIHN1cGVyLmZpbGwgPSB2YWx1ZTtcbiAgfVxuICBzZXQgc3Ryb2tlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHdhcm4oXCJbSFRNTFRleHRTdHlsZV0gb25seSBjb2xvciBzdHJva2UgaXMgbm90IHN1cHBvcnRlZCBieSBIVE1MVGV4dFwiKTtcbiAgICB9XG4gICAgc3VwZXIuc3Ryb2tlID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgSFRNTFRleHRTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHRtbFRleHRTdHlsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBsb2FkRm9udEFzQmFzZTY0IH0gZnJvbSAnLi9sb2FkRm9udEFzQmFzZTY0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEZvbnRDU1Moc3R5bGUsIHVybCkge1xuICBjb25zdCBkYXRhU3JjID0gYXdhaXQgbG9hZEZvbnRBc0Jhc2U2NCh1cmwpO1xuICByZXR1cm4gYEBmb250LWZhY2Uge1xuICAgICAgICBmb250LWZhbWlseTogXCIke3N0eWxlLmZvbnRGYW1pbHl9XCI7XG4gICAgICAgIHNyYzogdXJsKCcke2RhdGFTcmN9Jyk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiAke3N0eWxlLmZvbnRXZWlnaHR9O1xuICAgICAgICBmb250LXN0eWxlOiAke3N0eWxlLmZvbnRTdHlsZX07XG4gICAgfWA7XG59XG5cbmV4cG9ydCB7IGxvYWRGb250Q1NTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkRm9udENTUy5tanMubWFwXG4iLCJpbXBvcnQgeyBET01BZGFwdGVyIH0gZnJvbSAnLi4vLi4vLi4vZW52aXJvbm1lbnQvYWRhcHRlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRGb250QXNCYXNlNjQodXJsKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgRE9NQWRhcHRlci5nZXQoKS5mZXRjaCh1cmwpO1xuICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICBjb25zdCBkYXRhU3JjID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICB9KTtcbiAgcmV0dXJuIGRhdGFTcmM7XG59XG5cbmV4cG9ydCB7IGxvYWRGb250QXNCYXNlNjQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRGb250QXNCYXNlNjQubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ2FjaGUgfSBmcm9tICcuLi8uLi8uLi9hc3NldHMvY2FjaGUvQ2FjaGUubWpzJztcbmltcG9ydCB7IGxvYWRGb250Q1NTIH0gZnJvbSAnLi9sb2FkRm9udENTUy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IEZvbnRTdHlsZVByb21pc2VDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5hc3luYyBmdW5jdGlvbiBnZXRGb250Q3NzKGZvbnRGYW1pbGllcywgc3R5bGUsIGRlZmF1bHRPcHRpb25zKSB7XG4gIGNvbnN0IGZvbnRQcm9taXNlcyA9IGZvbnRGYW1pbGllcy5maWx0ZXIoKGZvbnRGYW1pbHkpID0+IENhY2hlLmhhcyhgJHtmb250RmFtaWx5fS1hbmQtdXJsYCkpLm1hcCgoZm9udEZhbWlseSwgaSkgPT4ge1xuICAgIGlmICghRm9udFN0eWxlUHJvbWlzZUNhY2hlLmhhcyhmb250RmFtaWx5KSkge1xuICAgICAgY29uc3QgeyB1cmwgfSA9IENhY2hlLmdldChgJHtmb250RmFtaWx5fS1hbmQtdXJsYCk7XG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICBGb250U3R5bGVQcm9taXNlQ2FjaGUuc2V0KGZvbnRGYW1pbHksIGxvYWRGb250Q1NTKHtcbiAgICAgICAgICBmb250V2VpZ2h0OiBzdHlsZS5mb250V2VpZ2h0LFxuICAgICAgICAgIGZvbnRTdHlsZTogc3R5bGUuZm9udFN0eWxlLFxuICAgICAgICAgIGZvbnRGYW1pbHlcbiAgICAgICAgfSwgdXJsKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBGb250U3R5bGVQcm9taXNlQ2FjaGUuc2V0KGZvbnRGYW1pbHksIGxvYWRGb250Q1NTKHtcbiAgICAgICAgICBmb250V2VpZ2h0OiBkZWZhdWx0T3B0aW9ucy5mb250V2VpZ2h0LFxuICAgICAgICAgIGZvbnRTdHlsZTogZGVmYXVsdE9wdGlvbnMuZm9udFN0eWxlLFxuICAgICAgICAgIGZvbnRGYW1pbHlcbiAgICAgICAgfSwgdXJsKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBGb250U3R5bGVQcm9taXNlQ2FjaGUuZ2V0KGZvbnRGYW1pbHkpO1xuICB9KTtcbiAgcmV0dXJuIChhd2FpdCBQcm9taXNlLmFsbChmb250UHJvbWlzZXMpKS5qb2luKFwiXFxuXCIpO1xufVxuXG5leHBvcnQgeyBGb250U3R5bGVQcm9taXNlQ2FjaGUsIGdldEZvbnRDc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEZvbnRDc3MubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ2FudmFzVGV4dE1ldHJpY3MgfSBmcm9tICcuLi8uLi90ZXh0L2NhbnZhcy9DYW52YXNUZXh0TWV0cmljcy5tanMnO1xuaW1wb3J0IHsgSFRNTFRleHRSZW5kZXJEYXRhIH0gZnJvbSAnLi4vSFRNTFRleHRSZW5kZXJEYXRhLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IHRlbXBIVE1MVGV4dFJlbmRlckRhdGE7XG5mdW5jdGlvbiBtZWFzdXJlSHRtbFRleHQodGV4dCwgc3R5bGUsIGZvbnRTdHlsZUNTUywgaHRtbFRleHRSZW5kZXJEYXRhKSB7XG4gIGh0bWxUZXh0UmVuZGVyRGF0YSA9IGh0bWxUZXh0UmVuZGVyRGF0YSB8fCB0ZW1wSFRNTFRleHRSZW5kZXJEYXRhIHx8ICh0ZW1wSFRNTFRleHRSZW5kZXJEYXRhID0gbmV3IEhUTUxUZXh0UmVuZGVyRGF0YSgpKTtcbiAgY29uc3QgeyBkb21FbGVtZW50LCBzdHlsZUVsZW1lbnQsIHN2Z1Jvb3QgfSA9IGh0bWxUZXh0UmVuZGVyRGF0YTtcbiAgZG9tRWxlbWVudC5pbm5lckhUTUwgPSBgPHN0eWxlPiR7c3R5bGUuY3NzU3R5bGV9Ozwvc3R5bGU+PGRpdiBzdHlsZT0ncGFkZGluZzowJz4ke3RleHR9PC9kaXY+YDtcbiAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcInRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2tcIik7XG4gIGlmIChmb250U3R5bGVDU1MpIHtcbiAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBmb250U3R5bGVDU1M7XG4gIH1cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdmdSb290KTtcbiAgY29uc3QgY29udGVudEJvdW5kcyA9IGRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHN2Z1Jvb3QucmVtb3ZlKCk7XG4gIGNvbnN0IGRlc2NlbmRlclBhZGRpbmcgPSBDYW52YXNUZXh0TWV0cmljcy5tZWFzdXJlRm9udChzdHlsZS5mb250U3R5bGUpLmRlc2NlbnQ7XG4gIGNvbnN0IGRvdWJsZVBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nICogMjtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogY29udGVudEJvdW5kcy53aWR0aCAtIGRvdWJsZVBhZGRpbmcsXG4gICAgaGVpZ2h0OiBjb250ZW50Qm91bmRzLmhlaWdodCArIGRlc2NlbmRlclBhZGRpbmcgLSBkb3VibGVQYWRkaW5nXG4gIH07XG59XG5cbmV4cG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVhc3VyZUh0bWxUZXh0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgaXNTYWZhcmkgfSBmcm9tICcuLi8uLi91dGlscy9icm93c2VyL2lzU2FmYXJpLm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IGdldFBvMlRleHR1cmVGcm9tU291cmNlIH0gZnJvbSAnLi4vdGV4dC91dGlscy9nZXRQbzJUZXh0dXJlRnJvbVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgSFRNTFRleHRSZW5kZXJEYXRhIH0gZnJvbSAnLi9IVE1MVGV4dFJlbmRlckRhdGEubWpzJztcbmltcG9ydCB7IEhUTUxUZXh0U3R5bGUgfSBmcm9tICcuL0h0bWxUZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IGV4dHJhY3RGb250RmFtaWxpZXMgfSBmcm9tICcuL3V0aWxzL2V4dHJhY3RGb250RmFtaWxpZXMubWpzJztcbmltcG9ydCB7IGdldEZvbnRDc3MgfSBmcm9tICcuL3V0aWxzL2dldEZvbnRDc3MubWpzJztcbmltcG9ydCB7IGdldFNWR1VybCB9IGZyb20gJy4vdXRpbHMvZ2V0U1ZHVXJsLm1qcyc7XG5pbXBvcnQgeyBnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UgfSBmcm9tICcuL3V0aWxzL2dldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZS5tanMnO1xuaW1wb3J0IHsgbG9hZFNWR0ltYWdlIH0gZnJvbSAnLi91dGlscy9sb2FkU1ZHSW1hZ2UubWpzJztcbmltcG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9IGZyb20gJy4vdXRpbHMvbWVhc3VyZUh0bWxUZXh0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgSFRNTFRleHRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzID0ge307XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jcmVhdGVDYW52YXMgPSByZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR1BVO1xuICB9XG4gIGdldFRleHR1cmUob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9idWlsZFRleHR1cmVQcm9taXNlKFxuICAgICAgb3B0aW9ucy50ZXh0LFxuICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uLFxuICAgICAgb3B0aW9ucy5zdHlsZVxuICAgICk7XG4gIH1cbiAgZ2V0TWFuYWdlZFRleHR1cmUodGV4dCwgcmVzb2x1dGlvbiwgc3R5bGUsIHRleHRLZXkpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0pIHtcbiAgICAgIHRoaXMuX2luY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSk7XG4gICAgICByZXR1cm4gdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0ucHJvbWlzZTtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuX2J1aWxkVGV4dHVyZVByb21pc2UodGV4dCwgcmVzb2x1dGlvbiwgc3R5bGUpLnRoZW4oKHRleHR1cmUpID0+IHtcbiAgICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfSk7XG4gICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0gPSB7XG4gICAgICB0ZXh0dXJlOiBudWxsLFxuICAgICAgcHJvbWlzZSxcbiAgICAgIHVzYWdlQ291bnQ6IDFcbiAgICB9O1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG4gIGFzeW5jIF9idWlsZFRleHR1cmVQcm9taXNlKHRleHQsIHJlc29sdXRpb24sIHN0eWxlKSB7XG4gICAgY29uc3QgaHRtbFRleHREYXRhID0gQmlnUG9vbC5nZXQoSFRNTFRleHRSZW5kZXJEYXRhKTtcbiAgICBjb25zdCBmb250RmFtaWxpZXMgPSBleHRyYWN0Rm9udEZhbWlsaWVzKHRleHQsIHN0eWxlKTtcbiAgICBjb25zdCBmb250Q1NTID0gYXdhaXQgZ2V0Rm9udENzcyhcbiAgICAgIGZvbnRGYW1pbGllcyxcbiAgICAgIHN0eWxlLFxuICAgICAgSFRNTFRleHRTdHlsZS5kZWZhdWx0VGV4dFN0eWxlXG4gICAgKTtcbiAgICBjb25zdCBtZWFzdXJlZCA9IG1lYXN1cmVIdG1sVGV4dCh0ZXh0LCBzdHlsZSwgZm9udENTUywgaHRtbFRleHREYXRhKTtcbiAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChNYXRoLmNlaWwoTWF0aC5tYXgoMSwgbWVhc3VyZWQud2lkdGgpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC5oZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaW1hZ2UgPSBodG1sVGV4dERhdGEuaW1hZ2U7XG4gICAgY29uc3QgdXZTYWZlT2Zmc2V0ID0gMjtcbiAgICBpbWFnZS53aWR0aCA9ICh3aWR0aCB8IDApICsgdXZTYWZlT2Zmc2V0O1xuICAgIGltYWdlLmhlaWdodCA9IChoZWlnaHQgfCAwKSArIHV2U2FmZU9mZnNldDtcbiAgICBjb25zdCBzdmdVUkwgPSBnZXRTVkdVcmwodGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIGZvbnRDU1MsIGh0bWxUZXh0RGF0YSk7XG4gICAgYXdhaXQgbG9hZFNWR0ltYWdlKGltYWdlLCBzdmdVUkwsIGlzU2FmYXJpKCkgJiYgZm9udEZhbWlsaWVzLmxlbmd0aCA+IDApO1xuICAgIGxldCByZXNvdXJjZSA9IGltYWdlO1xuICAgIGlmICh0aGlzLl9jcmVhdGVDYW52YXMpIHtcbiAgICAgIHJlc291cmNlID0gZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlKGltYWdlLCByZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgY29uc3QgdGV4dHVyZSA9IGdldFBvMlRleHR1cmVGcm9tU291cmNlKFxuICAgICAgcmVzb3VyY2UsXG4gICAgICBpbWFnZS53aWR0aCAtIHV2U2FmZU9mZnNldCxcbiAgICAgIGltYWdlLmhlaWdodCAtIHV2U2FmZU9mZnNldCxcbiAgICAgIHJlc29sdXRpb25cbiAgICApO1xuICAgIGlmICh0aGlzLl9jcmVhdGVDYW52YXMpIHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLnRleHR1cmUuaW5pdFNvdXJjZSh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgfVxuICAgIEJpZ1Bvb2wucmV0dXJuKGh0bWxUZXh0RGF0YSk7XG4gICAgcmV0dXJuIHRleHR1cmU7XG4gIH1cbiAgX2luY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSkge1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnVzYWdlQ291bnQrKztcbiAgfVxuICBkZWNyZWFzZVJlZmVyZW5jZUNvdW50KHRleHRLZXkpIHtcbiAgICBjb25zdCBhY3RpdmVUZXh0dXJlID0gdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV07XG4gICAgaWYgKCFhY3RpdmVUZXh0dXJlKVxuICAgICAgcmV0dXJuO1xuICAgIGFjdGl2ZVRleHR1cmUudXNhZ2VDb3VudC0tO1xuICAgIGlmIChhY3RpdmVUZXh0dXJlLnVzYWdlQ291bnQgPT09IDApIHtcbiAgICAgIGlmIChhY3RpdmVUZXh0dXJlLnRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fY2xlYW5VcChhY3RpdmVUZXh0dXJlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZVRleHR1cmUucHJvbWlzZS50aGVuKCh0ZXh0dXJlKSA9PiB7XG4gICAgICAgICAgYWN0aXZlVGV4dHVyZS50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgICB0aGlzLl9jbGVhblVwKGFjdGl2ZVRleHR1cmUpO1xuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgd2FybihcIkhUTUxUZXh0U3lzdGVtOiBGYWlsZWQgdG8gY2xlYW4gdGV4dHVyZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XSA9IG51bGw7XG4gICAgfVxuICB9XG4gIF9jbGVhblVwKGFjdGl2ZVRleHR1cmUpIHtcbiAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKGFjdGl2ZVRleHR1cmUudGV4dHVyZSk7XG4gICAgYWN0aXZlVGV4dHVyZS50ZXh0dXJlLnNvdXJjZS5yZXNvdXJjZSA9IG51bGw7XG4gICAgYWN0aXZlVGV4dHVyZS50ZXh0dXJlLnNvdXJjZS51cGxvYWRNZXRob2RJZCA9IFwidW5rbm93blwiO1xuICB9XG4gIGdldFJlZmVyZW5jZUNvdW50KHRleHRLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0udXNhZ2VDb3VudDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkhUTUxUZXh0U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJodG1sVGV4dFwiXG59O1xuSFRNTFRleHRTeXN0ZW0uZGVmYXVsdEZvbnRPcHRpb25zID0ge1xuICBmb250RmFtaWx5OiBcIkFyaWFsXCIsXG4gIGZvbnRTdHlsZTogXCJub3JtYWxcIixcbiAgZm9udFdlaWdodDogXCJub3JtYWxcIlxufTtcblxuZXhwb3J0IHsgSFRNTFRleHRTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhUTUxUZXh0U3lzdGVtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZXh0cmFjdEZvbnRGYW1pbGllcyh0ZXh0LCBzdHlsZSkge1xuICBjb25zdCBmb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseTtcbiAgY29uc3QgZm9udEZhbWlsaWVzID0gW107XG4gIGNvbnN0IGRlZHVwZSA9IHt9O1xuICBjb25zdCByZWdleCA9IC9mb250LWZhbWlseTooW147XCJcXHNdKykvZztcbiAgY29uc3QgbWF0Y2hlcyA9IHRleHQubWF0Y2gocmVnZXgpO1xuICBmdW5jdGlvbiBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHkyKSB7XG4gICAgaWYgKCFkZWR1cGVbZm9udEZhbWlseTJdKSB7XG4gICAgICBmb250RmFtaWxpZXMucHVzaChmb250RmFtaWx5Mik7XG4gICAgICBkZWR1cGVbZm9udEZhbWlseTJdID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoZm9udEZhbWlseSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvbnRGYW1pbHkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZEZvbnRGYW1pbHkoZm9udEZhbWlseVtpXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFkZEZvbnRGYW1pbHkoZm9udEZhbWlseSk7XG4gIH1cbiAgaWYgKG1hdGNoZXMpIHtcbiAgICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgICBjb25zdCBmb250RmFtaWx5MiA9IG1hdGNoLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG4gICAgICBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHkyKTtcbiAgICB9KTtcbiAgfVxuICBmb3IgKGNvbnN0IGkgaW4gc3R5bGUudGFnU3R5bGVzKSB7XG4gICAgY29uc3QgZm9udEZhbWlseTIgPSBzdHlsZS50YWdTdHlsZXNbaV0uZm9udEZhbWlseTtcbiAgICBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHkyKTtcbiAgfVxuICByZXR1cm4gZm9udEZhbWlsaWVzO1xufVxuXG5leHBvcnQgeyBleHRyYWN0Rm9udEZhbWlsaWVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRyYWN0Rm9udEZhbWlsaWVzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2V0U1ZHVXJsKHRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBmb250Q1NTLCBodG1sVGV4dERhdGEpIHtcbiAgY29uc3QgeyBkb21FbGVtZW50LCBzdHlsZUVsZW1lbnQsIHN2Z1Jvb3QgfSA9IGh0bWxUZXh0RGF0YTtcbiAgZG9tRWxlbWVudC5pbm5lckhUTUwgPSBgPHN0eWxlPiR7c3R5bGUuY3NzU3R5bGV9PC9zdHlsZT48ZGl2IHN0eWxlPSdwYWRkaW5nOjA7Jz4ke3RleHR9PC9kaXY+YDtcbiAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBgdHJhbnNmb3JtOiBzY2FsZSgke3Jlc29sdXRpb259KTt0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsgZGlzcGxheTogaW5saW5lLWJsb2NrYCk7XG4gIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IGZvbnRDU1M7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gaHRtbFRleHREYXRhLmltYWdlO1xuICBzdmdSb290LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHdpZHRoLnRvU3RyaW5nKCkpO1xuICBzdmdSb290LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBoZWlnaHQudG9TdHJpbmcoKSk7XG4gIHJldHVybiBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2Z1Jvb3QpO1xufVxuXG5leHBvcnQgeyBnZXRTVkdVcmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFNWR1VybC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGxvYWRTVkdJbWFnZShpbWFnZSwgdXJsLCBkZWxheSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICBpZiAoZGVsYXkpIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlMikgPT4gc2V0VGltZW91dChyZXNvbHZlMiwgMTAwKSk7XG4gICAgfVxuICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IGBkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGY4LCR7ZW5jb2RlVVJJQ29tcG9uZW50KHVybCl9YDtcbiAgICBpbWFnZS5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XG4gIH0pO1xufVxuXG5leHBvcnQgeyBsb2FkU1ZHSW1hZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRTVkdJbWFnZS5tanMubWFwXG4iLCJpbXBvcnQgeyBET01BZGFwdGVyIH0gZnJvbSAnLi4vLi4vZW52aXJvbm1lbnQvYWRhcHRlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICBjb25zdCB7IHVzZXJBZ2VudCB9ID0gRE9NQWRhcHRlci5nZXQoKS5nZXROYXZpZ2F0b3IoKTtcbiAgcmV0dXJuIC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QodXNlckFnZW50KTtcbn1cblxuZXhwb3J0IHsgaXNTYWZhcmkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2FmYXJpLm1qcy5tYXBcbiIsImltcG9ydCB7IENhbnZhc1Bvb2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL0NhbnZhc1Bvb2wubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UoaW1hZ2UsIHJlc29sdXRpb24pIHtcbiAgY29uc3QgY2FudmFzQW5kQ29udGV4dCA9IENhbnZhc1Bvb2wuZ2V0T3B0aW1hbENhbnZhc0FuZENvbnRleHQoXG4gICAgaW1hZ2Uud2lkdGgsXG4gICAgaW1hZ2UuaGVpZ2h0LFxuICAgIHJlc29sdXRpb25cbiAgKTtcbiAgY29uc3QgeyBjb250ZXh0IH0gPSBjYW52YXNBbmRDb250ZXh0O1xuICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcbiAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICBDYW52YXNQb29sLnJldHVybkNhbnZhc0FuZENvbnRleHQoY2FudmFzQW5kQ29udGV4dCk7XG4gIHJldHVybiBjYW52YXNBbmRDb250ZXh0LmNhbnZhcztcbn1cblxuZXhwb3J0IHsgZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgSFRNTFRleHRQaXBlIH0gZnJvbSAnLi9IVE1MVGV4dFBpcGUubWpzJztcbmltcG9ydCB7IEhUTUxUZXh0U3lzdGVtIH0gZnJvbSAnLi9IVE1MVGV4dFN5c3RlbS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKEhUTUxUZXh0U3lzdGVtKTtcbmV4dGVuc2lvbnMuYWRkKEhUTUxUZXh0UGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uL2NvbG9yL0NvbG9yLm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgdjhfMF8wIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuaW1wb3J0IHsgRmlsbEdyYWRpZW50IH0gZnJvbSAnLi4vZ3JhcGhpY3Mvc2hhcmVkL2ZpbGwvRmlsbEdyYWRpZW50Lm1qcyc7XG5pbXBvcnQgeyBGaWxsUGF0dGVybiB9IGZyb20gJy4uL2dyYXBoaWNzL3NoYXJlZC9maWxsL0ZpbGxQYXR0ZXJuLm1qcyc7XG5pbXBvcnQgeyBHcmFwaGljc0NvbnRleHQgfSBmcm9tICcuLi9ncmFwaGljcy9zaGFyZWQvR3JhcGhpY3NDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyB0b0ZpbGxTdHlsZSwgdG9TdHJva2VTdHlsZSB9IGZyb20gJy4uL2dyYXBoaWNzL3NoYXJlZC91dGlscy9jb252ZXJ0RmlsbElucHV0VG9GaWxsU3R5bGUubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlVGV4dFN0eWxlS2V5IH0gZnJvbSAnLi91dGlscy9nZW5lcmF0ZVRleHRTdHlsZUtleS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9UZXh0U3R5bGUgPSBjbGFzcyBfVGV4dFN0eWxlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Ioc3R5bGUgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgY29udmVydFY3VG92OFN0eWxlKHN0eWxlKTtcbiAgICBjb25zdCBmdWxsU3R5bGUgPSB7IC4uLl9UZXh0U3R5bGUuZGVmYXVsdFRleHRTdHlsZSwgLi4uc3R5bGUgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmdWxsU3R5bGUpIHtcbiAgICAgIGNvbnN0IHRoaXNLZXkgPSBrZXk7XG4gICAgICB0aGlzW3RoaXNLZXldID0gZnVsbFN0eWxlW2tleV07XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQsIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0LlxuICAgKiBAbWVtYmVyIHsnbGVmdCd8J2NlbnRlcid8J3JpZ2h0J3wnanVzdGlmeSd9XG4gICAqL1xuICBnZXQgYWxpZ24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICB9XG4gIHNldCBhbGlnbih2YWx1ZSkge1xuICAgIHRoaXMuX2FsaWduID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWUuICovXG4gIGdldCBicmVha1dvcmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICB9XG4gIHNldCBicmVha1dvcmRzKHZhbHVlKSB7XG4gICAgdGhpcy5fYnJlYWtXb3JkcyA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dC4gKi9cbiAgZ2V0IGRyb3BTaGFkb3coKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3c7XG4gIH1cbiAgc2V0IGRyb3BTaGFkb3codmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93ID0gdGhpcy5fY3JlYXRlUHJveHkoeyAuLi5fVGV4dFN0eWxlLmRlZmF1bHREcm9wU2hhZG93LCAuLi52YWx1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IHZhbHVlID8gdGhpcy5fY3JlYXRlUHJveHkoeyAuLi5fVGV4dFN0eWxlLmRlZmF1bHREcm9wU2hhZG93IH0pIDogbnVsbDtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogVGhlIGZvbnQgZmFtaWx5LCBjYW4gYmUgYSBzaW5nbGUgZm9udCBuYW1lLCBvciBhIGxpc3Qgb2YgbmFtZXMgd2hlcmUgdGhlIGZpcnN0IGlzIHRoZSBwcmVmZXJyZWQgZm9udC4gKi9cbiAgZ2V0IGZvbnRGYW1pbHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG4gIH1cbiAgc2V0IGZvbnRGYW1pbHkodmFsdWUpIHtcbiAgICB0aGlzLl9mb250RmFtaWx5ID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZywgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpICovXG4gIGdldCBmb250U2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gIH1cbiAgc2V0IGZvbnRTaXplKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5fZm9udFNpemUgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9mb250U2l6ZSA9IHZhbHVlO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgZm9udCBzdHlsZS5cbiAgICogQG1lbWJlciB7J25vcm1hbCd8J2l0YWxpYyd8J29ibGlxdWUnfVxuICAgKi9cbiAgZ2V0IGZvbnRTdHlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICB9XG4gIHNldCBmb250U3R5bGUodmFsdWUpIHtcbiAgICB0aGlzLl9mb250U3R5bGUgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgZm9udCB2YXJpYW50LlxuICAgKiBAbWVtYmVyIHsnbm9ybWFsJ3wnc21hbGwtY2Fwcyd9XG4gICAqL1xuICBnZXQgZm9udFZhcmlhbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICB9XG4gIHNldCBmb250VmFyaWFudCh2YWx1ZSkge1xuICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGZvbnQgd2VpZ2h0LlxuICAgKiBAbWVtYmVyIHsnbm9ybWFsJ3wnYm9sZCd8J2JvbGRlcid8J2xpZ2h0ZXInfCcxMDAnfCcyMDAnfCczMDAnfCc0MDAnfCc1MDAnfCc2MDAnfCc3MDAnfCc4MDAnfCc5MDAnfVxuICAgKi9cbiAgZ2V0IGZvbnRXZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG4gIH1cbiAgc2V0IGZvbnRXZWlnaHQodmFsdWUpIHtcbiAgICB0aGlzLl9mb250V2VpZ2h0ID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogVGhlIHNwYWNlIGJldHdlZW4gbGluZXMuICovXG4gIGdldCBsZWFkaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xuICB9XG4gIHNldCBsZWFkaW5nKHZhbHVlKSB7XG4gICAgdGhpcy5fbGVhZGluZyA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMC4gKi9cbiAgZ2V0IGxldHRlclNwYWNpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gIH1cbiAgc2V0IGxldHRlclNwYWNpbmcodmFsdWUpIHtcbiAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlcy4gKi9cbiAgZ2V0IGxpbmVIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gIH1cbiAgc2V0IGxpbmVIZWlnaHQodmFsdWUpIHtcbiAgICB0aGlzLl9saW5lSGVpZ2h0ID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmdcbiAgICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgKi9cbiAgZ2V0IHBhZGRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhZGRpbmc7XG4gIH1cbiAgc2V0IHBhZGRpbmcodmFsdWUpIHtcbiAgICB0aGlzLl9wYWRkaW5nID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzLiBUaGlzIGlzIGFuIGV4cGVuc2l2ZSBvcGVyYXRpb24gc28gb25seSB1c2UgdGhpcyBpZiB5b3UgaGF2ZSB0byEgKi9cbiAgZ2V0IHRyaW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gIH1cbiAgc2V0IHRyaW0odmFsdWUpIHtcbiAgICB0aGlzLl90cmltID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAqIEBtZW1iZXIgeydhbHBoYWJldGljJ3wndG9wJ3wnaGFuZ2luZyd8J21pZGRsZSd8J2lkZW9ncmFwaGljJ3wnYm90dG9tJ31cbiAgICovXG4gIGdldCB0ZXh0QmFzZWxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgfVxuICBzZXQgdGV4dEJhc2VsaW5lKHZhbHVlKSB7XG4gICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogSG93IG5ld2xpbmVzIGFuZCBzcGFjZXMgc2hvdWxkIGJlIGhhbmRsZWQuXG4gICAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gICAqXG4gICAqICB2YWx1ZSAgICAgICB8IE5ldyBsaW5lcyAgICAgfCAgIFNwYWNlc1xuICAgKiAgLS0tICAgICAgICAgfCAtLS0gICAgICAgICAgIHwgICAtLS1cbiAgICogJ25vcm1hbCcgICAgIHwgQ29sbGFwc2UgICAgICB8ICAgQ29sbGFwc2VcbiAgICogJ3ByZScgICAgICAgIHwgUHJlc2VydmUgICAgICB8ICAgUHJlc2VydmVcbiAgICogJ3ByZS1saW5lJyAgIHwgUHJlc2VydmUgICAgICB8ICAgQ29sbGFwc2VcbiAgICogQG1lbWJlciB7J25vcm1hbCd8J3ByZSd8J3ByZS1saW5lJ31cbiAgICovXG4gIGdldCB3aGl0ZVNwYWNlKCkge1xuICAgIHJldHVybiB0aGlzLl93aGl0ZVNwYWNlO1xuICB9XG4gIHNldCB3aGl0ZVNwYWNlKHZhbHVlKSB7XG4gICAgdGhpcy5fd2hpdGVTcGFjZSA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWQuICovXG4gIGdldCB3b3JkV3JhcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG4gIH1cbiAgc2V0IHdvcmRXcmFwKHZhbHVlKSB7XG4gICAgdGhpcy5fd29yZFdyYXAgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlLiAqL1xuICBnZXQgd29yZFdyYXBXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgfVxuICBzZXQgd29yZFdyYXBXaWR0aCh2YWx1ZSkge1xuICAgIHRoaXMuX3dvcmRXcmFwV2lkdGggPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBBIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcuLCAncmVkJywgJyMwMEZGMDAnLiAqL1xuICBnZXQgZmlsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxGaWxsO1xuICB9XG4gIHNldCBmaWxsKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLl9vcmlnaW5hbEZpbGwpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fb3JpZ2luYWxGaWxsID0gdmFsdWU7XG4gICAgaWYgKHRoaXMuX2lzRmlsbFN0eWxlKHZhbHVlKSkge1xuICAgICAgdGhpcy5fb3JpZ2luYWxGaWxsID0gdGhpcy5fY3JlYXRlUHJveHkoeyAuLi5HcmFwaGljc0NvbnRleHQuZGVmYXVsdEZpbGxTdHlsZSwgLi4udmFsdWUgfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9maWxsID0gdG9GaWxsU3R5bGUoXG4gICAgICAgICAgeyAuLi50aGlzLl9vcmlnaW5hbEZpbGwgfSxcbiAgICAgICAgICBHcmFwaGljc0NvbnRleHQuZGVmYXVsdEZpbGxTdHlsZVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX2ZpbGwgPSB0b0ZpbGxTdHlsZShcbiAgICAgIHZhbHVlID09PSAwID8gXCJibGFja1wiIDogdmFsdWUsXG4gICAgICBHcmFwaGljc0NvbnRleHQuZGVmYXVsdEZpbGxTdHlsZVxuICAgICk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogQSBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlLCBlLmcuLCAnYmx1ZScsICcjRkNGRjAwJy4gKi9cbiAgZ2V0IHN0cm9rZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxTdHJva2U7XG4gIH1cbiAgc2V0IHN0cm9rZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fb3JpZ2luYWxTdHJva2UpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fb3JpZ2luYWxTdHJva2UgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy5faXNGaWxsU3R5bGUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9vcmlnaW5hbFN0cm9rZSA9IHRoaXMuX2NyZWF0ZVByb3h5KHsgLi4uR3JhcGhpY3NDb250ZXh0LmRlZmF1bHRTdHJva2VTdHlsZSwgLi4udmFsdWUgfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9zdHJva2UgPSB0b1N0cm9rZVN0eWxlKFxuICAgICAgICAgIHsgLi4udGhpcy5fb3JpZ2luYWxTdHJva2UgfSxcbiAgICAgICAgICBHcmFwaGljc0NvbnRleHQuZGVmYXVsdFN0cm9rZVN0eWxlXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fc3Ryb2tlID0gdG9TdHJva2VTdHlsZSh2YWx1ZSwgR3JhcGhpY3NDb250ZXh0LmRlZmF1bHRTdHJva2VTdHlsZSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICBfZ2VuZXJhdGVLZXkoKSB7XG4gICAgdGhpcy5fc3R5bGVLZXkgPSBnZW5lcmF0ZVRleHRTdHlsZUtleSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5fc3R5bGVLZXk7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMuX3N0eWxlS2V5ID0gbnVsbDtcbiAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgdGhpcyk7XG4gIH1cbiAgLyoqIFJlc2V0cyBhbGwgcHJvcGVydGllcyB0byB0aGUgZGVmYXVsdCB2YWx1ZXMgKi9cbiAgcmVzZXQoKSB7XG4gICAgY29uc3QgZGVmYXVsdFN0eWxlID0gX1RleHRTdHlsZS5kZWZhdWx0VGV4dFN0eWxlO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRTdHlsZSkge1xuICAgICAgdGhpc1trZXldID0gZGVmYXVsdFN0eWxlW2tleV07XG4gICAgfVxuICB9XG4gIGdldCBzdHlsZUtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3R5bGVLZXkgfHwgdGhpcy5fZ2VuZXJhdGVLZXkoKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgKiBAcmV0dXJucyBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1RleHRTdHlsZSh7XG4gICAgICBhbGlnbjogdGhpcy5hbGlnbixcbiAgICAgIGJyZWFrV29yZHM6IHRoaXMuYnJlYWtXb3JkcyxcbiAgICAgIGRyb3BTaGFkb3c6IHRoaXMuX2Ryb3BTaGFkb3cgPyB7IC4uLnRoaXMuX2Ryb3BTaGFkb3cgfSA6IG51bGwsXG4gICAgICBmaWxsOiB0aGlzLl9maWxsLFxuICAgICAgZm9udEZhbWlseTogdGhpcy5mb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemUsXG4gICAgICBmb250U3R5bGU6IHRoaXMuZm9udFN0eWxlLFxuICAgICAgZm9udFZhcmlhbnQ6IHRoaXMuZm9udFZhcmlhbnQsXG4gICAgICBmb250V2VpZ2h0OiB0aGlzLmZvbnRXZWlnaHQsXG4gICAgICBsZWFkaW5nOiB0aGlzLmxlYWRpbmcsXG4gICAgICBsZXR0ZXJTcGFjaW5nOiB0aGlzLmxldHRlclNwYWNpbmcsXG4gICAgICBsaW5lSGVpZ2h0OiB0aGlzLmxpbmVIZWlnaHQsXG4gICAgICBwYWRkaW5nOiB0aGlzLnBhZGRpbmcsXG4gICAgICBzdHJva2U6IHRoaXMuX3N0cm9rZSxcbiAgICAgIHRleHRCYXNlbGluZTogdGhpcy50ZXh0QmFzZWxpbmUsXG4gICAgICB3aGl0ZVNwYWNlOiB0aGlzLndoaXRlU3BhY2UsXG4gICAgICB3b3JkV3JhcDogdGhpcy53b3JkV3JhcCxcbiAgICAgIHdvcmRXcmFwV2lkdGg6IHRoaXMud29yZFdyYXBXaWR0aFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIHRleHQgc3R5bGUuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgdGhpcyBzdHlsZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmVTb3VyY2U9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmVTb3VyY2Ugb2YgdGhlIHRoaXMgc3R5bGVcbiAgICovXG4gIGRlc3Ryb3kob3B0aW9ucyA9IGZhbHNlKSB7XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBjb25zdCBkZXN0cm95VGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIiA/IG9wdGlvbnMgOiBvcHRpb25zPy50ZXh0dXJlO1xuICAgIGlmIChkZXN0cm95VGV4dHVyZSkge1xuICAgICAgY29uc3QgZGVzdHJveVRleHR1cmVTb3VyY2UgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIgPyBvcHRpb25zIDogb3B0aW9ucz8udGV4dHVyZVNvdXJjZTtcbiAgICAgIGlmICh0aGlzLl9maWxsPy50ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX2ZpbGwudGV4dHVyZS5kZXN0cm95KGRlc3Ryb3lUZXh0dXJlU291cmNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9vcmlnaW5hbEZpbGw/LnRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxGaWxsLnRleHR1cmUuZGVzdHJveShkZXN0cm95VGV4dHVyZVNvdXJjZSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fc3Ryb2tlPy50ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX3N0cm9rZS50ZXh0dXJlLmRlc3Ryb3koZGVzdHJveVRleHR1cmVTb3VyY2UpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX29yaWdpbmFsU3Ryb2tlPy50ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsU3Ryb2tlLnRleHR1cmUuZGVzdHJveShkZXN0cm95VGV4dHVyZVNvdXJjZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2ZpbGwgPSBudWxsO1xuICAgIHRoaXMuX3N0cm9rZSA9IG51bGw7XG4gICAgdGhpcy5kcm9wU2hhZG93ID0gbnVsbDtcbiAgICB0aGlzLl9vcmlnaW5hbFN0cm9rZSA9IG51bGw7XG4gICAgdGhpcy5fb3JpZ2luYWxGaWxsID0gbnVsbDtcbiAgfVxuICBfY3JlYXRlUHJveHkodmFsdWUsIGNiKSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwge1xuICAgICAgc2V0OiAodGFyZ2V0LCBwcm9wZXJ0eSwgbmV3VmFsdWUpID0+IHtcbiAgICAgICAgdGFyZ2V0W3Byb3BlcnR5XSA9IG5ld1ZhbHVlO1xuICAgICAgICBjYj8uKHByb3BlcnR5LCBuZXdWYWx1ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIF9pc0ZpbGxTdHlsZSh2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgPz8gbnVsbCkgIT09IG51bGwgJiYgIShDb2xvci5pc0NvbG9yTGlrZSh2YWx1ZSkgfHwgdmFsdWUgaW5zdGFuY2VvZiBGaWxsR3JhZGllbnQgfHwgdmFsdWUgaW5zdGFuY2VvZiBGaWxsUGF0dGVybik7XG4gIH1cbn07XG4vKiogVGhlIGRlZmF1bHQgZHJvcCBzaGFkb3cgc2V0dGluZ3MgKi9cbl9UZXh0U3R5bGUuZGVmYXVsdERyb3BTaGFkb3cgPSB7XG4gIC8qKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvdyAqL1xuICBhbHBoYTogMSxcbiAgLyoqIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvdyAqL1xuICBhbmdsZTogTWF0aC5QSSAvIDYsXG4gIC8qKiBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXMgKi9cbiAgYmx1cjogMCxcbiAgLyoqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSAgZS5nLiwgJ3JlZCcsICcjMDBGRjAwJyAqL1xuICBjb2xvcjogXCJibGFja1wiLFxuICAvKiogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93ICovXG4gIGRpc3RhbmNlOiA1XG59O1xuLyoqIFRoZSBkZWZhdWx0IHRleHQgc3R5bGUgc2V0dGluZ3MgKi9cbl9UZXh0U3R5bGUuZGVmYXVsdFRleHRTdHlsZSA9IHtcbiAgLyoqXG4gICAqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLmFsaWdufVxuICAgKiBAdHlwZSB7J2xlZnQnfCdjZW50ZXInfCdyaWdodCd8J2p1c3RpZnknfVxuICAgKi9cbiAgYWxpZ246IFwibGVmdFwiLFxuICAvKiogU2VlIHtAbGluayBUZXh0U3R5bGUuYnJlYWtXb3Jkc30gKi9cbiAgYnJlYWtXb3JkczogZmFsc2UsXG4gIC8qKiBTZWUge0BsaW5rIFRleHRTdHlsZS5kcm9wU2hhZG93fSAqL1xuICBkcm9wU2hhZG93OiBudWxsLFxuICAvKipcbiAgICogU2VlIHtAbGluayBUZXh0U3R5bGUuZmlsbH1cbiAgICogQHR5cGUge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn1cbiAgICovXG4gIGZpbGw6IFwiYmxhY2tcIixcbiAgLyoqXG4gICAqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLmZvbnRGYW1pbHl9XG4gICAqIEB0eXBlIHtzdHJpbmd8c3RyaW5nW119XG4gICAqL1xuICBmb250RmFtaWx5OiBcIkFyaWFsXCIsXG4gIC8qKlxuICAgKiBTZWUge0BsaW5rIFRleHRTdHlsZS5mb250U2l6ZX1cbiAgICogQHR5cGUge251bWJlcnxzdHJpbmd9XG4gICAqL1xuICBmb250U2l6ZTogMjYsXG4gIC8qKlxuICAgKiBTZWUge0BsaW5rIFRleHRTdHlsZS5mb250U3R5bGV9XG4gICAqIEB0eXBlIHsnbm9ybWFsJ3wnaXRhbGljJ3wnb2JsaXF1ZSd9XG4gICAqL1xuICBmb250U3R5bGU6IFwibm9ybWFsXCIsXG4gIC8qKlxuICAgKiBTZWUge0BsaW5rIFRleHRTdHlsZS5mb250VmFyaWFudH1cbiAgICogQHR5cGUgeydub3JtYWwnfCdzbWFsbC1jYXBzJ31cbiAgICovXG4gIGZvbnRWYXJpYW50OiBcIm5vcm1hbFwiLFxuICAvKipcbiAgICogU2VlIHtAbGluayBUZXh0U3R5bGUuZm9udFdlaWdodH1cbiAgICogQHR5cGUgeydub3JtYWwnfCdib2xkJ3wnYm9sZGVyJ3wnbGlnaHRlcid8JzEwMCd8JzIwMCd8JzMwMCd8JzQwMCd8JzUwMCd8JzYwMCd8JzcwMCd8JzgwMCd8JzkwMCd9XG4gICAqL1xuICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAvKiogU2VlIHtAbGluayBUZXh0U3R5bGUubGVhZGluZ30gKi9cbiAgbGVhZGluZzogMCxcbiAgLyoqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLmxldHRlclNwYWNpbmd9ICovXG4gIGxldHRlclNwYWNpbmc6IDAsXG4gIC8qKiBTZWUge0BsaW5rIFRleHRTdHlsZS5saW5lSGVpZ2h0fSAqL1xuICBsaW5lSGVpZ2h0OiAwLFxuICAvKiogU2VlIHtAbGluayBUZXh0U3R5bGUucGFkZGluZ30gKi9cbiAgcGFkZGluZzogMCxcbiAgLyoqXG4gICAqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLnN0cm9rZX1cbiAgICogQHR5cGUge3N0cmluZ3xudW1iZXJ9XG4gICAqL1xuICBzdHJva2U6IG51bGwsXG4gIC8qKlxuICAgKiBTZWUge0BsaW5rIFRleHRTdHlsZS50ZXh0QmFzZWxpbmV9XG4gICAqIEB0eXBlIHsnYWxwaGFiZXRpYyd8J3RvcCd8J2hhbmdpbmcnfCdtaWRkbGUnfCdpZGVvZ3JhcGhpYyd8J2JvdHRvbSd9XG4gICAqL1xuICB0ZXh0QmFzZWxpbmU6IFwiYWxwaGFiZXRpY1wiLFxuICAvKiogU2VlIHtAbGluayBUZXh0U3R5bGUudHJpbX0gKi9cbiAgdHJpbTogZmFsc2UsXG4gIC8qKlxuICAgKiBTZWUge0BsaW5rIFRleHRTdHlsZS53aGl0ZVNwYWNlfVxuICAgKiBAdHlwZSB7J25vcm1hbCd8J3ByZSd8J3ByZS1saW5lJ31cbiAgICovXG4gIHdoaXRlU3BhY2U6IFwicHJlXCIsXG4gIC8qKiBTZWUge0BsaW5rIFRleHRTdHlsZS53b3JkV3JhcH0gKi9cbiAgd29yZFdyYXA6IGZhbHNlLFxuICAvKiogU2VlIHtAbGluayBUZXh0U3R5bGUud29yZFdyYXBXaWR0aH0gKi9cbiAgd29yZFdyYXBXaWR0aDogMTAwXG59O1xubGV0IFRleHRTdHlsZSA9IF9UZXh0U3R5bGU7XG5mdW5jdGlvbiBjb252ZXJ0VjdUb3Y4U3R5bGUoc3R5bGUpIHtcbiAgY29uc3Qgb2xkU3R5bGUgPSBzdHlsZTtcbiAgaWYgKHR5cGVvZiBvbGRTdHlsZS5kcm9wU2hhZG93ID09PSBcImJvb2xlYW5cIiAmJiBvbGRTdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSBUZXh0U3R5bGUuZGVmYXVsdERyb3BTaGFkb3c7XG4gICAgc3R5bGUuZHJvcFNoYWRvdyA9IHtcbiAgICAgIGFscGhhOiBvbGRTdHlsZS5kcm9wU2hhZG93QWxwaGEgPz8gZGVmYXVsdHMuYWxwaGEsXG4gICAgICBhbmdsZTogb2xkU3R5bGUuZHJvcFNoYWRvd0FuZ2xlID8/IGRlZmF1bHRzLmFuZ2xlLFxuICAgICAgYmx1cjogb2xkU3R5bGUuZHJvcFNoYWRvd0JsdXIgPz8gZGVmYXVsdHMuYmx1cixcbiAgICAgIGNvbG9yOiBvbGRTdHlsZS5kcm9wU2hhZG93Q29sb3IgPz8gZGVmYXVsdHMuY29sb3IsXG4gICAgICBkaXN0YW5jZTogb2xkU3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlID8/IGRlZmF1bHRzLmRpc3RhbmNlXG4gICAgfTtcbiAgfVxuICBpZiAob2xkU3R5bGUuc3Ryb2tlVGhpY2tuZXNzICE9PSB2b2lkIDApIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwic3Ryb2tlVGhpY2tuZXNzIGlzIG5vdyBhIHBhcnQgb2Ygc3Ryb2tlXCIpO1xuICAgIGNvbnN0IGNvbG9yID0gb2xkU3R5bGUuc3Ryb2tlO1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBpZiAoQ29sb3IuaXNDb2xvckxpa2UoY29sb3IpKSB7XG4gICAgICBvYmouY29sb3IgPSBjb2xvcjtcbiAgICB9IGVsc2UgaWYgKGNvbG9yIGluc3RhbmNlb2YgRmlsbEdyYWRpZW50IHx8IGNvbG9yIGluc3RhbmNlb2YgRmlsbFBhdHRlcm4pIHtcbiAgICAgIG9iai5maWxsID0gY29sb3I7XG4gICAgfSBlbHNlIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjb2xvciwgXCJjb2xvclwiKSB8fCBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjb2xvciwgXCJmaWxsXCIpKSB7XG4gICAgICBvYmogPSBjb2xvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJva2UgdmFsdWUuXCIpO1xuICAgIH1cbiAgICBzdHlsZS5zdHJva2UgPSB7XG4gICAgICAuLi5vYmosXG4gICAgICB3aWR0aDogb2xkU3R5bGUuc3Ryb2tlVGhpY2tuZXNzXG4gICAgfTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvbGRTdHlsZS5maWxsR3JhZGllbnRTdG9wcykpIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiZ3JhZGllbnQgZmlsbCBpcyBub3cgYSBmaWxsIHBhdHRlcm46IGBuZXcgRmlsbEdyYWRpZW50KC4uLilgXCIpO1xuICAgIGxldCBmb250U2l6ZTtcbiAgICBpZiAoc3R5bGUuZm9udFNpemUgPT0gbnVsbCkge1xuICAgICAgc3R5bGUuZm9udFNpemUgPSBUZXh0U3R5bGUuZGVmYXVsdFRleHRTdHlsZS5mb250U2l6ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHlsZS5mb250U2l6ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZm9udFNpemUgPSBwYXJzZUludChzdHlsZS5mb250U2l6ZSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgIH1cbiAgICBjb25zdCBncmFkaWVudEZpbGwgPSBuZXcgRmlsbEdyYWRpZW50KDAsIDAsIDAsIGZvbnRTaXplICogMS43KTtcbiAgICBjb25zdCBmaWxscyA9IG9sZFN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLm1hcCgoY29sb3IpID0+IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShjb2xvcikudG9OdW1iZXIoKSk7XG4gICAgZmlsbHMuZm9yRWFjaCgobnVtYmVyLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgcmF0aW8gPSBpbmRleCAvIChmaWxscy5sZW5ndGggLSAxKTtcbiAgICAgIGdyYWRpZW50RmlsbC5hZGRDb2xvclN0b3AocmF0aW8sIG51bWJlcik7XG4gICAgfSk7XG4gICAgc3R5bGUuZmlsbCA9IHtcbiAgICAgIGZpbGw6IGdyYWRpZW50RmlsbFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IHsgVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0U3R5bGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IGZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlIH0gZnJvbSAnLi91dGlscy9mb250U3RyaW5nRnJvbVRleHRTdHlsZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGNvbnRleHRTZXR0aW5ncyA9IHtcbiAgLy8gVGV4dE1ldHJpY3MgcmVxdWlyZXMgZ2V0SW1hZ2VEYXRhIHJlYWRiYWNrIGZvciBtZWFzdXJpbmcgZm9udHMuXG4gIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZVxufTtcbmNvbnN0IF9DYW52YXNUZXh0TWV0cmljcyA9IGNsYXNzIF9DYW52YXNUZXh0TWV0cmljcyB7XG4gIC8qKlxuICAgKiBDaGVja2luZyB0aGF0IHdlIGNhbiB1c2UgbW9kZXJuIGNhbnZhcyAyRCBBUEkuXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgaXMgYW4gdW5zdGFibGUgQVBJLCBDaHJvbWUgPCA5NCB1c2UgYHRleHRMZXR0ZXJTcGFjaW5nYCwgbGF0ZXIgdmVyc2lvbnMgdXNlIGBsZXR0ZXJTcGFjaW5nYC5cbiAgICogQHNlZSBUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0lDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvbGV0dGVyU3BhY2luZ1xuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vb3JpZ2ludHJpYWxzLyMvdmlld190cmlhbC8zNTg1OTkxMjAzMjkzNzU3NDQxXG4gICAqL1xuICBzdGF0aWMgZ2V0IGV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQoKSB7XG4gICAgbGV0IHJlc3VsdCA9IF9DYW52YXNUZXh0TWV0cmljcy5fZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1N1cHBvcnRlZDtcbiAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IHByb3RvID0gRE9NQWRhcHRlci5nZXQoKS5nZXRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQoKS5wcm90b3R5cGU7XG4gICAgICByZXN1bHQgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2V4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQgPSBcImxldHRlclNwYWNpbmdcIiBpbiBwcm90byB8fCBcInRleHRMZXR0ZXJTcGFjaW5nXCIgaW4gcHJvdG87XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB0ZXh0IC0gdGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICogQHBhcmFtIHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAqIEBwYXJhbSB3aWR0aCAtIHRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgKiBAcGFyYW0gaGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgKiBAcGFyYW0gbGluZXMgLSBhbiBhcnJheSBvZiB0aGUgbGluZXMgb2YgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpZiBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICogQHBhcmFtIGxpbmVXaWR0aHMgLSBhbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICogQHBhcmFtIGxpbmVIZWlnaHQgLSB0aGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICogQHBhcmFtIG1heExpbmVXaWR0aCAtIHRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgKiBAcGFyYW0ge0ZvbnRNZXRyaWNzfSBmb250UHJvcGVydGllcyAtIHRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCwgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcykge1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgdGhpcy5saW5lV2lkdGhzID0gbGluZVdpZHRocztcbiAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgIHRoaXMubWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xuICAgIHRoaXMuZm9udFByb3BlcnRpZXMgPSBmb250UHJvcGVydGllcztcbiAgfVxuICAvKipcbiAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgKiBAcGFyYW0gdGV4dCAtIFRoZSB0ZXh0IHRvIG1lYXN1cmUuXG4gICAqIEBwYXJhbSBzdHlsZSAtIFRoZSB0ZXh0IHN0eWxlIHRvIHVzZSBmb3IgbWVhc3VyaW5nXG4gICAqIEBwYXJhbSBjYW52YXMgLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAqIEBwYXJhbSB3b3JkV3JhcFxuICAgKiBAcmV0dXJucyBNZWFzdXJlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB0ZXh0LlxuICAgKi9cbiAgc3RhdGljIG1lYXN1cmVUZXh0KHRleHQgPSBcIiBcIiwgc3R5bGUsIGNhbnZhcyA9IF9DYW52YXNUZXh0TWV0cmljcy5fY2FudmFzLCB3b3JkV3JhcCA9IHN0eWxlLndvcmRXcmFwKSB7XG4gICAgY29uc3QgdGV4dEtleSA9IGAke3RleHR9OiR7c3R5bGUuc3R5bGVLZXl9YDtcbiAgICBpZiAoX0NhbnZhc1RleHRNZXRyaWNzLl9tZWFzdXJlbWVudENhY2hlW3RleHRLZXldKVxuICAgICAgcmV0dXJuIF9DYW52YXNUZXh0TWV0cmljcy5fbWVhc3VyZW1lbnRDYWNoZVt0ZXh0S2V5XTtcbiAgICBjb25zdCBmb250ID0gZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUoc3R5bGUpO1xuICAgIGNvbnN0IGZvbnRQcm9wZXJ0aWVzID0gX0NhbnZhc1RleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgIGlmIChmb250UHJvcGVydGllcy5mb250U2l6ZSA9PT0gMCkge1xuICAgICAgZm9udFByb3BlcnRpZXMuZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgIGZvbnRQcm9wZXJ0aWVzLmFzY2VudCA9IHN0eWxlLmZvbnRTaXplO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gX0NhbnZhc1RleHRNZXRyaWNzLl9fY29udGV4dDtcbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgIGNvbnN0IG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IF9DYW52YXNUZXh0TWV0cmljcy5fd29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgIGNvbnN0IGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgY29uc3QgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgIGxldCBtYXhMaW5lV2lkdGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmVXaWR0aCA9IF9DYW52YXNUZXh0TWV0cmljcy5fbWVhc3VyZVRleHQobGluZXNbaV0sIHN0eWxlLmxldHRlclNwYWNpbmcsIGNvbnRleHQpO1xuICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICB9XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBzdHlsZS5fc3Ryb2tlPy53aWR0aCB8fCAwO1xuICAgIGxldCB3aWR0aCA9IG1heExpbmVXaWR0aCArIHN0cm9rZVdpZHRoO1xuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93LmRpc3RhbmNlO1xuICAgIH1cbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZTtcbiAgICBsZXQgaGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHJva2VXaWR0aCkgKyAobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpO1xuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICBoZWlnaHQgKz0gc3R5bGUuZHJvcFNoYWRvdy5kaXN0YW5jZTtcbiAgICB9XG4gICAgY29uc3QgbWVhc3VyZW1lbnRzID0gbmV3IF9DYW52YXNUZXh0TWV0cmljcyhcbiAgICAgIHRleHQsXG4gICAgICBzdHlsZSxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgbGluZXMsXG4gICAgICBsaW5lV2lkdGhzLFxuICAgICAgbGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcsXG4gICAgICBtYXhMaW5lV2lkdGgsXG4gICAgICBmb250UHJvcGVydGllc1xuICAgICk7XG4gICAgcmV0dXJuIG1lYXN1cmVtZW50cztcbiAgfVxuICBzdGF0aWMgX21lYXN1cmVUZXh0KHRleHQsIGxldHRlclNwYWNpbmcsIGNvbnRleHQpIHtcbiAgICBsZXQgdXNlRXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyA9IGZhbHNlO1xuICAgIGlmIChfQ2FudmFzVGV4dE1ldHJpY3MuZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1N1cHBvcnRlZCkge1xuICAgICAgaWYgKF9DYW52YXNUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgIGNvbnRleHQubGV0dGVyU3BhY2luZyA9IGAke2xldHRlclNwYWNpbmd9cHhgO1xuICAgICAgICBjb250ZXh0LnRleHRMZXR0ZXJTcGFjaW5nID0gYCR7bGV0dGVyU3BhY2luZ31weGA7XG4gICAgICAgIHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5sZXR0ZXJTcGFjaW5nID0gXCIwcHhcIjtcbiAgICAgICAgY29udGV4dC50ZXh0TGV0dGVyU3BhY2luZyA9IFwiMHB4XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgaWYgKHdpZHRoID4gMCkge1xuICAgICAgaWYgKHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcpIHtcbiAgICAgICAgd2lkdGggLT0gbGV0dGVyU3BhY2luZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoICs9IChfQ2FudmFzVGV4dE1ldHJpY3MuZ3JhcGhlbWVTZWdtZW50ZXIodGV4dCkubGVuZ3RoIC0gMSkgKiBsZXR0ZXJTcGFjaW5nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gd2lkdGg7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGxpZXMgbmV3bGluZXMgdG8gYSBzdHJpbmcgdG8gaGF2ZSBpdCBvcHRpbWFsbHkgZml0IGludG8gdGhlIGhvcml6b250YWxcbiAgICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICAgKiBAcGFyYW0gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gICAqIEBwYXJhbSBzdHlsZSAtIHRoZSBzdHlsZSB0byB1c2Ugd2hlbiB3cmFwcGluZ1xuICAgKiBAcGFyYW0gY2FudmFzIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgKiBAcmV0dXJucyBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICovXG4gIHN0YXRpYyBfd29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcyA9IF9DYW52YXNUZXh0TWV0cmljcy5fY2FudmFzKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiwgY29udGV4dFNldHRpbmdzKTtcbiAgICBsZXQgd2lkdGggPSAwO1xuICAgIGxldCBsaW5lID0gXCJcIjtcbiAgICBsZXQgbGluZXMgPSBcIlwiO1xuICAgIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgY29uc3QgeyBsZXR0ZXJTcGFjaW5nLCB3aGl0ZVNwYWNlIH0gPSBzdHlsZTtcbiAgICBjb25zdCBjb2xsYXBzZVNwYWNlcyA9IF9DYW52YXNUZXh0TWV0cmljcy5fY29sbGFwc2VTcGFjZXMod2hpdGVTcGFjZSk7XG4gICAgY29uc3QgY29sbGFwc2VOZXdsaW5lcyA9IF9DYW52YXNUZXh0TWV0cmljcy5fY29sbGFwc2VOZXdsaW5lcyh3aGl0ZVNwYWNlKTtcbiAgICBsZXQgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICBjb25zdCB3b3JkV3JhcFdpZHRoID0gc3R5bGUud29yZFdyYXBXaWR0aCArIGxldHRlclNwYWNpbmc7XG4gICAgY29uc3QgdG9rZW5zID0gX0NhbnZhc1RleHRNZXRyaWNzLl90b2tlbml6ZSh0ZXh0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgaWYgKF9DYW52YXNUZXh0TWV0cmljcy5faXNOZXdsaW5lKHRva2VuKSkge1xuICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpIHtcbiAgICAgICAgICBsaW5lcyArPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2FkZExpbmUobGluZSk7XG4gICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgICBsaW5lID0gXCJcIjtcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW4gPSBcIiBcIjtcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsYXBzZVNwYWNlcykge1xuICAgICAgICBjb25zdCBjdXJySXNCcmVha2luZ1NwYWNlID0gX0NhbnZhc1RleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgIGNvbnN0IGxhc3RJc0JyZWFraW5nU3BhY2UgPSBfQ2FudmFzVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGxpbmVbbGluZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIGlmIChjdXJySXNCcmVha2luZ1NwYWNlICYmIGxhc3RJc0JyZWFraW5nU3BhY2UpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdG9rZW5XaWR0aCA9IF9DYW52YXNUZXh0TWV0cmljcy5fZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgaWYgKGxpbmUgIT09IFwiXCIpIHtcbiAgICAgICAgICBsaW5lcyArPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2FkZExpbmUobGluZSk7XG4gICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfQ2FudmFzVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3Jkcyh0b2tlbiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gX0NhbnZhc1RleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQodG9rZW4pO1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hhcmFjdGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGV0IGNoYXIgPSBjaGFyYWN0ZXJzW2pdO1xuICAgICAgICAgICAgbGV0IGxhc3RDaGFyID0gY2hhcjtcbiAgICAgICAgICAgIGxldCBrID0gMTtcbiAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSkge1xuICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hhciA9IGNoYXJhY3RlcnNbaiArIGtdO1xuICAgICAgICAgICAgICBpZiAoIV9DYW52YXNUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzKGxhc3RDaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGosIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgY2hhciArPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0Q2hhciA9IG5leHRDaGFyO1xuICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqICs9IGsgLSAxO1xuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyV2lkdGggPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2dldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgbGluZXMgKz0gX0NhbnZhc1RleHRNZXRyaWNzLl9hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lICs9IGNoYXI7XG4gICAgICAgICAgICB3aWR0aCArPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGluZXMgKz0gX0NhbnZhc1RleHRNZXRyaWNzLl9hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGlzTGFzdFRva2VuID0gaSA9PT0gdG9rZW5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgbGluZXMgKz0gX0NhbnZhc1RleHRNZXRyaWNzLl9hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICBsaW5lID0gXCJcIjtcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgIGxpbmVzICs9IF9DYW52YXNUZXh0TWV0cmljcy5fYWRkTGluZShsaW5lKTtcbiAgICAgICAgICBsaW5lID0gXCJcIjtcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCB8fCAhX0NhbnZhc1RleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbikgfHwgY2FuUHJlcGVuZFNwYWNlcykge1xuICAgICAgICAgIGxpbmUgKz0gdG9rZW47XG4gICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsaW5lcyArPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2FkZExpbmUobGluZSwgZmFsc2UpO1xuICAgIHJldHVybiBsaW5lcztcbiAgfVxuICAvKipcbiAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZWFjaCBsaW5lIGFkZGVkIGR1cmluZyB0aGUgd29yZFdyYXAgbWV0aG9kLlxuICAgKiBAcGFyYW0gbGluZSAgICAtIFRoZSBsaW5lIG9mIHRleHQgdG8gYWRkXG4gICAqIEBwYXJhbSBuZXdMaW5lIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAgICogQHJldHVybnMgQSBmb3JtYXR0ZWQgbGluZVxuICAgKi9cbiAgc3RhdGljIF9hZGRMaW5lKGxpbmUsIG5ld0xpbmUgPSB0cnVlKSB7XG4gICAgbGluZSA9IF9DYW52YXNUZXh0TWV0cmljcy5fdHJpbVJpZ2h0KGxpbmUpO1xuICAgIGxpbmUgPSBuZXdMaW5lID8gYCR7bGluZX1cbmAgOiBsaW5lO1xuICAgIHJldHVybiBsaW5lO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzICYgc2V0cyB0aGUgd2lkdGhzIG9mIGNhbGN1bGF0ZWQgY2hhcmFjdGVycyBpbiBhIGNhY2hlIG9iamVjdFxuICAgKiBAcGFyYW0ga2V5ICAgICAgICAgICAgLSBUaGUga2V5XG4gICAqIEBwYXJhbSBsZXR0ZXJTcGFjaW5nICAtIFRoZSBsZXR0ZXIgc3BhY2luZ1xuICAgKiBAcGFyYW0gY2FjaGUgICAgICAgICAgLSBUaGUgY2FjaGVcbiAgICogQHBhcmFtIGNvbnRleHQgICAgICAgIC0gVGhlIGNhbnZhcyBjb250ZXh0XG4gICAqIEByZXR1cm5zIFRoZSBmcm9tIGNhY2hlLlxuICAgKi9cbiAgc3RhdGljIF9nZXRGcm9tQ2FjaGUoa2V5LCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCkge1xuICAgIGxldCB3aWR0aCA9IGNhY2hlW2tleV07XG4gICAgaWYgKHR5cGVvZiB3aWR0aCAhPT0gXCJudW1iZXJcIikge1xuICAgICAgd2lkdGggPSBfQ2FudmFzVGV4dE1ldHJpY3MuX21lYXN1cmVUZXh0KGtleSwgbGV0dGVyU3BhY2luZywgY29udGV4dCkgKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgIH1cbiAgICByZXR1cm4gd2lkdGg7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgYnJlYWtpbmcgc3BhY2VzLlxuICAgKiBAcGFyYW0gd2hpdGVTcGFjZSAtIFRoZSBUZXh0U3R5bGUgcHJvcGVydHkgd2hpdGVTcGFjZVxuICAgKiBAcmV0dXJucyBTaG91bGQgY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyBfY29sbGFwc2VTcGFjZXMod2hpdGVTcGFjZSkge1xuICAgIHJldHVybiB3aGl0ZVNwYWNlID09PSBcIm5vcm1hbFwiIHx8IHdoaXRlU3BhY2UgPT09IFwicHJlLWxpbmVcIjtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBuZXdMaW5lIGNoYXJzLlxuICAgKiBAcGFyYW0gd2hpdGVTcGFjZSAtIFRoZSB3aGl0ZSBzcGFjZVxuICAgKiBAcmV0dXJucyBzaG91bGQgY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyBfY29sbGFwc2VOZXdsaW5lcyh3aGl0ZVNwYWNlKSB7XG4gICAgcmV0dXJuIHdoaXRlU3BhY2UgPT09IFwibm9ybWFsXCI7XG4gIH1cbiAgLyoqXG4gICAqIFRyaW1zIGJyZWFraW5nIHdoaXRlc3BhY2VzIGZyb20gc3RyaW5nLlxuICAgKiBAcGFyYW0gdGV4dCAtIFRoZSB0ZXh0XG4gICAqIEByZXR1cm5zIFRyaW1tZWQgc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgX3RyaW1SaWdodCh0ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHRleHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGNoYXIgPSB0ZXh0W2ldO1xuICAgICAgaWYgKCFfQ2FudmFzVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgbmV3bGluZS5cbiAgICogQHBhcmFtIGNoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAqIEByZXR1cm5zIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgc3RhdGljIF9pc05ld2xpbmUoY2hhcikge1xuICAgIGlmICh0eXBlb2YgY2hhciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmNsdWRlcyhjaGFyLmNoYXJDb2RlQXQoMCkpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICAgKlxuICAgKiBJdCBhbGxvd3Mgb25lIHRvIGRldGVybWluZSB3aGV0aGVyIGNoYXIgc2hvdWxkIGJlIGEgYnJlYWtpbmcgd2hpdGVzcGFjZVxuICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICogQHBhcmFtIGNoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAqIEBwYXJhbSBbX25leHRDaGFyXSAtIFRoZSBuZXh0IGNoYXJhY3RlclxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHdoaXRlc3BhY2UsIEZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHN0YXRpYyBpc0JyZWFraW5nU3BhY2UoY2hhciwgX25leHRDaGFyKSB7XG4gICAgaWYgKHR5cGVvZiBjaGFyICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBfQ2FudmFzVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluY2x1ZGVzKGNoYXIuY2hhckNvZGVBdCgwKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNwbGl0cyBhIHN0cmluZyBpbnRvIHdvcmRzLCBicmVha2luZy1zcGFjZXMgYW5kIG5ld0xpbmUgY2hhcmFjdGVyc1xuICAgKiBAcGFyYW0gdGV4dCAtIFRoZSB0ZXh0XG4gICAqIEByZXR1cm5zIEEgdG9rZW5pemVkIGFycmF5XG4gICAqL1xuICBzdGF0aWMgX3Rva2VuaXplKHRleHQpIHtcbiAgICBjb25zdCB0b2tlbnMgPSBbXTtcbiAgICBsZXQgdG9rZW4gPSBcIlwiO1xuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFyID0gdGV4dFtpXTtcbiAgICAgIGNvbnN0IG5leHRDaGFyID0gdGV4dFtpICsgMV07XG4gICAgICBpZiAoX0NhbnZhc1RleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyLCBuZXh0Q2hhcikgfHwgX0NhbnZhc1RleHRNZXRyaWNzLl9pc05ld2xpbmUoY2hhcikpIHtcbiAgICAgICAgaWYgKHRva2VuICE9PSBcIlwiKSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIHRva2VuID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0b2tlbnMucHVzaChjaGFyKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0b2tlbiArPSBjaGFyO1xuICAgIH1cbiAgICBpZiAodG9rZW4gIT09IFwiXCIpIHtcbiAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VucztcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAqXG4gICAqIEl0IGFsbG93cyBvbmUgdG8gY3VzdG9taXNlIHdoaWNoIHdvcmRzIHNob3VsZCBicmVha1xuICAgKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAqIEBwYXJhbSBfdG9rZW4gLSBUaGUgdG9rZW5cbiAgICogQHBhcmFtIGJyZWFrV29yZHMgLSBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgKiBAcmV0dXJucyBXaGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAqL1xuICBzdGF0aWMgY2FuQnJlYWtXb3JkcyhfdG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICByZXR1cm4gYnJlYWtXb3JkcztcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAqXG4gICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICogc2hvdWxkIGJlIGJyb2tlbiBieSBuZXdsaW5lc1xuICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICogQHBhcmFtIF9jaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgKiBAcGFyYW0gX25leHRDaGFyIC0gVGhlIG5leHQgY2hhcmFjdGVyXG4gICAqIEBwYXJhbSBfdG9rZW4gLSBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICAgKiBAcGFyYW0gX2luZGV4IC0gVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICAgKiBAcGFyYW0gX2JyZWFrV29yZHMgLSBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgKiBAcmV0dXJucyB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAqL1xuICBzdGF0aWMgY2FuQnJlYWtDaGFycyhfY2hhciwgX25leHRDaGFyLCBfdG9rZW4sIF9pbmRleCwgX2JyZWFrV29yZHMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAqXG4gICAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgdG9rZW4gKHVzdWFsbHkgYSB3b3JkKSBoYXMgdG8gYmUgc3BsaXQgaW50byBzZXBhcmF0ZSBwaWVjZXNcbiAgICogaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHRoZSBwb2ludCB0byBicmVhayBhIHdvcmQuXG4gICAqIEl0IG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMuXG4gICAqIEBwYXJhbSB0b2tlbiAtIFRoZSB0b2tlbiB0byBzcGxpdFxuICAgKiBAcmV0dXJucyBUaGUgY2hhcmFjdGVycyBvZiB0aGUgdG9rZW5cbiAgICogQHNlZSBDYW52YXNUZXh0TWV0cmljcy5ncmFwaGVtZVNlZ21lbnRlclxuICAgKi9cbiAgc3RhdGljIHdvcmRXcmFwU3BsaXQodG9rZW4pIHtcbiAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKHRva2VuKTtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAgICogQHBhcmFtIGZvbnQgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgKiBAcmV0dXJucyBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAqL1xuICBzdGF0aWMgbWVhc3VyZUZvbnQoZm9udCkge1xuICAgIGlmIChfQ2FudmFzVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IF9DYW52YXNUZXh0TWV0cmljcy5fY29udGV4dDtcbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgIGNvbnN0IG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KF9DYW52YXNUZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyArIF9DYW52YXNUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICBhc2NlbnQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQsXG4gICAgICBkZXNjZW50OiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCxcbiAgICAgIGZvbnRTaXplOiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnRcbiAgICB9O1xuICAgIF9DYW52YXNUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBmb250IG1ldHJpY3MgaW4gbWV0cmljcyBjYWNoZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICAgKi9cbiAgc3RhdGljIGNsZWFyTWV0cmljcyhmb250ID0gXCJcIikge1xuICAgIGlmIChmb250KSB7XG4gICAgICBkZWxldGUgX0NhbnZhc1RleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICB9IGVsc2Uge1xuICAgICAgX0NhbnZhc1RleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FjaGVkIGNhbnZhcyBlbGVtZW50IGZvciBtZWFzdXJpbmcgdGV4dFxuICAgKiBUT0RPOiB0aGlzIHNob3VsZCBiZSBwcml2YXRlLCBidXQgaXNuJ3QgYmVjYXVzZSBvZiBiYWNrd2FyZCBjb21wYXQsIHdpbGwgZml4IGxhdGVyLlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBzdGF0aWMgZ2V0IF9jYW52YXMoKSB7XG4gICAgaWYgKCFfQ2FudmFzVGV4dE1ldHJpY3MuX19jYW52YXMpIHtcbiAgICAgIGxldCBjYW52YXM7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjID0gbmV3IE9mZnNjcmVlbkNhbnZhcygwLCAwKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGMuZ2V0Q29udGV4dChcIjJkXCIsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgICAgIGlmIChjb250ZXh0Py5tZWFzdXJlVGV4dCkge1xuICAgICAgICAgIF9DYW52YXNUZXh0TWV0cmljcy5fX2NhbnZhcyA9IGM7XG4gICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzID0gRE9NQWRhcHRlci5nZXQoKS5jcmVhdGVDYW52YXMoKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGNhbnZhcyA9IERPTUFkYXB0ZXIuZ2V0KCkuY3JlYXRlQ2FudmFzKCk7XG4gICAgICB9XG4gICAgICBjYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTA7XG4gICAgICBfQ2FudmFzVGV4dE1ldHJpY3MuX19jYW52YXMgPSBjYW52YXM7XG4gICAgfVxuICAgIHJldHVybiBfQ2FudmFzVGV4dE1ldHJpY3MuX19jYW52YXM7XG4gIH1cbiAgLyoqXG4gICAqIFRPRE86IHRoaXMgc2hvdWxkIGJlIHByaXZhdGUsIGJ1dCBpc24ndCBiZWNhdXNlIG9mIGJhY2t3YXJkIGNvbXBhdCwgd2lsbCBmaXggbGF0ZXIuXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0YXRpYyBnZXQgX2NvbnRleHQoKSB7XG4gICAgaWYgKCFfQ2FudmFzVGV4dE1ldHJpY3MuX19jb250ZXh0KSB7XG4gICAgICBfQ2FudmFzVGV4dE1ldHJpY3MuX19jb250ZXh0ID0gX0NhbnZhc1RleHRNZXRyaWNzLl9jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgfVxuICAgIHJldHVybiBfQ2FudmFzVGV4dE1ldHJpY3MuX19jb250ZXh0O1xuICB9XG59O1xuLyoqXG4gKiBTdHJpbmcgdXNlZCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIFRoZXNlIGNoYXJhY3RlcnMgYXJlIGFsbCB0YWxsIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgcmVxdWlyZWQgZm9yIHRleHQuXG4gKi9cbl9DYW52YXNUZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyA9IFwifFxceEM5cVxceEM1XCI7XG4vKiogQmFzZWxpbmUgc3ltYm9sIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLiAqL1xuX0NhbnZhc1RleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCA9IFwiTVwiO1xuLyoqIEJhc2VsaW5lIG11bHRpcGxpZXIgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiA9IDEuNDtcbi8qKiBIZWlnaHQgbXVsdGlwbGllciBmb3Igc2V0dGluZyBoZWlnaHQgb2YgY2FudmFzIHRvIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuSEVJR0hUX01VTFRJUExJRVIgPSAyO1xuLyoqXG4gKiBBIFVuaWNvZGUgXCJjaGFyYWN0ZXJcIiwgb3IgXCJncmFwaGVtZSBjbHVzdGVyXCIsIGNhbiBiZSBjb21wb3NlZCBvZiBtdWx0aXBsZSBVbmljb2RlIGNvZGUgcG9pbnRzLFxuICogc3VjaCBhcyBsZXR0ZXJzIHdpdGggZGlhY3JpdGljYWwgbWFya3MgKGUuZy4gYCdcXHUwMDY1XFx1MDMwMSdgLCBsZXR0ZXIgZSB3aXRoIGFjdXRlKVxuICogb3IgZW1vamlzIHdpdGggbW9kaWZpZXJzIChlLmcuIGAnXFx1RDgzRVxcdURERDFcXHUyMDBEXFx1RDgzRFxcdURDQkInYCwgdGVjaG5vbG9naXN0KS5cbiAqIFRoZSBuZXcgYEludGwuU2VnbWVudGVyYCBBUEkgaW4gRVMyMDIyIGNhbiBzcGxpdCB0aGUgc3RyaW5nIGludG8gZ3JhcGhlbWUgY2x1c3RlcnMgY29ycmVjdGx5LiBJZiBpdCBpcyBub3QgYXZhaWxhYmxlLFxuICogUGl4aUpTIHdpbGwgZmFsbGJhY2sgdG8gdXNlIHRoZSBpdGVyYXRvciBvZiBTdHJpbmcsIHdoaWNoIGNhbiBvbmx5IHNwaWx0IHRoZSBzdHJpbmcgaW50byBjb2RlIHBvaW50cy5cbiAqIElmIHlvdSB3YW50IHRvIGdldCBmdWxsIGZ1bmN0aW9uYWxpdHkgaW4gZW52aXJvbm1lbnRzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBgSW50bC5TZWdtZW50ZXJgIChzdWNoIGFzIEZpcmVmb3gpLFxuICogeW91IGNhbiB1c2Ugb3RoZXIgbGlicmFyaWVzIHN1Y2ggYXMgW2dyYXBoZW1lLXNwbGl0dGVyXXtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9ncmFwaGVtZS1zcGxpdHRlcn1cbiAqIG9yIFtncmFwaGVtZXJde0BsaW5rIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2dyYXBoZW1lcn0gdG8gY3JlYXRlIGEgcG9seWZpbGwuIFNpbmNlIHRoZXNlIGxpYnJhcmllcyBjYW4gYmVcbiAqIHJlbGF0aXZlbHkgbGFyZ2UgaW4gc2l6ZSB0byBoYW5kbGUgdmFyaW91cyBVbmljb2RlIGdyYXBoZW1lIGNsdXN0ZXJzIHByb3Blcmx5LCBQaXhpSlMgd29uJ3QgdXNlIHRoZW0gZGlyZWN0bHkuXG4gKi9cbl9DYW52YXNUZXh0TWV0cmljcy5ncmFwaGVtZVNlZ21lbnRlciA9ICgoKSA9PiB7XG4gIGlmICh0eXBlb2YgSW50bD8uU2VnbWVudGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25zdCBzZWdtZW50ZXIgPSBuZXcgSW50bC5TZWdtZW50ZXIoKTtcbiAgICByZXR1cm4gKHMpID0+IFsuLi5zZWdtZW50ZXIuc2VnbWVudChzKV0ubWFwKCh4KSA9PiB4LnNlZ21lbnQpO1xuICB9XG4gIHJldHVybiAocykgPT4gWy4uLnNdO1xufSkoKTtcbi8qKlxuICogTmV3IHJlbmRlcmluZyBiZWhhdmlvciBmb3IgbGV0dGVyLXNwYWNpbmcgd2hpY2ggdXNlcyBDaHJvbWUncyBuZXcgbmF0aXZlIEFQSS4gVGhpcyB3aWxsXG4gKiBsZWFkIHRvIG1vcmUgYWNjdXJhdGUgbGV0dGVyLXNwYWNpbmcgcmVzdWx0cyBiZWNhdXNlIGl0IGRvZXMgbm90IHRyeSB0byBtYW51YWxseSBkcmF3XG4gKiBlYWNoIGNoYXJhY3Rlci4gSG93ZXZlciwgdGhpcyBDaHJvbWUgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgbWF5IG5vdCBzZXJ2ZSBhbGwgY2FzZXMgeWV0LlxuICogQHNlZSBUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nU3VwcG9ydGVkXG4gKi9cbl9DYW52YXNUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nID0gZmFsc2U7XG4vKiogQ2FjaGUgb2Yge0BzZWUgVGV4dE1ldHJpY3MuRm9udE1ldHJpY3N9IG9iamVjdHMuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4vKiogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gW1xuICAxMCxcbiAgLy8gbGluZSBmZWVkXG4gIDEzXG4gIC8vIGNhcnJpYWdlIHJldHVyblxuXTtcbi8qKiBDYWNoZSBvZiBicmVha2luZyBzcGFjZXMuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzID0gW1xuICA5LFxuICAvLyBjaGFyYWN0ZXIgdGFidWxhdGlvblxuICAzMixcbiAgLy8gc3BhY2VcbiAgODE5MixcbiAgLy8gZW4gcXVhZFxuICA4MTkzLFxuICAvLyBlbSBxdWFkXG4gIDgxOTQsXG4gIC8vIGVuIHNwYWNlXG4gIDgxOTUsXG4gIC8vIGVtIHNwYWNlXG4gIDgxOTYsXG4gIC8vIHRocmVlLXBlci1lbSBzcGFjZVxuICA4MTk3LFxuICAvLyBmb3VyLXBlci1lbSBzcGFjZVxuICA4MTk4LFxuICAvLyBzaXgtcGVyLWVtIHNwYWNlXG4gIDgyMDAsXG4gIC8vIHB1bmN0dWF0aW9uIHNwYWNlXG4gIDgyMDEsXG4gIC8vIHRoaW4gc3BhY2VcbiAgODIwMixcbiAgLy8gaGFpciBzcGFjZVxuICA4Mjg3LFxuICAvLyBtZWRpdW0gbWF0aGVtYXRpY2FsIHNwYWNlXG4gIDEyMjg4XG4gIC8vIGlkZW9ncmFwaGljIHNwYWNlXG5dO1xuX0NhbnZhc1RleHRNZXRyaWNzLl9tZWFzdXJlbWVudENhY2hlID0ge307XG5sZXQgQ2FudmFzVGV4dE1ldHJpY3MgPSBfQ2FudmFzVGV4dE1ldHJpY3M7XG5cbmV4cG9ydCB7IENhbnZhc1RleHRNZXRyaWNzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUZXh0TWV0cmljcy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGdlbmVyaWNGb250RmFtaWxpZXMgPSBbXG4gIFwic2VyaWZcIixcbiAgXCJzYW5zLXNlcmlmXCIsXG4gIFwibW9ub3NwYWNlXCIsXG4gIFwiY3Vyc2l2ZVwiLFxuICBcImZhbnRhc3lcIixcbiAgXCJzeXN0ZW0tdWlcIlxuXTtcbmZ1bmN0aW9uIGZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlKHN0eWxlKSB7XG4gIGNvbnN0IGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHN0eWxlLmZvbnRTaXplID09PSBcIm51bWJlclwiID8gYCR7c3R5bGUuZm9udFNpemV9cHhgIDogc3R5bGUuZm9udFNpemU7XG4gIGxldCBmb250RmFtaWxpZXMgPSBzdHlsZS5mb250RmFtaWx5O1xuICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUuZm9udEZhbWlseSkpIHtcbiAgICBmb250RmFtaWxpZXMgPSBzdHlsZS5mb250RmFtaWx5LnNwbGl0KFwiLFwiKTtcbiAgfVxuICBmb3IgKGxldCBpID0gZm9udEZhbWlsaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV0udHJpbSgpO1xuICAgIGlmICghLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvLnRlc3QoZm9udEZhbWlseSkgJiYgIWdlbmVyaWNGb250RmFtaWxpZXMuaW5jbHVkZXMoZm9udEZhbWlseSkpIHtcbiAgICAgIGZvbnRGYW1pbHkgPSBgXCIke2ZvbnRGYW1pbHl9XCJgO1xuICAgIH1cbiAgICBmb250RmFtaWxpZXNbaV0gPSBmb250RmFtaWx5O1xuICB9XG4gIHJldHVybiBgJHtzdHlsZS5mb250U3R5bGV9ICR7c3R5bGUuZm9udFZhcmlhbnR9ICR7c3R5bGUuZm9udFdlaWdodH0gJHtmb250U2l6ZVN0cmluZ30gJHtmb250RmFtaWxpZXMuam9pbihcIixcIil9YDtcbn1cblxuZXhwb3J0IHsgZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcbmltcG9ydCB7IEZpbGxHcmFkaWVudCB9IGZyb20gJy4uLy4uLy4uL2dyYXBoaWNzL3NoYXJlZC9maWxsL0ZpbGxHcmFkaWVudC5tanMnO1xuaW1wb3J0IHsgRmlsbFBhdHRlcm4gfSBmcm9tICcuLi8uLi8uLi9ncmFwaGljcy9zaGFyZWQvZmlsbC9GaWxsUGF0dGVybi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdldENhbnZhc0ZpbGxTdHlsZShmaWxsU3R5bGUsIGNvbnRleHQpIHtcbiAgaWYgKGZpbGxTdHlsZS50ZXh0dXJlID09PSBUZXh0dXJlLldISVRFICYmICFmaWxsU3R5bGUuZmlsbCkge1xuICAgIHJldHVybiBDb2xvci5zaGFyZWQuc2V0VmFsdWUoZmlsbFN0eWxlLmNvbG9yKS5zZXRBbHBoYShmaWxsU3R5bGUuYWxwaGEgPz8gMSkudG9IZXhhKCk7XG4gIH0gZWxzZSBpZiAoIWZpbGxTdHlsZS5maWxsKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IGNvbnRleHQuY3JlYXRlUGF0dGVybihmaWxsU3R5bGUudGV4dHVyZS5zb3VyY2UucmVzb3VyY2UsIFwicmVwZWF0XCIpO1xuICAgIGNvbnN0IHRlbXBNYXRyaXggPSBmaWxsU3R5bGUubWF0cml4LmNvcHlUbyhNYXRyaXguc2hhcmVkKTtcbiAgICB0ZW1wTWF0cml4LnNjYWxlKGZpbGxTdHlsZS50ZXh0dXJlLmZyYW1lLndpZHRoLCBmaWxsU3R5bGUudGV4dHVyZS5mcmFtZS5oZWlnaHQpO1xuICAgIHBhdHRlcm4uc2V0VHJhbnNmb3JtKHRlbXBNYXRyaXgpO1xuICAgIHJldHVybiBwYXR0ZXJuO1xuICB9IGVsc2UgaWYgKGZpbGxTdHlsZS5maWxsIGluc3RhbmNlb2YgRmlsbFBhdHRlcm4pIHtcbiAgICBjb25zdCBmaWxsUGF0dGVybiA9IGZpbGxTdHlsZS5maWxsO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBjb250ZXh0LmNyZWF0ZVBhdHRlcm4oZmlsbFBhdHRlcm4udGV4dHVyZS5zb3VyY2UucmVzb3VyY2UsIFwicmVwZWF0XCIpO1xuICAgIGNvbnN0IHRlbXBNYXRyaXggPSBmaWxsUGF0dGVybi50cmFuc2Zvcm0uY29weVRvKE1hdHJpeC5zaGFyZWQpO1xuICAgIHRlbXBNYXRyaXguc2NhbGUoXG4gICAgICBmaWxsUGF0dGVybi50ZXh0dXJlLmZyYW1lLndpZHRoLFxuICAgICAgZmlsbFBhdHRlcm4udGV4dHVyZS5mcmFtZS5oZWlnaHRcbiAgICApO1xuICAgIHBhdHRlcm4uc2V0VHJhbnNmb3JtKHRlbXBNYXRyaXgpO1xuICAgIHJldHVybiBwYXR0ZXJuO1xuICB9IGVsc2UgaWYgKGZpbGxTdHlsZS5maWxsIGluc3RhbmNlb2YgRmlsbEdyYWRpZW50KSB7XG4gICAgY29uc3QgZmlsbEdyYWRpZW50ID0gZmlsbFN0eWxlLmZpbGw7XG4gICAgaWYgKGZpbGxHcmFkaWVudC50eXBlID09PSBcImxpbmVhclwiKSB7XG4gICAgICBjb25zdCBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQoXG4gICAgICAgIGZpbGxHcmFkaWVudC54MCxcbiAgICAgICAgZmlsbEdyYWRpZW50LnkwLFxuICAgICAgICBmaWxsR3JhZGllbnQueDEsXG4gICAgICAgIGZpbGxHcmFkaWVudC55MVxuICAgICAgKTtcbiAgICAgIGZpbGxHcmFkaWVudC5ncmFkaWVudFN0b3BzLmZvckVhY2goKHN0b3ApID0+IHtcbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3Aub2Zmc2V0LCBDb2xvci5zaGFyZWQuc2V0VmFsdWUoc3RvcC5jb2xvcikudG9IZXgoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9XG4gIH1cbiAgd2FybihcIkZpbGxTdHlsZSBub3QgcmVjb2duaXNlZFwiLCBmaWxsU3R5bGUpO1xuICByZXR1cm4gXCJyZWRcIjtcbn1cblxuZXhwb3J0IHsgZ2V0Q2FudmFzRmlsbFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDYW52YXNGaWxsU3R5bGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgdXBkYXRlUXVhZEJvdW5kcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RhdGEvdXBkYXRlUXVhZEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVTcHJpdGUgfSBmcm9tICcuLi8uLi9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQ2FudmFzVGV4dFBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2dwdVRleHQgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kID0gdGhpcy5kZXN0cm95UmVuZGVyYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fcmVuZGVyZXIucnVubmVycy5yZXNvbHV0aW9uQ2hhbmdlLmFkZCh0aGlzKTtcbiAgfVxuICByZXNvbHV0aW9uQ2hhbmdlKCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9ncHVUZXh0KSB7XG4gICAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ3B1VGV4dFtpXTtcbiAgICAgIGlmICghZ3B1VGV4dClcbiAgICAgICAgY29udGludWU7XG4gICAgICBjb25zdCB0ZXh0ID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGUucmVuZGVyYWJsZTtcbiAgICAgIGlmICh0ZXh0Ll9hdXRvUmVzb2x1dGlvbikge1xuICAgICAgICB0ZXh0Ll9yZXNvbHV0aW9uID0gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgdGV4dC5vblZpZXdVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKHRleHQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBjb25zdCBuZXdLZXkgPSB0ZXh0Ll9nZXRLZXkoKTtcbiAgICBpZiAoZ3B1VGV4dC5jdXJyZW50S2V5ICE9PSBuZXdLZXkpIHtcbiAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5fcmVuZGVyZXIuY2FudmFzVGV4dC5nZXRUZXh0dXJlU2l6ZShcbiAgICAgICAgdGV4dC50ZXh0LFxuICAgICAgICB0ZXh0LnJlc29sdXRpb24sXG4gICAgICAgIHRleHQuX3N0eWxlXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICAvLyBpcyBvbmx5IGJlaW5nIHVzZWQgYnkgdGhpcyB0ZXh0OlxuICAgICAgICB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LmdldFJlZmVyZW5jZUNvdW50KGdwdVRleHQuY3VycmVudEtleSkgPT09IDEgJiYgd2lkdGggPT09IGdwdVRleHQudGV4dHVyZS5fc291cmNlLndpZHRoICYmIGhlaWdodCA9PT0gZ3B1VGV4dC50ZXh0dXJlLl9zb3VyY2UuaGVpZ2h0XG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKHRleHQsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKHRleHQuX2RpZFRleHRVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHQodGV4dCk7XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmFkZFRvQmF0Y2goYmF0Y2hhYmxlU3ByaXRlLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZSh0ZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKHRleHQuX2RpZFRleHRVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHQodGV4dCk7XG4gICAgfVxuICAgIGJhdGNoYWJsZVNwcml0ZS5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGJhdGNoYWJsZVNwcml0ZSk7XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUodGV4dCkge1xuICAgIHRleHQub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZCh0ZXh0LnVpZCk7XG4gIH1cbiAgX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZCh0ZXh0VWlkKSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dwdVRleHRbdGV4dFVpZF07XG4gICAgdGhpcy5fcmVuZGVyZXIuY2FudmFzVGV4dC5kZWNyZWFzZVJlZmVyZW5jZUNvdW50KGdwdVRleHQuY3VycmVudEtleSk7XG4gICAgQmlnUG9vbC5yZXR1cm4oZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGUpO1xuICAgIHRoaXMuX2dwdVRleHRbdGV4dFVpZF0gPSBudWxsO1xuICB9XG4gIF91cGRhdGVUZXh0KHRleHQpIHtcbiAgICBjb25zdCBuZXdLZXkgPSB0ZXh0Ll9nZXRLZXkoKTtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZTtcbiAgICBpZiAoZ3B1VGV4dC5jdXJyZW50S2V5ICE9PSBuZXdLZXkpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUdwdVRleHQodGV4dCk7XG4gICAgfVxuICAgIHRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBwYWRkaW5nID0gdGV4dC5fc3R5bGUucGFkZGluZztcbiAgICB1cGRhdGVRdWFkQm91bmRzKGJhdGNoYWJsZVNwcml0ZS5ib3VuZHMsIHRleHQuX2FuY2hvciwgYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUsIHBhZGRpbmcpO1xuICB9XG4gIF91cGRhdGVHcHVUZXh0KHRleHQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZTtcbiAgICBpZiAoZ3B1VGV4dC50ZXh0dXJlKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LmRlY3JlYXNlUmVmZXJlbmNlQ291bnQoZ3B1VGV4dC5jdXJyZW50S2V5KTtcbiAgICB9XG4gICAgZ3B1VGV4dC50ZXh0dXJlID0gYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUgPSB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LmdldE1hbmFnZWRUZXh0dXJlKHRleHQpO1xuICAgIGdwdVRleHQuY3VycmVudEtleSA9IHRleHQuX2dldEtleSgpO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gZ3B1VGV4dC50ZXh0dXJlO1xuICB9XG4gIF9nZXRHcHVUZXh0KHRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1VGV4dFt0ZXh0LnVpZF0gfHwgdGhpcy5pbml0R3B1VGV4dCh0ZXh0KTtcbiAgfVxuICBpbml0R3B1VGV4dCh0ZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dERhdGEgPSB7XG4gICAgICB0ZXh0dXJlOiBudWxsLFxuICAgICAgY3VycmVudEtleTogXCItLVwiLFxuICAgICAgYmF0Y2hhYmxlU3ByaXRlOiBCaWdQb29sLmdldChCYXRjaGFibGVTcHJpdGUpXG4gICAgfTtcbiAgICBncHVUZXh0RGF0YS5iYXRjaGFibGVTcHJpdGUucmVuZGVyYWJsZSA9IHRleHQ7XG4gICAgZ3B1VGV4dERhdGEuYmF0Y2hhYmxlU3ByaXRlLnRyYW5zZm9ybSA9IHRleHQuZ3JvdXBUcmFuc2Zvcm07XG4gICAgZ3B1VGV4dERhdGEuYmF0Y2hhYmxlU3ByaXRlLmJvdW5kcyA9IHsgbWluWDogMCwgbWF4WDogMSwgbWluWTogMCwgbWF4WTogMCB9O1xuICAgIGdwdVRleHREYXRhLmJhdGNoYWJsZVNwcml0ZS5yb3VuZFBpeGVscyA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IHRleHQuX3JvdW5kUGl4ZWxzO1xuICAgIHRoaXMuX2dwdVRleHRbdGV4dC51aWRdID0gZ3B1VGV4dERhdGE7XG4gICAgdGV4dC5fcmVzb2x1dGlvbiA9IHRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IHRleHQucmVzb2x1dGlvbjtcbiAgICB0aGlzLl91cGRhdGVUZXh0KHRleHQpO1xuICAgIHRleHQub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgcmV0dXJuIGdwdVRleHREYXRhO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdVRleHQpIHtcbiAgICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZChpKTtcbiAgICB9XG4gICAgdGhpcy5fZ3B1VGV4dCA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQ2FudmFzVGV4dFBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInRleHRcIlxufTtcblxuZXhwb3J0IHsgQ2FudmFzVGV4dFBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1RleHRQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uL21hdGhzL3NoYXBlcy9SZWN0YW5nbGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjaGVja1JvdyhkYXRhLCB3aWR0aCwgeSkge1xuICBmb3IgKGxldCB4ID0gMCwgaW5kZXggPSA0ICogeSAqIHdpZHRoOyB4IDwgd2lkdGg7ICsreCwgaW5kZXggKz0gNCkge1xuICAgIGlmIChkYXRhW2luZGV4ICsgM10gIT09IDApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBjaGVja0NvbHVtbihkYXRhLCB3aWR0aCwgeCwgdG9wLCBib3R0b20pIHtcbiAgY29uc3Qgc3RyaWRlID0gNCAqIHdpZHRoO1xuICBmb3IgKGxldCB5ID0gdG9wLCBpbmRleCA9IHRvcCAqIHN0cmlkZSArIDQgKiB4OyB5IDw9IGJvdHRvbTsgKyt5LCBpbmRleCArPSBzdHJpZGUpIHtcbiAgICBpZiAoZGF0YVtpbmRleCArIDNdICE9PSAwKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gZ2V0Q2FudmFzQm91bmRpbmdCb3goY2FudmFzLCByZXNvbHV0aW9uID0gMSkge1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNhbnZhcztcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiwge1xuICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZVxuICB9KTtcbiAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGdldCBjYW52YXMgMkQgY29udGV4dFwiKTtcbiAgfVxuICBjb25zdCBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgY29uc3QgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuICBsZXQgbGVmdCA9IDA7XG4gIGxldCB0b3AgPSAwO1xuICBsZXQgcmlnaHQgPSB3aWR0aCAtIDE7XG4gIGxldCBib3R0b20gPSBoZWlnaHQgLSAxO1xuICB3aGlsZSAodG9wIDwgaGVpZ2h0ICYmIGNoZWNrUm93KGRhdGEsIHdpZHRoLCB0b3ApKVxuICAgICsrdG9wO1xuICBpZiAodG9wID09PSBoZWlnaHQpXG4gICAgcmV0dXJuIFJlY3RhbmdsZS5FTVBUWTtcbiAgd2hpbGUgKGNoZWNrUm93KGRhdGEsIHdpZHRoLCBib3R0b20pKVxuICAgIC0tYm90dG9tO1xuICB3aGlsZSAoY2hlY2tDb2x1bW4oZGF0YSwgd2lkdGgsIGxlZnQsIHRvcCwgYm90dG9tKSlcbiAgICArK2xlZnQ7XG4gIHdoaWxlIChjaGVja0NvbHVtbihkYXRhLCB3aWR0aCwgcmlnaHQsIHRvcCwgYm90dG9tKSlcbiAgICAtLXJpZ2h0O1xuICArK3JpZ2h0O1xuICArK2JvdHRvbTtcbiAgcmV0dXJuIG5ldyBSZWN0YW5nbGUobGVmdCAvIHJlc29sdXRpb24sIHRvcCAvIHJlc29sdXRpb24sIChyaWdodCAtIGxlZnQpIC8gcmVzb2x1dGlvbiwgKGJvdHRvbSAtIHRvcCkgLyByZXNvbHV0aW9uKTtcbn1cblxuZXhwb3J0IHsgZ2V0Q2FudmFzQm91bmRpbmdCb3ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldENhbnZhc0JvdW5kaW5nQm94Lm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IG5leHRQb3cyIH0gZnJvbSAnLi4vLi4vLi4vbWF0aHMvbWlzYy9wb3cyLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNQb29sIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9DYW52YXNQb29sLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IGdldENhbnZhc0JvdW5kaW5nQm94IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2FudmFzL2dldENhbnZhc0JvdW5kaW5nQm94Lm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcbmltcG9ydCB7IFRleHRTdHlsZSB9IGZyb20gJy4uL1RleHRTdHlsZS5tanMnO1xuaW1wb3J0IHsgZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UgfSBmcm9tICcuLi91dGlscy9nZXRQbzJUZXh0dXJlRnJvbVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgQ2FudmFzVGV4dE1ldHJpY3MgfSBmcm9tICcuL0NhbnZhc1RleHRNZXRyaWNzLm1qcyc7XG5pbXBvcnQgeyBmb250U3RyaW5nRnJvbVRleHRTdHlsZSB9IGZyb20gJy4vdXRpbHMvZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IGdldENhbnZhc0ZpbGxTdHlsZSB9IGZyb20gJy4vdXRpbHMvZ2V0Q2FudmFzRmlsbFN0eWxlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQ2FudmFzVGV4dFN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKF9yZW5kZXJlcikge1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzID0ge307XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBfcmVuZGVyZXI7XG4gIH1cbiAgZ2V0VGV4dHVyZVNpemUodGV4dCwgcmVzb2x1dGlvbiwgc3R5bGUpIHtcbiAgICBjb25zdCBtZWFzdXJlZCA9IENhbnZhc1RleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRleHQgfHwgXCIgXCIsIHN0eWxlKTtcbiAgICBsZXQgd2lkdGggPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubWF4KDEsIG1lYXN1cmVkLndpZHRoKSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHJlc29sdXRpb24pO1xuICAgIGxldCBoZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubWF4KDEsIG1lYXN1cmVkLmhlaWdodCkgKyBzdHlsZS5wYWRkaW5nICogMikgKiByZXNvbHV0aW9uKTtcbiAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCAtIDFlLTYpO1xuICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLSAxZS02KTtcbiAgICB3aWR0aCA9IG5leHRQb3cyKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBuZXh0UG93MihoZWlnaHQpO1xuICAgIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgfVxuICBnZXRUZXh0dXJlKG9wdGlvbnMsIHJlc29sdXRpb24sIHN0eWxlLCBfdGV4dEtleSkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZGVwcmVjYXRpb24oXCI4LjAuMFwiLCBcIkNhbnZhc1RleHRTeXN0ZW0uZ2V0VGV4dHVyZTogVXNlIG9iamVjdCBUZXh0T3B0aW9ucyBpbnN0ZWFkIG9mIHNlcGFyYXRlIGFyZ3VtZW50c1wiKTtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHRleHQ6IG9wdGlvbnMsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICByZXNvbHV0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoIShvcHRpb25zLnN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlKSkge1xuICAgICAgb3B0aW9ucy5zdHlsZSA9IG5ldyBUZXh0U3R5bGUob3B0aW9ucy5zdHlsZSk7XG4gICAgfVxuICAgIGNvbnN0IHsgdGV4dHVyZSwgY2FudmFzQW5kQ29udGV4dCB9ID0gdGhpcy5jcmVhdGVUZXh0dXJlQW5kQ2FudmFzKFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gICAgdGhpcy5fcmVuZGVyZXIudGV4dHVyZS5pbml0U291cmNlKHRleHR1cmUuX3NvdXJjZSk7XG4gICAgQ2FudmFzUG9vbC5yZXR1cm5DYW52YXNBbmRDb250ZXh0KGNhbnZhc0FuZENvbnRleHQpO1xuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG4gIGNyZWF0ZVRleHR1cmVBbmRDYW52YXMob3B0aW9ucykge1xuICAgIGNvbnN0IHsgdGV4dCwgc3R5bGUgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiA/PyB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IG1lYXN1cmVkID0gQ2FudmFzVGV4dE1ldHJpY3MubWVhc3VyZVRleHQodGV4dCB8fCBcIiBcIiwgc3R5bGUpO1xuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC53aWR0aCkgKyBzdHlsZS5wYWRkaW5nICogMikgKiByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubWF4KDEsIG1lYXN1cmVkLmhlaWdodCkgKyBzdHlsZS5wYWRkaW5nICogMikgKiByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBjYW52YXNBbmRDb250ZXh0ID0gQ2FudmFzUG9vbC5nZXRPcHRpbWFsQ2FudmFzQW5kQ29udGV4dCh3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb25zdCB7IGNhbnZhcyB9ID0gY2FudmFzQW5kQ29udGV4dDtcbiAgICB0aGlzLnJlbmRlclRleHRUb0NhbnZhcyh0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgY2FudmFzQW5kQ29udGV4dCk7XG4gICAgY29uc3QgdGV4dHVyZSA9IGdldFBvMlRleHR1cmVGcm9tU291cmNlKGNhbnZhcywgd2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgaWYgKHN0eWxlLnRyaW0pIHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSBnZXRDYW52YXNCb3VuZGluZ0JveChjYW52YXMsIHJlc29sdXRpb24pO1xuICAgICAgdGV4dHVyZS5mcmFtZS5jb3B5RnJvbSh0cmltbWVkKTtcbiAgICAgIHRleHR1cmUudXBkYXRlVXZzKCk7XG4gICAgfVxuICAgIHJldHVybiB7IHRleHR1cmUsIGNhbnZhc0FuZENvbnRleHQgfTtcbiAgfVxuICBnZXRNYW5hZ2VkVGV4dHVyZSh0ZXh0KSB7XG4gICAgdGV4dC5fcmVzb2x1dGlvbiA9IHRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IHRleHQucmVzb2x1dGlvbjtcbiAgICBjb25zdCB0ZXh0S2V5ID0gdGV4dC5fZ2V0S2V5KCk7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldKSB7XG4gICAgICB0aGlzLl9pbmNyZWFzZVJlZmVyZW5jZUNvdW50KHRleHRLZXkpO1xuICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnRleHR1cmU7XG4gICAgfVxuICAgIGNvbnN0IHsgdGV4dHVyZSwgY2FudmFzQW5kQ29udGV4dCB9ID0gdGhpcy5jcmVhdGVUZXh0dXJlQW5kQ2FudmFzKHRleHQpO1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldID0ge1xuICAgICAgY2FudmFzQW5kQ29udGV4dCxcbiAgICAgIHRleHR1cmUsXG4gICAgICB1c2FnZUNvdW50OiAxXG4gICAgfTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfVxuICBfaW5jcmVhc2VSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0udXNhZ2VDb3VudCsrO1xuICB9XG4gIGRlY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSkge1xuICAgIGNvbnN0IGFjdGl2ZVRleHR1cmUgPSB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XTtcbiAgICBhY3RpdmVUZXh0dXJlLnVzYWdlQ291bnQtLTtcbiAgICBpZiAoYWN0aXZlVGV4dHVyZS51c2FnZUNvdW50ID09PSAwKSB7XG4gICAgICBDYW52YXNQb29sLnJldHVybkNhbnZhc0FuZENvbnRleHQoYWN0aXZlVGV4dHVyZS5jYW52YXNBbmRDb250ZXh0KTtcbiAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUoYWN0aXZlVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGFjdGl2ZVRleHR1cmUudGV4dHVyZS5zb3VyY2U7XG4gICAgICBzb3VyY2UucmVzb3VyY2UgPSBudWxsO1xuICAgICAgc291cmNlLnVwbG9hZE1ldGhvZElkID0gXCJ1bmtub3duXCI7XG4gICAgICBzb3VyY2UuYWxwaGFNb2RlID0gXCJuby1wcmVtdWx0aXBseS1hbHBoYVwiO1xuICAgICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0gPSBudWxsO1xuICAgIH1cbiAgfVxuICBnZXRSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnVzYWdlQ291bnQ7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGV4dCB0byBpdHMgY2FudmFzLCBhbmQgdXBkYXRlcyBpdHMgdGV4dHVyZS5cbiAgICpcbiAgICogQnkgZGVmYXVsdCB0aGlzIGlzIHVzZWQgaW50ZXJuYWxseSB0byBlbnN1cmUgdGhlIHRleHR1cmUgaXMgY29ycmVjdCBiZWZvcmUgcmVuZGVyaW5nLFxuICAgKiBidXQgaXQgY2FuIGJlIHVzZWQgY2FsbGVkIGV4dGVybmFsbHksIGZvciBleGFtcGxlIGZyb20gdGhpcyBjbGFzcyB0byAncHJlLWdlbmVyYXRlJyB0aGUgdGV4dHVyZSBmcm9tIGEgcGllY2Ugb2YgdGV4dCxcbiAgICogYW5kIHRoZW4gc2hhcmVkIGFjcm9zcyBtdWx0aXBsZSBTcHJpdGVzLlxuICAgKiBAcGFyYW0gdGV4dFxuICAgKiBAcGFyYW0gc3R5bGVcbiAgICogQHBhcmFtIHJlc29sdXRpb25cbiAgICogQHBhcmFtIGNhbnZhc0FuZENvbnRleHRcbiAgICovXG4gIHJlbmRlclRleHRUb0NhbnZhcyh0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgY2FudmFzQW5kQ29udGV4dCkge1xuICAgIGNvbnN0IHsgY2FudmFzLCBjb250ZXh0IH0gPSBjYW52YXNBbmRDb250ZXh0O1xuICAgIGNvbnN0IGZvbnQgPSBmb250U3RyaW5nRnJvbVRleHRTdHlsZShzdHlsZSk7XG4gICAgY29uc3QgbWVhc3VyZWQgPSBDYW52YXNUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0ZXh0IHx8IFwiIFwiLCBzdHlsZSk7XG4gICAgY29uc3QgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICBjb25zdCBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICBjb25zdCBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcbiAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIGNvbnRleHQucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nICogMjtcbiAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBtZWFzdXJlZC53aWR0aCArIDQgKyBwYWRkaW5nLCBtZWFzdXJlZC5oZWlnaHQgKyA0ICsgcGFkZGluZyk7XG4gICAgaWYgKHN0eWxlLl9zdHJva2U/LndpZHRoKSB7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZSA9IHN0eWxlLl9zdHJva2U7XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVN0eWxlLndpZHRoO1xuICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3R5bGUubWl0ZXJMaW1pdDtcbiAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHJva2VTdHlsZS5qb2luO1xuICAgICAgY29udGV4dC5saW5lQ2FwID0gc3Ryb2tlU3R5bGUuY2FwO1xuICAgIH1cbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgIGxldCBsaW5lUG9zaXRpb25YO1xuICAgIGxldCBsaW5lUG9zaXRpb25ZO1xuICAgIGNvbnN0IHBhc3Nlc0NvdW50ID0gc3R5bGUuZHJvcFNoYWRvdyA/IDIgOiAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc2VzQ291bnQ7ICsraSkge1xuICAgICAgY29uc3QgaXNTaGFkb3dQYXNzID0gc3R5bGUuZHJvcFNoYWRvdyAmJiBpID09PSAwO1xuICAgICAgY29uc3QgZHNPZmZzZXRUZXh0ID0gaXNTaGFkb3dQYXNzID8gTWF0aC5jZWlsKE1hdGgubWF4KDEsIGhlaWdodCkgKyBzdHlsZS5wYWRkaW5nICogMikgOiAwO1xuICAgICAgY29uc3QgZHNPZmZzZXRTaGFkb3cgPSBkc09mZnNldFRleHQgKiByZXNvbHV0aW9uO1xuICAgICAgaWYgKGlzU2hhZG93UGFzcykge1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgY29uc3Qgc2hhZG93T3B0aW9ucyA9IHN0eWxlLmRyb3BTaGFkb3c7XG4gICAgICAgIGNvbnN0IGRyb3BTaGFkb3dDb2xvciA9IHNoYWRvd09wdGlvbnMuY29sb3I7XG4gICAgICAgIGNvbnN0IGRyb3BTaGFkb3dBbHBoYSA9IHNoYWRvd09wdGlvbnMuYWxwaGE7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBDb2xvci5zaGFyZWQuc2V0VmFsdWUoZHJvcFNoYWRvd0NvbG9yKS5zZXRBbHBoYShkcm9wU2hhZG93QWxwaGEpLnRvUmdiYVN0cmluZygpO1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93Qmx1ciA9IHNoYWRvd09wdGlvbnMuYmx1ciAqIHJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGRyb3BTaGFkb3dEaXN0YW5jZSA9IHNoYWRvd09wdGlvbnMuZGlzdGFuY2UgKiByZXNvbHV0aW9uO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc2hhZG93T3B0aW9ucy5hbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHNoYWRvd09wdGlvbnMuYW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlICsgZHNPZmZzZXRTaGFkb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gc3R5bGUuX2ZpbGw/LmFscGhhID8/IDE7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc3R5bGUuX2ZpbGwgPyBnZXRDYW52YXNGaWxsU3R5bGUoc3R5bGUuX2ZpbGwsIGNvbnRleHQpIDogbnVsbDtcbiAgICAgICAgaWYgKHN0eWxlLl9zdHJva2U/LndpZHRoKSB7XG4gICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGdldENhbnZhc0ZpbGxTdHlsZShzdHlsZS5fc3Ryb2tlLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJibGFja1wiO1xuICAgICAgfVxuICAgICAgbGV0IGxpbmVQb3NpdGlvbllTaGlmdCA9IChsaW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZm9udFNpemUpIC8gMjtcbiAgICAgIGlmIChsaW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZm9udFNpemUgPCAwKSB7XG4gICAgICAgIGxpbmVQb3NpdGlvbllTaGlmdCA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHN0eWxlLl9zdHJva2U/LndpZHRoID8/IDA7XG4gICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgbGluZXMubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHJva2VXaWR0aCAvIDI7XG4gICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHJva2VXaWR0aCAvIDIgKyBpMiAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQgKyBsaW5lUG9zaXRpb25ZU2hpZnQ7XG4gICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2kyXTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJjZW50ZXJcIikge1xuICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaTJdKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLl9zdHJva2U/LndpZHRoKSB7XG4gICAgICAgICAgdGhpcy5fZHJhd0xldHRlclNwYWNpbmcoXG4gICAgICAgICAgICBsaW5lc1tpMl0sXG4gICAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICAgIGNhbnZhc0FuZENvbnRleHQsXG4gICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLl9maWxsICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB0aGlzLl9kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgIGxpbmVzW2kyXSxcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgY2FudmFzQW5kQ29udGV4dCxcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLFxuICAgICAgICAgICAgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIHRleHQgd2l0aCBsZXR0ZXItc3BhY2luZy5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAqIEBwYXJhbSBzdHlsZVxuICAgKiBAcGFyYW0gY2FudmFzQW5kQ29udGV4dFxuICAgKiBAcGFyYW0geCAtIEhvcml6b250YWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgKiBAcGFyYW0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICogQHBhcmFtIGlzU3Ryb2tlIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAqICB0ZXh0PyBJZiBub3QsIGl0J3MgZm9yIHRoZSBpbnNpZGUgZmlsbFxuICAgKi9cbiAgX2RyYXdMZXR0ZXJTcGFjaW5nKHRleHQsIHN0eWxlLCBjYW52YXNBbmRDb250ZXh0LCB4LCB5LCBpc1N0cm9rZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgeyBjb250ZXh0IH0gPSBjYW52YXNBbmRDb250ZXh0O1xuICAgIGNvbnN0IGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuICAgIGxldCB1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nID0gZmFsc2U7XG4gICAgaWYgKENhbnZhc1RleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQpIHtcbiAgICAgIGlmIChDYW52YXNUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgIGNvbnRleHQubGV0dGVyU3BhY2luZyA9IGAke2xldHRlclNwYWNpbmd9cHhgO1xuICAgICAgICBjb250ZXh0LnRleHRMZXR0ZXJTcGFjaW5nID0gYCR7bGV0dGVyU3BhY2luZ31weGA7XG4gICAgICAgIHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5sZXR0ZXJTcGFjaW5nID0gXCIwcHhcIjtcbiAgICAgICAgY29udGV4dC50ZXh0TGV0dGVyU3BhY2luZyA9IFwiMHB4XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwIHx8IHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcpIHtcbiAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICBjb25zdCBzdHJpbmdBcnJheSA9IENhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKHRleHQpO1xuICAgIGxldCBwcmV2aW91c1dpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICBsZXQgY3VycmVudFdpZHRoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICB9XG4gICAgICBsZXQgdGV4dFN0ciA9IFwiXCI7XG4gICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraikge1xuICAgICAgICB0ZXh0U3RyICs9IHN0cmluZ0FycmF5W2pdO1xuICAgICAgfVxuICAgICAgY3VycmVudFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0U3RyKS53aWR0aDtcbiAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBwcmV2aW91c1dpZHRoIC0gY3VycmVudFdpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgIHByZXZpb3VzV2lkdGggPSBjdXJyZW50V2lkdGg7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fYWN0aXZlVGV4dHVyZXMgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQ2FudmFzVGV4dFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiY2FudmFzVGV4dFwiXG59O1xuXG5leHBvcnQgeyBDYW52YXNUZXh0U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUZXh0U3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRQaXBlIH0gZnJvbSAnLi9jYW52YXMvQ2FudmFzVGV4dFBpcGUubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRTeXN0ZW0gfSBmcm9tICcuL2NhbnZhcy9DYW52YXNUZXh0U3lzdGVtLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoQ2FudmFzVGV4dFN5c3RlbSk7XG5leHRlbnNpb25zLmFkZChDYW52YXNUZXh0UGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB2YWx1ZXNUb0l0ZXJhdGVGb3JLZXlzID0gW1xuICBcImFsaWduXCIsXG4gIFwiYnJlYWtXb3Jkc1wiLFxuICBcImNzc092ZXJyaWRlc1wiLFxuICBcImZvbnRWYXJpYW50XCIsXG4gIFwiZm9udFdlaWdodFwiLFxuICBcImxlYWRpbmdcIixcbiAgXCJsZXR0ZXJTcGFjaW5nXCIsXG4gIFwibGluZUhlaWdodFwiLFxuICBcInBhZGRpbmdcIixcbiAgXCJ0ZXh0QmFzZWxpbmVcIixcbiAgXCJ0cmltXCIsXG4gIFwid2hpdGVTcGFjZVwiLFxuICBcIndvcmRXcmFwXCIsXG4gIFwid29yZFdyYXBXaWR0aFwiLFxuICBcImZvbnRGYW1pbHlcIixcbiAgXCJmb250U3R5bGVcIixcbiAgXCJmb250U2l6ZVwiXG5dO1xuZnVuY3Rpb24gZ2VuZXJhdGVUZXh0U3R5bGVLZXkoc3R5bGUpIHtcbiAgY29uc3Qga2V5ID0gW107XG4gIGxldCBpbmRleCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzVG9JdGVyYXRlRm9yS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByb3AgPSBgXyR7dmFsdWVzVG9JdGVyYXRlRm9yS2V5c1tpXX1gO1xuICAgIGtleVtpbmRleCsrXSA9IHN0eWxlW3Byb3BdO1xuICB9XG4gIGluZGV4ID0gYWRkRmlsbFN0eWxlS2V5KHN0eWxlLl9maWxsLCBrZXksIGluZGV4KTtcbiAgaW5kZXggPSBhZGRTdG9rZVN0eWxlS2V5KHN0eWxlLl9zdHJva2UsIGtleSwgaW5kZXgpO1xuICBpbmRleCA9IGFkZERyb3BTaGFkb3dLZXkoc3R5bGUuZHJvcFNoYWRvdywga2V5LCBpbmRleCk7XG4gIHJldHVybiBrZXkuam9pbihcIi1cIik7XG59XG5mdW5jdGlvbiBhZGRGaWxsU3R5bGVLZXkoZmlsbFN0eWxlLCBrZXksIGluZGV4KSB7XG4gIGlmICghZmlsbFN0eWxlKVxuICAgIHJldHVybiBpbmRleDtcbiAga2V5W2luZGV4KytdID0gZmlsbFN0eWxlLmNvbG9yO1xuICBrZXlbaW5kZXgrK10gPSBmaWxsU3R5bGUuYWxwaGE7XG4gIGtleVtpbmRleCsrXSA9IGZpbGxTdHlsZS5maWxsPy5zdHlsZUtleTtcbiAgcmV0dXJuIGluZGV4O1xufVxuZnVuY3Rpb24gYWRkU3Rva2VTdHlsZUtleShzdHJva2VTdHlsZSwga2V5LCBpbmRleCkge1xuICBpZiAoIXN0cm9rZVN0eWxlKVxuICAgIHJldHVybiBpbmRleDtcbiAgaW5kZXggPSBhZGRGaWxsU3R5bGVLZXkoc3Ryb2tlU3R5bGUsIGtleSwgaW5kZXgpO1xuICBrZXlbaW5kZXgrK10gPSBzdHJva2VTdHlsZS53aWR0aDtcbiAga2V5W2luZGV4KytdID0gc3Ryb2tlU3R5bGUuYWxpZ25tZW50O1xuICBrZXlbaW5kZXgrK10gPSBzdHJva2VTdHlsZS5jYXA7XG4gIGtleVtpbmRleCsrXSA9IHN0cm9rZVN0eWxlLmpvaW47XG4gIGtleVtpbmRleCsrXSA9IHN0cm9rZVN0eWxlLm1pdGVyTGltaXQ7XG4gIHJldHVybiBpbmRleDtcbn1cbmZ1bmN0aW9uIGFkZERyb3BTaGFkb3dLZXkoZHJvcFNoYWRvdywga2V5LCBpbmRleCkge1xuICBpZiAoIWRyb3BTaGFkb3cpXG4gICAgcmV0dXJuIGluZGV4O1xuICBrZXlbaW5kZXgrK10gPSBkcm9wU2hhZG93LmFscGhhO1xuICBrZXlbaW5kZXgrK10gPSBkcm9wU2hhZG93LmFuZ2xlO1xuICBrZXlbaW5kZXgrK10gPSBkcm9wU2hhZG93LmJsdXI7XG4gIGtleVtpbmRleCsrXSA9IGRyb3BTaGFkb3cuZGlzdGFuY2U7XG4gIGtleVtpbmRleCsrXSA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShkcm9wU2hhZG93LmNvbG9yKS50b051bWJlcigpO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlVGV4dFN0eWxlS2V5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZVRleHRTdHlsZUtleS5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4uLy4uL2NvbnRhaW5lci9ib3VuZHMvQm91bmRzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbmZ1bmN0aW9uIGdldFBvMlRleHR1cmVGcm9tU291cmNlKGltYWdlLCB3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gIGNvbnN0IGJvdW5kcyA9IHRlbXBCb3VuZHM7XG4gIGJvdW5kcy5taW5YID0gMDtcbiAgYm91bmRzLm1pblkgPSAwO1xuICBib3VuZHMubWF4WCA9IGltYWdlLndpZHRoIC8gcmVzb2x1dGlvbiB8IDA7XG4gIGJvdW5kcy5tYXhZID0gaW1hZ2UuaGVpZ2h0IC8gcmVzb2x1dGlvbiB8IDA7XG4gIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICBib3VuZHMud2lkdGgsXG4gICAgYm91bmRzLmhlaWdodCxcbiAgICByZXNvbHV0aW9uLFxuICAgIGZhbHNlXG4gICk7XG4gIHRleHR1cmUuc291cmNlLnVwbG9hZE1ldGhvZElkID0gXCJpbWFnZVwiO1xuICB0ZXh0dXJlLnNvdXJjZS5yZXNvdXJjZSA9IGltYWdlO1xuICB0ZXh0dXJlLnNvdXJjZS5hbHBoYU1vZGUgPSBcInByZW11bHRpcGx5LWFscGhhLW9uLXVwbG9hZFwiO1xuICB0ZXh0dXJlLmZyYW1lLndpZHRoID0gd2lkdGggLyByZXNvbHV0aW9uO1xuICB0ZXh0dXJlLmZyYW1lLmhlaWdodCA9IGhlaWdodCAvIHJlc29sdXRpb247XG4gIHRleHR1cmUuc291cmNlLmVtaXQoXCJ1cGRhdGVcIiwgdGV4dHVyZS5zb3VyY2UpO1xuICB0ZXh0dXJlLnVwZGF0ZVV2cygpO1xuICByZXR1cm4gdGV4dHVyZTtcbn1cblxuZXhwb3J0IHsgZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFBvMlRleHR1cmVGcm9tU291cmNlLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJSZXNpemVQbHVnaW4iLCJpbml0Iiwib3B0aW9ucyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidGhpcyIsInNldCIsImRvbSIsImdsb2JhbFRoaXMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicXVldWVSZXNpemUiLCJfcmVzaXplVG8iLCJhZGRFdmVudExpc3RlbmVyIiwicmVzaXplIiwiZ2V0IiwiX2NhbmNlbFJlc2l6ZSIsIl9yZXNpemVJZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInJlbmRlcmVyIiwicmVuZGVyIiwicmVzaXplVG8iLCJkZXN0cm95IiwiZXh0ZW5zaW9uIiwiQXBwbGljYXRpb24iLCJUaWNrZXJQbHVnaW4iLCJhc3NpZ24iLCJhdXRvU3RhcnQiLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwicmVtb3ZlIiwiYWRkIiwiTE9XIiwic3RvcCIsInN0YXJ0IiwiVGlja2VyIiwic2hhcmVkIiwib2xkVGlja2VyIiwiRmlsdGVyUGlwZSIsImNvbnN0cnVjdG9yIiwiX3JlbmRlcmVyIiwicHVzaCIsImZpbHRlckVmZmVjdCIsImNvbnRhaW5lciIsImluc3RydWN0aW9uU2V0IiwicmVuZGVyUGlwZXMiLCJiYXRjaCIsImJyZWFrIiwicmVuZGVyUGlwZUlkIiwiY2FuQnVuZGxlIiwiYWN0aW9uIiwicG9wIiwiX2ZpbHRlckVmZmVjdCIsIl9jb250YWluZXIiLCJleGVjdXRlIiwiaW5zdHJ1Y3Rpb24iLCJmaWx0ZXIiLCJ0eXBlIiwiV2ViR0xQaXBlcyIsIldlYkdQVVBpcGVzIiwiQ2FudmFzUGlwZXMiLCJuYW1lIiwidGVtcE1hdHJpeCIsIk1hdHJpeCIsImdldEZhc3RHbG9iYWxCb3VuZHMiLCJ0YXJnZXQiLCJib3VuZHMiLCJjbGVhciIsIl9nZXRHbG9iYWxCb3VuZHNSZWN1cnNpdmUiLCJpc1ZhbGlkIiwicmVuZGVyR3JvdXAiLCJhcHBseU1hdHJpeCIsImxvY2FsVHJhbnNmb3JtIiwicGFyZW50UmVuZGVyR3JvdXAiLCJ3b3JsZFRyYW5zZm9ybSIsImxvY2FsRGlzcGxheVN0YXR1cyIsIm1lYXN1cmFibGUiLCJtYW5hZ2VFZmZlY3RzIiwiZWZmZWN0cyIsImxlbmd0aCIsImxvY2FsQm91bmRzIiwiYm91bmRzQXJlYSIsImFkZFJlY3QiLCJ2aWV3Qm91bmRzIiwiYWRkRnJhbWUiLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwiZ3JvdXBUcmFuc2Zvcm0iLCJjaGlsZHJlbiIsImkiLCJhZHZhbmNlZCIsImFkZEJvdW5kcyIsImNvcHlUbyIsImludmVydCIsInJlbGF0aXZlR3JvdXBUcmFuc2Zvcm0iLCJyZXR1cm4iLCJxdWFkR2VvbWV0cnkiLCJHZW9tZXRyeSIsImF0dHJpYnV0ZXMiLCJhUG9zaXRpb24iLCJidWZmZXIiLCJGbG9hdDMyQXJyYXkiLCJmb3JtYXQiLCJzdHJpZGUiLCJvZmZzZXQiLCJpbmRleEJ1ZmZlciIsIlVpbnQzMkFycmF5IiwiRmlsdGVyU3lzdGVtIiwiX2ZpbHRlclN0YWNrSW5kZXgiLCJfZmlsdGVyU3RhY2siLCJfZmlsdGVyR2xvYmFsVW5pZm9ybXMiLCJVbmlmb3JtR3JvdXAiLCJ1SW5wdXRTaXplIiwidmFsdWUiLCJ1SW5wdXRQaXhlbCIsInVJbnB1dENsYW1wIiwidU91dHB1dEZyYW1lIiwidUdsb2JhbEZyYW1lIiwidU91dHB1dFRleHR1cmUiLCJfZ2xvYmFsRmlsdGVyQmluZEdyb3VwIiwiQmluZEdyb3VwIiwiYWN0aXZlQmFja1RleHR1cmUiLCJfYWN0aXZlRmlsdGVyRGF0YSIsImJhY2tUZXh0dXJlIiwiZmlsdGVycyIsIl9nZXRGaWx0ZXJEYXRhIiwiZmlsdGVyRGF0YSIsInNraXAiLCJyZW5kZXJhYmxlcyIsIm1hdHJpeCIsInJlbmRlcmFibGUiLCJnbG9iYWxEaXNwbGF5U3RhdHVzIiwiZ2V0R2xvYmFsUmVuZGVyYWJsZUJvdW5kcyIsImZpbHRlckFyZWEiLCJjb2xvclRleHR1cmVTb3VyY2UiLCJyZW5kZXJUYXJnZXQiLCJjb2xvclRleHR1cmUiLCJzb3VyY2UiLCJyZXNvbHV0aW9uIiwiSW5maW5pdHkiLCJwYWRkaW5nIiwiYW50aWFsaWFzIiwiYmxlbmRSZXF1aXJlZCIsImVuYWJsZWQiLCJNYXRoIiwibWluIiwiX3Jlc29sdXRpb24iLCJjb21wYXRpYmxlUmVuZGVyZXJzIiwiYmFja0J1ZmZlciIsInVzZUJhY2tCdWZmZXIiLCJ3YXJuIiwidmlld1BvcnQiLCJyb290Vmlld1BvcnQiLCJzY2FsZSIsImZpdEJvdW5kcyIsImNlaWwiLCJwYWQiLCJpc1Bvc2l0aXZlIiwicHJldmlvdXNSZW5kZXJTdXJmYWNlIiwicmVuZGVyU3VyZmFjZSIsImlucHV0VGV4dHVyZSIsIlRleHR1cmVQb29sIiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJiaW5kIiwiZ2xvYmFsVW5pZm9ybXMiLCJUZXh0dXJlIiwiRU1QVFkiLCJmaW5pc2hSZW5kZXJQYXNzIiwicHJldmlvdXNCb3VuZHMiLCJnZXRSZW5kZXJUYXJnZXQiLCJnZXRCYWNrVGV4dHVyZSIsInNldFJlc291cmNlIiwic3R5bGUiLCJhcHBseSIsInJldHVyblRleHR1cmUiLCJmbGlwIiwiZmxvcCIsInQiLCJsYXN0UmVuZGVyU3VyZmFjZSIsImJhY2tncm91bmRSZXNvbHV0aW9uIiwieCIsInkiLCJmbG9vciIsImNvcHlUb1RleHR1cmUiLCJhcHBseUZpbHRlciIsImlucHV0Iiwib3V0cHV0IiwiUG9pbnQiLCJpc0ZpbmFsVGFyZ2V0Iiwicm9vdFJlbmRlclRhcmdldCIsImN1cnJlbnRJbmRleCIsImZpbHRlclVuaWZvcm1zIiwidW5pZm9ybXMiLCJvdXRwdXRGcmFtZSIsImlucHV0U2l6ZSIsImlucHV0UGl4ZWwiLCJpbnB1dENsYW1wIiwiZ2xvYmFsRnJhbWUiLCJvdXRwdXRUZXh0dXJlIiwibGFzdEluZGV4IiwiZmlsdGVyRGF0YTIiLCJmcmFtZSIsInBpeGVsV2lkdGgiLCJwaXhlbEhlaWdodCIsInJvb3RUZXh0dXJlIiwiaXNSb290IiwidXBkYXRlIiwidW5pZm9ybUJhdGNoIiwiYmF0Y2hVbmlmb3JtcyIsImdldFVib1Jlc291cmNlIiwiZ3JvdXBzIiwiZW5jb2RlciIsImRyYXciLCJnZW9tZXRyeSIsInNoYWRlciIsInN0YXRlIiwiX3N0YXRlIiwidG9wb2xvZ3kiLCJXRUJHTCIsIkJvdW5kcyIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsIm91dHB1dE1hdHJpeCIsInNwcml0ZSIsImRhdGEiLCJtYXBwZWRNYXRyaXgiLCJfc291cmNlIiwicHJlcGVuZCIsInRleHR1cmUiLCJ0cmFuc2xhdGUiLCJhbmNob3IiLCJXZWJHTFN5c3RlbSIsIldlYkdQVVN5c3RlbSIsImxvY2FsVW5pZm9ybUJpdCIsInZlcnRleCIsImhlYWRlciIsIm1haW4iLCJlbmQiLCJsb2NhbFVuaWZvcm1CaXRHcm91cDIiLCJyZXBsYWNlIiwibG9jYWxVbmlmb3JtQml0R2wiLCJibGVuZE1vZGVJZHMiLCJub3JtYWwiLCJtdWx0aXBseSIsInNjcmVlbiIsIm92ZXJsYXkiLCJlcmFzZSIsIm1heCIsIl9TdGF0ZSIsImJsZW5kTW9kZSIsInBvbHlnb25PZmZzZXQiLCJibGVuZCIsImRlcHRoTWFzayIsIm9mZnNldHMiLCJjdWxsTW9kZSIsImN1bGxpbmciLCJjbG9ja3dpc2VGcm9udEZhY2UiLCJkZXB0aFRlc3QiLCJfYmxlbmRNb2RlIiwiX2JsZW5kTW9kZUlkIiwiX3BvbHlnb25PZmZzZXQiLCJ0b1N0cmluZyIsImZvcjJkIiwiZGVmYXVsdDJkIiwiU3RhdGUiLCJDYW52YXNQb29sIiwiY2FudmFzT3B0aW9ucyIsIl9jYW52YXNQb29sIiwiY3JlYXRlIiwiZW5hYmxlRnVsbFNjcmVlbiIsIl9jcmVhdGVDYW52YXNBbmRDb250ZXh0IiwiY2FudmFzIiwiY3JlYXRlQ2FudmFzIiwiY29udGV4dCIsImdldENvbnRleHQiLCJnZXRPcHRpbWFsQ2FudmFzQW5kQ29udGV4dCIsIm1pbldpZHRoIiwibWluSGVpZ2h0Iiwia2V5IiwiY2FudmFzQW5kQ29udGV4dCIsInJldHVybkNhbnZhc0FuZENvbnRleHQiLCJjb3VudCIsInRleHR1cmVPcHRpb25zIiwiX3Bvb2xLZXlIYXNoIiwiX3RleHR1cmVQb29sIiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmVTb3VyY2UiLCJhdXRvR2FyYmFnZUNvbGxlY3QiLCJsYWJlbCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsInBvMldpZHRoIiwicG8ySGVpZ2h0IiwidXBkYXRlVXZzIiwidWlkIiwiZ2V0U2FtZVNpemVUZXh0dXJlIiwicmVuZGVyVGV4dHVyZSIsImRlc3Ryb3lUZXh0dXJlcyIsInRleHR1cmVzIiwiaiIsImNvbG9yMzJCaXRUb1VuaWZvcm0iLCJhYmdyIiwib3V0IiwiYWxwaGEiLCJHcmFwaGljc1BpcGUiLCJhZGFwdG9yIiwiX2dyYXBoaWNzQmF0Y2hlc0hhc2giLCJfZGVzdHJveVJlbmRlcmFibGVCb3VuZCIsImRlc3Ryb3lSZW5kZXJhYmxlIiwiX2FkYXB0b3IiLCJ2YWxpZGF0ZVJlbmRlcmFibGUiLCJncmFwaGljcyIsIndhc0JhdGNoZWQiLCJncHVDb250ZXh0IiwiZ3JhcGhpY3NDb250ZXh0IiwidXBkYXRlR3B1Q29udGV4dCIsImlzQmF0Y2hhYmxlIiwiYWRkUmVuZGVyYWJsZSIsIl9kaWRHcmFwaGljc1VwZGF0ZSIsIl9yZWJ1aWxkIiwiX2FkZFRvQmF0Y2hlciIsInVwZGF0ZVJlbmRlcmFibGUiLCJiYXRjaGVzIiwiX2JhdGNoZXIiLCJ1cGRhdGVFbGVtZW50IiwiX3JlbW92ZUJhdGNoRm9yUmVuZGVyYWJsZSIsIm9mZiIsImlzUmVuZGVyYWJsZSIsImdldEdwdUNvbnRleHQiLCJjdXN0b21TaGFkZXIiLCJncm91cEJsZW5kTW9kZSIsImxvY2FsVW5pZm9ybXMiLCJyZXNvdXJjZXMiLCJ1VHJhbnNmb3JtTWF0cml4IiwidVJvdW5kIiwiX3JvdW5kUGl4ZWxzIiwiZ3JvdXBDb2xvckFscGhhIiwidUNvbG9yIiwiX2luaXRCYXRjaGVzRm9yUmVuZGVyYWJsZSIsImJhdGNoZWQiLCJiYXRjaFBpcGUiLCJfZ2V0QmF0Y2hlc0ZvclJlbmRlcmFibGUiLCJhZGRUb0JhdGNoIiwicm91bmRQaXhlbHMiLCJtYXAiLCJiYXRjaENsb25lIiwiQmF0Y2hhYmxlR3JhcGhpY3MiLCJvbiIsImdyYXBoaWNzVWlkIiwiZm9yRWFjaCIsIkdyYXBoaWNzQ29udGV4dFN5c3RlbSIsIk1lc2hQaXBlIiwibG9jYWxVbmlmb3Jtc0JpbmRHcm91cCIsIl9tZXNoRGF0YUhhc2giLCJfZ3B1QmF0Y2hhYmxlTWVzaEhhc2giLCJtZXNoIiwibWVzaERhdGEiLCJfZ2V0TWVzaERhdGEiLCJpc0JhdGNoZWQiLCJfZ2VvbWV0cnkiLCJpbmRpY2VzIiwiaW5kZXhTaXplIiwicG9zaXRpb25zIiwidmVydGV4U2l6ZSIsImJhdGNoYWJsZU1lc2giLCJfZ2V0QmF0Y2hhYmxlTWVzaCIsImNoZWNrQW5kVXBkYXRlVGV4dHVyZSIsImJhdGNoZXIiLCJncHVCYXRjaGFibGVNZXNoIiwiX3RleHR1cmUiLCJncHVNZXNoIiwiZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZCIsIl9pbml0TWVzaERhdGEiLCJfaW5pdEJhdGNoYWJsZU1lc2giLCJCYXRjaGFibGVNZXNoIiwidHJhbnNmb3JtIiwiYmF0Y2hlck5hbWUiLCJwYWNrQXNRdWFkIiwiaW5kZXhPZmZzZXQiLCJhdHRyaWJ1dGVPZmZzZXQiLCJfYmF0Y2giLCJfdXZVcGRhdGVJZCIsIl90ZXh0dXJlTWF0cml4VXBkYXRlSWQiLCJyZXNldCIsInV2cyIsInV2QnVmZmVyIiwiZ2V0QnVmZmVyIiwidHJhbnNmb3JtZWRVdnMiLCJ0ZXh0dXJlTWF0cml4IiwiaXNTaW1wbGUiLCJfdHJhbnNmb3JtZWRVdnMiLCJfdXBkYXRlSUQiLCJtdWx0aXBseVV2cyIsImNvbG9yIiwiYXR0cmlidXRlU2l6ZSIsIl9NZXNoR2VvbWV0cnkiLCJhcmdzIiwiZGVmYXVsdE9wdGlvbnMiLCJzaHJpbmtUb0ZpdCIsInNocmlua0J1ZmZlcnNUb0ZpdCIsInN1cGVyIiwidXNhZ2UiLCJWRVJURVgiLCJDT1BZX0RTVCIsImFVViIsIklOREVYIiwiYmF0Y2hNb2RlIiwiTWVzaEdlb21ldHJ5IiwiX1BsYW5lR2VvbWV0cnkiLCJkZXByZWNhdGlvbiIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsImJ1aWxkIiwidG90YWwiLCJ2ZXJ0cyIsInNpemVYIiwic2l6ZVkiLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUyIiwidmFsdWUzIiwidmFsdWU0IiwiYnVmZmVycyIsIlBsYW5lR2VvbWV0cnkiLCJfTmluZVNsaWNlR2VvbWV0cnkiLCJfb3JpZ2luYWxXaWR0aCIsIm9yaWdpbmFsV2lkdGgiLCJfb3JpZ2luYWxIZWlnaHQiLCJvcmlnaW5hbEhlaWdodCIsIl9sZWZ0V2lkdGgiLCJsZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsInJpZ2h0V2lkdGgiLCJfdG9wSGVpZ2h0IiwidG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsImJvdHRvbUhlaWdodCIsInVwZGF0ZVBvc2l0aW9ucyIsInciLCJzY2FsZVciLCJoIiwic2NhbGVIIiwiX3V2dyIsIl91dmgiLCJOaW5lU2xpY2VHZW9tZXRyeSIsIk5pbmVTbGljZVNwcml0ZVBpcGUiLCJfZ3B1U3ByaXRlSGFzaCIsImdwdVNwcml0ZSIsIl9nZXRHcHVTcHJpdGUiLCJfZGlkU3ByaXRlVXBkYXRlIiwiX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZSIsImJhdGNoYWJsZVNwcml0ZSIsIl9pbml0R1BVU3ByaXRlIiwidGlsaW5nQml0IiwiZnJhZ21lbnQiLCJ0aWxpbmdCaXRHbCIsImdwdVByb2dyYW0iLCJnbFByb2dyYW0iLCJUaWxpbmdTcHJpdGVTaGFkZXIiLCJTaGFkZXIiLCJiaXRzIiwicm91bmRQaXhlbHNCaXQiLCJ0aWxpbmdVbmlmb3JtcyIsInVNYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwidVRleHR1cmVUcmFuc2Zvcm0iLCJ1U2l6ZUFuY2hvciIsInVUZXh0dXJlIiwidVNhbXBsZXIiLCJ1cGRhdGVVbmlmb3JtcyIsImFuY2hvclgiLCJhbmNob3JZIiwidGV4dHVyZVdpZHRoIiwidGV4dHVyZUhlaWdodCIsImEiLCJiIiwiYyIsImQiLCJ0eCIsInR5IiwibWFwQ29vcmQiLCJRdWFkR2VvbWV0cnkiLCJzaGFyZWRRdWFkIiwiVGlsaW5nU3ByaXRlUGlwZSIsIl90aWxpbmdTcHJpdGVEYXRhSGFzaCIsInRpbGluZ1Nwcml0ZURhdGEiLCJfZ2V0VGlsaW5nU3ByaXRlRGF0YSIsImNvdWxkQmF0Y2giLCJjYW5CYXRjaCIsIl91cGRhdGVDYW5CYXRjaCIsInRpbGluZ1Nwcml0ZSIsIl9kaWRUaWxpbmdTcHJpdGVVcGRhdGUiLCJfdXBkYXRlQmF0Y2hhYmxlTWVzaCIsImJpbmRHcm91cCIsIl90aWxlVHJhbnNmb3JtIiwiX2luaXRUaWxpbmdTcHJpdGVEYXRhIiwic2xpY2UiLCJyZW5kZXJhYmxlRGF0YSIsImFkZHJlc3NNb2RlIiwiX2FwcGx5QW5jaG9yVG9UZXh0dXJlIiwiY29weUZyb20iLCJhcnJheSIsImluZGV4Iiwic2l6ZSIsInNldFV2cyIsInNldFBvc2l0aW9ucyIsIl9ub25Qb3dPZjJ3cmFwcGluZyIsInN1cHBvcnRzIiwibm9uUG93T2Yyd3JhcHBpbmciLCJpc1Bvd2VyT2ZUd28iLCJCYXRjaGFibGVTcHJpdGUiLCJfYXR0cmlidXRlU3RhcnQiLCJsb2NhbFVuaWZvcm1NU0RGQml0IiwibG9jYWxVbmlmb3JtTVNERkJpdEdsIiwibVNERkJpdCIsIm1TREZCaXRHbCIsIlNkZlNoYWRlciIsInVEaXN0YW5jZSIsIm1heFRleHR1cmVzIiwiY29sb3JCaXQiLCJnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdCIsImJhdGNoU2FtcGxlcnMiLCJnZXRCYXRjaFNhbXBsZXJzVW5pZm9ybUdyb3VwIiwiQWJzdHJhY3RCaXRtYXBGb250IiwiYXJndW1lbnRzIiwiY2hhcnMiLCJsaW5lSGVpZ2h0IiwiZm9udEZhbWlseSIsImZvbnRNZXRyaWNzIiwiZm9udFNpemUiLCJhc2NlbnQiLCJkZXNjZW50IiwiYmFzZUxpbmVPZmZzZXQiLCJkaXN0YW5jZUZpZWxkIiwicmFuZ2UiLCJwYWdlcyIsImFwcGx5RmlsbEFzVGludCIsImJhc2VNZWFzdXJlbWVudEZvbnRTaXplIiwiYmFzZVJlbmRlcmVkRm9udFNpemUiLCJmb250IiwicGFnZVRleHR1cmVzIiwiZGlzdGFuY2VGaWVsZFJhbmdlIiwiZGlzdGFuY2VGaWVsZFR5cGUiLCJlbWl0IiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicGFnZSIsInJlc29sdmVDaGFyYWN0ZXJzIiwicmVzdWx0IiwiaXRlbSIsIkFycmF5IiwiaXNBcnJheSIsIkVycm9yIiwic3RhcnRDb2RlIiwiY2hhckNvZGVBdCIsImVuZENvZGUiLCJpMiIsImoyIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiZnJvbSIsIl9EeW5hbWljQml0bWFwRm9udCIsIl9wYWRkaW5nIiwiX21lYXN1cmVDYWNoZSIsIl9jdXJyZW50Q2hhcnMiLCJfY3VycmVudFgiLCJfY3VycmVudFkiLCJfY3VycmVudFBhZ2VJbmRleCIsIl9za2lwS2VybmluZyIsImR5bmFtaWNPcHRpb25zIiwiX3RleHR1cmVTaXplIiwidGV4dHVyZVNpemUiLCJfbWlwbWFwIiwibWlwbWFwIiwiY2xvbmUiLCJvdmVycmlkZUZpbGwiLCJfZmlsbCIsIldISVRFIiwiZmlsbCIsInJlcXVlc3RlZEZvbnRTaXplIiwiZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUiLCJvdmVycmlkZVNpemUiLCJfc3Ryb2tlIiwiX3N0eWxlIiwic2tpcEtlcm5pbmciLCJDYW52YXNUZXh0TWV0cmljcyIsIm1lYXN1cmVGb250IiwiZW5zdXJlQ2hhcmFjdGVycyIsImNoYXJMaXN0IiwiY2hhciIsImluY2x1ZGVzIiwic2VsZiIsImluZGV4T2YiLCJwYWdlRGF0YSIsIl9uZXh0UGFnZSIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJmb250U2NhbGUiLCJ3aWR0aFNjYWxlIiwiZm9udFN0eWxlIiwibWF4Q2hhckhlaWdodCIsInNraXBUZXh0dXJlIiwibWV0cmljcyIsIm1lYXN1cmVUZXh0IiwicGFkZGVkV2lkdGgiLCJwYWRkZWRIZWlnaHQiLCJwYWdlRGF0YTIiLCJ4QWR2YW5jZSIsImRyb3BTaGFkb3ciLCJkaXN0YW5jZSIsImlkIiwiY29kZVBvaW50QXQiLCJ4T2Zmc2V0IiwieU9mZnNldCIsImtlcm5pbmciLCJfZHJhd0dseXBoIiwicHgiLCJweSIsIlJlY3RhbmdsZSIsIl9hcHBseUtlcm5pbmciLCJuZXdDaGFycyIsIm1lYXN1cmVDYWNoZSIsImZpcnN0Iiwic2Vjb25kIiwiYzEiLCJjMiIsImFtb3VudCIsInRleHR1cmVSZXNvbHV0aW9uIiwiX3NldHVwQ29udGV4dCIsIkltYWdlU291cmNlIiwicmVzb3VyY2UiLCJhbHBoYU1vZGUiLCJhdXRvR2VuZXJhdGVNaXBtYXBzIiwidGV4dEJhc2VsaW5lIiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwibGluZVdpZHRoIiwibGluZUpvaW4iLCJqb2luIiwibWl0ZXJMaW1pdCIsInN0cm9rZVN0eWxlIiwiZ2V0Q2FudmFzRmlsbFN0eWxlIiwiZmlsbFN0eWxlIiwic2hhZG93T3B0aW9ucyIsInJnYiIsIkNvbG9yIiwic2V0VmFsdWUiLCJ0b0FycmF5IiwiZHJvcFNoYWRvd0JsdXIiLCJibHVyIiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsImNvcyIsImFuZ2xlIiwic2hhZG93T2Zmc2V0WSIsInNpbiIsInRleHQiLCJmb250UHJvcGVydGllcyIsInN0cm9rZVRleHQiLCJmaWxsVGV4dCIsIlRleHRTdHlsZSIsIkR5bmFtaWNCaXRtYXBGb250IiwiZ2V0Qml0bWFwVGV4dExheW91dCIsInRyaW1FbmQiLCJsYXlvdXREYXRhIiwib2Zmc2V0WSIsImxpbmVzIiwiY2hhclBvc2l0aW9ucyIsInNwYWNlV2lkdGgiLCJzcGFjZXNJbmRleCIsImN1cnJlbnRMaW5lIiwicHJldmlvdXNDaGFyIiwiZmlyc3RXb3JkIiwiY3VycmVudFdvcmQiLCJzcGFjZVdvcmQiLCJuZXh0V29yZCIsIndvcmQiLCJwb3NpdGlvbiIsIm5leHRMaW5lIiwibGFzdENoYXIiLCJhZGp1c3RlZExldHRlclNwYWNpbmciLCJsZXR0ZXJTcGFjaW5nIiwiYWRqdXN0ZWRXb3JkV3JhcFdpZHRoIiwid29yZFdyYXBXaWR0aCIsImlzRW5kIiwiY2hhckRhdGEiLCJ0ZXN0Iiwid29yZFdyYXAiLCJuZXh0Q2hhcldpZHRoIiwiYWxpZ24iLCJtZWFzdXJlbWVudERhdGEiLCJsaW5lIiwiYWxpZ25DZW50ZXIiLCJhbGlnblJpZ2h0IiwiaW5keSIsInNwYWNlSW5kZXgiLCJ0b3RhbFNwYWNlcyIsImFsaWduSnVzdGlmeSIsImZvbnRDb3VudCIsIkJpdG1hcEZvbnRNYW5hZ2VyIiwiQUxQSEEiLCJOVU1FUklDIiwiQUxQSEFOVU1FUklDIiwiQVNDSUkiLCJnZXRGb250IiwiZm9udEZhbWlseUtleSIsInN0eWxlS2V5Iiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJDYWNoZSIsImhhcyIsImZudCIsIm9uY2UiLCJkeW5hbWljRm9udCIsImdldExheW91dCIsImJpdG1hcEZvbnQiLCJpbnN0YWxsIiwidGV4dFN0eWxlIiwiZmxhdENoYXJzIiwidW5pbnN0YWxsIiwiY2FjaGVLZXkiLCJCaXRtYXBUZXh0UGlwZSIsIl9ncHVCaXRtYXBUZXh0IiwiYml0bWFwVGV4dCIsImdyYXBoaWNzUmVuZGVyYWJsZSIsIl9nZXRHcHVCaXRtYXBUZXh0IiwiX2RpZFRleHRVcGRhdGUiLCJfdXBkYXRlQ29udGV4dCIsInN5bmNXaXRoUHJveHkiLCJfdXBkYXRlRGlzdGFuY2VGaWVsZCIsIl9kZXN0cm95UmVuZGVyYWJsZUJ5VWlkIiwicmVuZGVyYWJsZVVpZCIsInByb3h5R3JhcGhpY3MiLCJiaXRtYXBUZXh0TGF5b3V0IiwiX2FuY2hvciIsIl94IiwiX3kiLCJ0aW50Iiwicm91bmQiLCJpbml0R3B1VGV4dCIsInByb3h5UmVuZGVyYWJsZSIsIkdyYXBoaWNzIiwiZHgiLCJzcXJ0IiwiZHkiLCJ3b3JsZFNjYWxlIiwiYWJzIiwicHJveHkiLCJncm91cENvbG9yIiwiZ3JvdXBBbHBoYSIsIkhUTUxUZXh0UGlwZSIsIl9ncHVUZXh0IiwicnVubmVycyIsInJlc29sdXRpb25DaGFuZ2UiLCJncHVUZXh0IiwiX2F1dG9SZXNvbHV0aW9uIiwib25WaWV3VXBkYXRlIiwiaHRtbFRleHQiLCJfZ2V0R3B1VGV4dCIsIm5ld0tleSIsIl9nZXRLZXkiLCJ0ZXh0dXJlTmVlZHNVcGxvYWRpbmciLCJjdXJyZW50S2V5IiwiX3VwZGF0ZVRleHQiLCJfZGVzdHJveVJlbmRlcmFibGVCeUlkIiwiaHRtbFRleHRVaWQiLCJkZWNyZWFzZVJlZmVyZW5jZUNvdW50IiwiX3VwZGF0ZUdwdVRleHQiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJ1cGRhdGVRdWFkQm91bmRzIiwiZ2VuZXJhdGluZ1RleHR1cmUiLCJnZXRNYW5hZ2VkVGV4dHVyZSIsImdwdVRleHREYXRhIiwibnNzdmciLCJuc3hodG1sIiwiSFRNTFRleHRSZW5kZXJEYXRhIiwic3ZnUm9vdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiZm9yZWlnbk9iamVjdCIsImRvbUVsZW1lbnQiLCJzdHlsZUVsZW1lbnQiLCJpbWFnZSIsIkltYWdlIiwic2V0QXR0cmlidXRlIiwib3ZlcmZsb3ciLCJhcHBlbmRDaGlsZCIsImRyb3BTaGFkb3dUb0NTUyIsImRyb3BTaGFkb3dTdHlsZSIsInNldEFscGhhIiwidG9IZXhhIiwic3Ryb2tlVG9DU1MiLCJ0b0hleCIsInRlbXBsYXRlcyIsImZvbnRXZWlnaHQiLCJmb250VmFyaWFudCIsIndoaXRlU3BhY2UiLCJicmVha1dvcmRzIiwiSFRNTFRleHRTdHlsZSIsIl9jc3NPdmVycmlkZXMiLCJjc3NPdmVycmlkZXMiLCJ0YWdTdHlsZXMiLCJfZ2VuZXJhdGVLZXkiLCJfc3R5bGVLZXkiLCJnZW5lcmF0ZVRleHRTdHlsZUtleSIsIl9jc3NTdHlsZSIsImNzc1N0eWxlIiwiY3NzU3R5bGVzIiwidGFnU3R5bGUiLCJjc3NUYWdTdHlsZSIsInRhZ1N0eWxlVG9DU1MiLCJ0ZXh0U3R5bGVUb0NTUyIsImFkZE92ZXJyaWRlIiwidG9BZGQiLCJ2IiwicmVtb3ZlT3ZlcnJpZGUiLCJ0b1JlbW92ZSIsImFzeW5jIiwibG9hZEZvbnRDU1MiLCJ1cmwiLCJkYXRhU3JjIiwicmVzcG9uc2UiLCJmZXRjaCIsImJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbmxvYWRlbmQiLCJvbmVycm9yIiwicmVhZEFzRGF0YVVSTCIsImxvYWRGb250QXNCYXNlNjQiLCJGb250U3R5bGVQcm9taXNlQ2FjaGUiLCJNYXAiLCJ0ZW1wSFRNTFRleHRSZW5kZXJEYXRhIiwiSFRNTFRleHRTeXN0ZW0iLCJfYWN0aXZlVGV4dHVyZXMiLCJfY3JlYXRlQ2FudmFzIiwiV0VCR1BVIiwiZ2V0VGV4dHVyZSIsIl9idWlsZFRleHR1cmVQcm9taXNlIiwidGV4dEtleSIsIl9pbmNyZWFzZVJlZmVyZW5jZUNvdW50IiwicHJvbWlzZSIsInRoZW4iLCJ1c2FnZUNvdW50IiwiaHRtbFRleHREYXRhIiwiZm9udEZhbWlsaWVzIiwiZGVkdXBlIiwibWF0Y2hlcyIsIm1hdGNoIiwiYWRkRm9udEZhbWlseSIsImZvbnRGYW1pbHkyIiwic3BsaXQiLCJ0cmltIiwiZXh0cmFjdEZvbnRGYW1pbGllcyIsImZvbnRDU1MiLCJmb250UHJvbWlzZXMiLCJhbGwiLCJnZXRGb250Q3NzIiwiZGVmYXVsdFRleHRTdHlsZSIsIm1lYXN1cmVkIiwiZm9udFN0eWxlQ1NTIiwiaHRtbFRleHRSZW5kZXJEYXRhIiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJib2R5IiwiY29udGVudEJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImRlc2NlbmRlclBhZGRpbmciLCJkb3VibGVQYWRkaW5nIiwibWVhc3VyZUh0bWxUZXh0Iiwic3ZnVVJMIiwiWE1MU2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwiZ2V0U1ZHVXJsIiwiZGVsYXkiLCJyZXNvbHZlMiIsInNldFRpbWVvdXQiLCJvbmxvYWQiLCJzcmMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjcm9zc09yaWdpbiIsImxvYWRTVkdJbWFnZSIsInVzZXJBZ2VudCIsImdldE5hdmlnYXRvciIsImlzU2FmYXJpIiwiY2xlYXJSZWN0IiwiZHJhd0ltYWdlIiwiZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlIiwiZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UiLCJpbml0U291cmNlIiwiYWN0aXZlVGV4dHVyZSIsIl9jbGVhblVwIiwidXBsb2FkTWV0aG9kSWQiLCJnZXRSZWZlcmVuY2VDb3VudCIsIkNhbnZhc1N5c3RlbSIsImRlZmF1bHRGb250T3B0aW9ucyIsIl9UZXh0U3R5bGUiLCJvbGRTdHlsZSIsImRlZmF1bHRzIiwiZGVmYXVsdERyb3BTaGFkb3ciLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Q29sb3IiLCJvYmoiLCJpc0NvbG9yTGlrZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImZpbGxHcmFkaWVudFN0b3BzIiwicGFyc2VJbnQiLCJncmFkaWVudEZpbGwiLCJmaWxscyIsInRvTnVtYmVyIiwibnVtYmVyIiwicmF0aW8iLCJhZGRDb2xvclN0b3AiLCJjb252ZXJ0VjdUb3Y4U3R5bGUiLCJmdWxsU3R5bGUiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2NyZWF0ZVByb3h5IiwiX2ZvbnRGYW1pbHkiLCJfZm9udFNpemUiLCJfZm9udFN0eWxlIiwiX2ZvbnRWYXJpYW50IiwiX2ZvbnRXZWlnaHQiLCJsZWFkaW5nIiwiX2xlYWRpbmciLCJfbGV0dGVyU3BhY2luZyIsIl9saW5lSGVpZ2h0IiwiX3RyaW0iLCJfdGV4dEJhc2VsaW5lIiwiX3doaXRlU3BhY2UiLCJfd29yZFdyYXAiLCJfd29yZFdyYXBXaWR0aCIsIl9vcmlnaW5hbEZpbGwiLCJfaXNGaWxsU3R5bGUiLCJkZWZhdWx0RmlsbFN0eWxlIiwiX29yaWdpbmFsU3Ryb2tlIiwiZGVmYXVsdFN0cm9rZVN0eWxlIiwiZGVmYXVsdFN0eWxlIiwiZGVzdHJveVRleHR1cmVTb3VyY2UiLCJjYiIsIlByb3h5IiwicHJvcGVydHkiLCJuZXdWYWx1ZSIsIlBJIiwiY29udGV4dFNldHRpbmdzIiwid2lsbFJlYWRGcmVxdWVudGx5IiwiX0NhbnZhc1RleHRNZXRyaWNzIiwiZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1N1cHBvcnRlZCIsIl9leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nU3VwcG9ydGVkIiwicHJvdG8iLCJnZXRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiLCJwcm90b3R5cGUiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiX2NhbnZhcyIsIl9tZWFzdXJlbWVudENhY2hlIiwiX19jb250ZXh0IiwiX21lYXN1cmVUZXh0Iiwic3Ryb2tlV2lkdGgiLCJ1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nIiwiZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyIsInRleHRMZXR0ZXJTcGFjaW5nIiwiZ3JhcGhlbWVTZWdtZW50ZXIiLCJjYWNoZSIsImNvbGxhcHNlU3BhY2VzIiwiX2NvbGxhcHNlU3BhY2VzIiwiY29sbGFwc2VOZXdsaW5lcyIsIl9jb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsIl90b2tlbml6ZSIsInRva2VuIiwiX2lzTmV3bGluZSIsIl9hZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiX2dldEZyb21DYWNoZSIsImNhbkJyZWFrV29yZHMiLCJjaGFyYWN0ZXJzIiwid29yZFdyYXBTcGxpdCIsImsiLCJuZXh0Q2hhciIsImNhbkJyZWFrQ2hhcnMiLCJjaGFyYWN0ZXJXaWR0aCIsImlzTGFzdFRva2VuIiwibmV3TGluZSIsIl90cmltUmlnaHQiLCJfbmV3bGluZXMiLCJfbmV4dENoYXIiLCJfYnJlYWtpbmdTcGFjZXMiLCJfdG9rZW4iLCJfY2hhciIsIl9pbmRleCIsIl9mb250cyIsIl9jb250ZXh0IiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJwcm9wZXJ0aWVzIiwiYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQiLCJhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQiLCJjbGVhck1ldHJpY3MiLCJfX2NhbnZhcyIsIk9mZnNjcmVlbkNhbnZhcyIsImV4IiwiQkFTRUxJTkVfTVVMVElQTElFUiIsIkhFSUdIVF9NVUxUSVBMSUVSIiwiSW50bCIsIlNlZ21lbnRlciIsInNlZ21lbnRlciIsInMiLCJzZWdtZW50IiwiZ2VuZXJpY0ZvbnRGYW1pbGllcyIsImZvbnRTaXplU3RyaW5nIiwicGF0dGVybiIsImNyZWF0ZVBhdHRlcm4iLCJzZXRUcmFuc2Zvcm0iLCJmaWxsUGF0dGVybiIsImZpbGxHcmFkaWVudCIsImdyYWRpZW50IiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJ4MCIsInkwIiwieDEiLCJ5MSIsImdyYWRpZW50U3RvcHMiLCJDYW52YXNUZXh0UGlwZSIsImNhbnZhc1RleHQiLCJnZXRUZXh0dXJlU2l6ZSIsInRleHRVaWQiLCJjaGVja1JvdyIsImNoZWNrQ29sdW1uIiwidG9wIiwiYm90dG9tIiwiQ2FudmFzVGV4dFN5c3RlbSIsIl90ZXh0S2V5IiwiY3JlYXRlVGV4dHVyZUFuZENhbnZhcyIsInJlbmRlclRleHRUb0NhbnZhcyIsInRyaW1tZWQiLCJUeXBlRXJyb3IiLCJnZXRJbWFnZURhdGEiLCJsZWZ0IiwicmlnaHQiLCJnZXRDYW52YXNCb3VuZGluZ0JveCIsInJlc2V0VHJhbnNmb3JtIiwibGluZUNhcCIsImNhcCIsImxpbmVQb3NpdGlvblgiLCJsaW5lUG9zaXRpb25ZIiwicGFzc2VzQ291bnQiLCJpc1NoYWRvd1Bhc3MiLCJkc09mZnNldFRleHQiLCJkc09mZnNldFNoYWRvdyIsInRvUmdiYVN0cmluZyIsImdsb2JhbEFscGhhIiwibGluZVBvc2l0aW9uWVNoaWZ0IiwiX2RyYXdMZXR0ZXJTcGFjaW5nIiwiaXNTdHJva2UiLCJjdXJyZW50UG9zaXRpb24iLCJzdHJpbmdBcnJheSIsInByZXZpb3VzV2lkdGgiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50Q2hhciIsInRleHRTdHIiLCJ2YWx1ZXNUb0l0ZXJhdGVGb3JLZXlzIiwicHJvcCIsImFkZEZpbGxTdHlsZUtleSIsImFsaWdubWVudCIsImFkZFN0b2tlU3R5bGVLZXkiLCJhZGREcm9wU2hhZG93S2V5IiwidGVtcEJvdW5kcyJdLCJzb3VyY2VSb290IjoiIn0=